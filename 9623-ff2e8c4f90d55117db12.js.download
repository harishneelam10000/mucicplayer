(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9623],{23085:function(e,t,n){"use strict";n.d(t,{c:function(){return b}});var r=n(87795),i=n(43576),o=n(87909),a=n(80274),s=n(79884),c=n(69992),u=n(61250),l=function(e){var t=e.close,n=function(){var e=(0,a.w)();return(0,i.jW)((function(){return e.clients.git.resetLocalWithRemote()}))}(),c=(0,r.Z)(n,2),l=c[0],d=c[1],f=(0,o.tA)();return(0,i.Dm)(l,"RESOLVED",t),(0,i.Dm)(l,"REJECTED",(function(){f({message:"Not able to reset to remote, please try again",status:"error"})})),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Vq.Title,{children:"Are you sure you want to reset to remote?"}),(0,u.jsx)(s.Vq.Description,{children:"You will lose any changes and history that diverge with the remote state. Are you sure you want to continue?"}),(0,u.jsxs)(s.Kq,{css:{justifyContent:"flex-end"},horizontal:!0,children:[(0,u.jsx)(s.zx,{disabled:"PENDING"===l.state,onClick:function(){t()},children:"No, cancel"}),(0,u.jsx)(s.zx,{loading:"PENDING"===l.state,onClick:function(){d()},variant:"primary",children:"Yes, reset"})]})]})},d=n(67855),f=n(44173),p=n(76625),h=n(29168),b=function(e){var t=e.event_source,n=(0,f.k)(),i=(0,r.Z)(n,2),o=i[0],a=i[1],s=(0,d.PY)().privateRepo,u=(0,h.a)().restrictsPublicRepos,b=(0,p.z$)(),v=(0,c.J)(l);return{name:"Reset branch to remote",perform:function(){"AUTHENTICATED"!==o.state||u?a.signIn({type:"github",includedScopes:s?"private_repos":"public_repos"}):(b("reset_branch_to_remote",{event_source:t}),v.open())},subtitle:"Reset branch to remote state"}}},11962:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(79884),i=n(85904),o=function(){var e=(0,r.nH)((function(e){return{visualState:e.visualState,currentRootActionId:e.currentRootActionId}})),t=e.query,n=e.visualState,o=e.currentRootActionId;return{name:"Create branch",perform:function(){t.setCurrentRootAction(i.X.createBranch.id),"hidden"!==n&&o!==i.X.createBranch.id||t.toggle()}}}},13300:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(79884),i=n(85904),o=function(){var e=(0,r.nH)((function(e){return{visualState:e.visualState,currentRootActionId:e.currentRootActionId}})),t=e.query,n=e.visualState,o=e.currentRootActionId;return{name:"Change branch",binding:"$mod+Shift+B",perform:function(){t.setCurrentRootAction(i.X.switchBranch.id),"hidden"!==n&&o!==i.X.switchBranch.id||t.toggle()}}}},7275:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(950),i=n(76625),o=function(e){var t=e.source,n=void 0===t?"ui":t,o=e.panelId,a=e.path,s=(0,r.bX)(),c=(0,i.z$)();return{name:"Open documentation",binding:"$mod+Shift+O",perform:function(){s({type:"OPEN_TAB",tab:{type:"DOCS",path:a},panelId:o,forceNewTab:!0}),c("open_docs",{event_source:n})}}}},96347:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(51221),i=n(45934),o=n.n(i),a=n(87909),s=n(80274),c=n(76625);function u(e){var t=document.createElement("a");t.href=e,t.download="",t.click(),t.remove()}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:""},t=(0,c.z$)(),n=(0,s.w)(),i=(0,a.tA)();return{name:"Download "+e.type,perform:function(){var a=(0,r.Z)(o().mark((function r(){var a,s,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=void 0,e.fileId&&(s=n.clients.file.getPathFromFileId(e.fileId))&&(a=n.clients.fs.relativeToAbsoluteWorkspacePath(s)),t("download",{tag:e.type}),r.prev=3,r.next=6,n.clients.fs.download(a);case 6:c=r.sent,u(c.downloadUrl),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),r.t0 instanceof Error?i({message:"Failed to download zip: "+r.t0.message,status:"error"}):i({message:"Failed to download zip",status:"error"});case 14:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(){return a.apply(this,arguments)}}()}}},37237:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(87795),i=n(950),o=n(67855),a=n(94758),s=n(76625),c=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),c=(n[0],n[1]),u=(0,i.bX)(),l=(0,a.t)(),d=(0,o.PY)().allowedCapabilities,f=(0,s.z$)(),p=d.terminal?(0,i.createTab)({type:"NEW_TERMINAL"}):null;return{name:"Alternative layout",binding:"$mod+Shift+KeyS",perform:function(){f("layout_alternative",{event_source:e}),c({showSidebar:!0,showDevtools:!0,showShells:!0}),u({type:"RESET_LAYOUT",layoutType:"ALTERNATIVE",fallbackEditorTab:l,fallbackShellTab:p})}}}},73640:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(87795),i=n(950),o=n(67855),a=n(94758),s=n(76625),c=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),c=(n[0],n[1]),u=(0,i.bX)(),l=(0,a.t)(),d=(0,o.PY)().allowedCapabilities,f=(0,s.z$)(),p=d.terminal?(0,i.createTab)({type:"NEW_TERMINAL"}):null;return{name:"Default layout",binding:"$mod+Shift+KeyA",perform:function(){f("layout_default",{event_source:e}),c({showSidebar:!0,showDevtools:!0,showShells:!0}),u({type:"RESET_LAYOUT",layoutType:"DEFAULT",fallbackEditorTab:l,fallbackShellTab:p})}}}},64101:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var r=n(87795),i=n(950),o=n(67855),a=n(94758),s=n(76625),c=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),c=(n[0],n[1]),u=(0,i.bX)(),l=(0,a.t)(),d=(0,o.PY)().allowedCapabilities,f=(0,s.z$)(),p=d.terminal?(0,i.createTab)({type:"NEW_TERMINAL"}):null;return{name:"Embed preview",perform:function(){f("layout_embed",{event_source:e}),c({showSidebar:!1,showShells:!1,showDevtools:!0}),u({type:"RESET_LAYOUT",layoutType:"EMBED",fallbackEditorTab:l,fallbackShellTab:p})}}}},97980:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var r=n(87795),i=n(950),o=n(76625),a=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),a=n[0],s=a.showDevtools,c=a.showShells,u=n[1],l=(0,o.z$)();return{name:"Focus mode",binding:"$mod+Shift+KeyX",perform:function(){l("layout_focus_mode",{event_source:e});var t=!s&&!c;u({showSidebar:!0,showShells:t,showDevtools:t})}}}},97613:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(87795),i=n(950),o=n(76625),a=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),a=n[0].showDevtools,s=n[1],c=(0,o.z$)();return{name:a?"Hide devtools":"Show devtools",binding:"$mod+Shift+D",altBinding:"$mod+'",perform:function(){c(a?"layout_hide_devtools":"layout_show_devtools",{event_source:e}),s({showDevtools:!a})}}}},28513:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(87795),i=n(950),o=n(76625),a=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),a=n[0].showShells,s=n[1],c=(0,o.z$)();return{name:a?"Hide tasks and terminals":"Show tasks and terminals",binding:"$mod+J",perform:function(){c(a?"layout_hide_shells":"layout_show_shells",{event_source:e}),s({showShells:!a})}}}},4313:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(87795),i=n(950),o=n(76625),a=function(e){var t=(0,i.Hv)(),n=(0,r.Z)(t,2),a=n[0].showSidebar,s=n[1],c=(0,o.z$)();return{name:a?"Hide sidebar":"Show sidebar",binding:"$mod+B",perform:function(){c(a?"layout_hide_sidebar":"layout_show_sidebar",{event_source:e}),s({showSidebar:!a})}}}},85904:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(55397),i=n(21003),o=n(36774),a={kanbanBranchSearch:{id:(0,r.newCuid)(),name:"Branch search",subtitle:"Search for branch",icon:(0,o.Ce)("search"),section:i.N.search},teamProjectSearch:{id:(0,r.newCuid)(),name:"Projects",icon:(0,o.Ce)("search"),section:i.N.search,subtitle:"Search projects"},fileSearch:{id:(0,r.newCuid)(),name:"File search",subtitle:"Search files",icon:(0,o.Ce)("search"),section:i.N.fileSearch},switchBranch:{id:(0,r.newCuid)(),name:"Change branch",icon:(0,o.Ce)("branch"),section:i.N.git},createBranch:{id:(0,r.newCuid)(),name:"Create branch",icon:(0,o.Ce)("branch"),section:i.N.git},renameBranch:{id:(0,r.newCuid)(),name:"Rename current branch",icon:(0,o.Ce)("branch"),section:i.N.git,subtitle:"Rename current branch"},resetLocalToRemote:{id:(0,r.newCuid)(),name:"Reset branch to remote",icon:(0,o.Ce)("terminal"),section:i.N.branch,subtitle:"Reset branch"},createTask:{id:(0,r.newCuid)(),name:"New task",icon:(0,o.Ce)("caret"),section:i.N.devtools},promptAI:{id:(0,r.newCuid)(),name:"AI",icon:(0,o.Ce)("sparkle"),section:i.N.ai,priority:9999},promptInpectorAi:{id:(0,r.newCuid)(),name:"Inspector",icon:(0,o.Ce)("sparkle"),section:i.N.ai,priority:9999}}},21003:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r={copy:"Copy",devtools:"DevTools",editor:"Editor",fileSearch:"File system",git:"Git",integrations:"Integrations",layout:"Layout",navigation:"Navigate",search:"Search",switchBranch:"Change branch",workflow:"Workflow",branch:"Branch",ai:"Assistant",help:"Help"}},84142:function(e,t,n){"use strict";n.d(t,{W:function(){return c},K:function(){return u}});var r=n(41669),i=n(55397),o=n(91319);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(s({id:(0,i.newCuid)(),shortcut:e.binding?u(e.binding):void 0},t),e)},u=function(e){return e.split("+").map((function(e){var t;return null!==(t=o.o[e])&&void 0!==t?t:e.replace("Key","")}))}},36774:function(e,t,n){"use strict";n.d(t,{O0:function(){return l},Ce:function(){return d},LP:function(){return f}});var r=n(41669),i=n(79884),o=n(22209),a=n(61250);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.type;return(0,a.jsx)(i.JO,{size:4,type:t})},l=function(e){return(0,a.jsx)(i.qE,c(c({},e),{},{shape:"circle",size:"s"}))},d=function(e){return(0,a.jsx)(u,{type:e})},f=function(e){var t=(0,o.L)(e)||"file";return d(t)}},97101:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r=n(95638),i=n(77463),o=n(79884),a=n(29901),s=n(61250),c=(0,o.F4)({"0%":{backgroundPosition:"200% 0%"},"100%":{backgroundPosition:"0% 0%"}}),u=(0,o.zo)(o.xu,{position:"fixed",top:0,left:0,height:"$1",variants:{theme:{default:{background:"$accent-secondary-base"},pride:{animation:"".concat(c," 4s linear infinite"),background:"linear-gradient(90deg, ".concat(["#D81919","#F77F42","#FDCA01","#4FD1A3","#1871C3","#481F66","#28191C","#6F3728","#B6DCFF","#FFC2C2","#FFFFFF","#D81919","#F77F42","#FDCA01","#4FD1A3","#1871C3","#481F66","#28191C","#6F3728","#B6DCFF","#FFC2C2","#FFFFFF","#D81919"].join(","),")"),backgroundSize:"200vw 100%"}}}}),l=function(e){var t=e.children,n=e.loadingBarProgress,c=e.loadingBarSpeed,l=void 0===c?8:c,d=e.loadingBarStart,f=e.loadingBarEnd,p=e.theme,h=void 0===p?"default":p,b=(0,r._)();return(0,a.useEffect)((function(){if(null!=n){null!=d&&b.set({width:d+"%"}),b.start({width:n+"%"});var e=setTimeout((function(){b.start({width:Math.min(100,null!==f&&void 0!==f?f:n+20)+"%",transition:{duration:l}})}),100);return function(){clearTimeout(e)}}}),[n,l,d]),(0,s.jsxs)(o.Kq,{css:{position:"relative",height:"100%"},children:[null!==n&&(0,s.jsx)(u,{animate:b,as:i.E.div,css:{$$progress:n,$$duration:l},layoutId:"loading-bar",theme:h}),(0,s.jsxs)(o.xu,{css:{flexGrow:1,alignItems:"center",display:"flex",height:"100%",flexDirection:"column",justifyContent:"center"},children:[(0,s.jsx)(o.gb,{size:11,theme:h}),(0,s.jsx)(o.xu,{css:{textAlign:"center",maxWidth:"65ch",minWidth:"200px",px:"$2",paddingTop:"$6"},children:t})]})]})}},69073:function(e,t,n){"use strict";n.d(t,{N:function(){return v}});var r=n(87795),i=n(43576),o=n(34854),a=n(3964),s=n(80274),c=n(44173),u=n(77837),l=n.n(u),d=n(79884),f=n(29901),p=n(61250),h=function(e){var t=e.message;return(0,p.jsxs)(d.Kq,{css:{display:"flex",alignItems:"center",color:"$informative-error-base",padding:"$3"},horizontal:!0,children:[(0,p.jsx)(d.JO,{size:4,type:"circleBang"}),(0,p.jsx)(d.WX,{color:"inherit",children:t})]})},b=function(e){var t=e.message;return(0,p.jsxs)(d.Kq,{css:{display:"flex",alignItems:"center",padding:"$3"},horizontal:!0,children:[(0,p.jsx)(d.JO,{size:4,type:"circle"}),(0,p.jsx)(d.WX,{children:t})]})},v=(0,f.forwardRef)((function(e,t){var n=e.readonly,u=void 0!==n&&n,v=e.variant,m=void 0===v?"command":v,g=(0,o.E)().terminal.createTerminal,y=(0,c.k)(),E=(0,r.Z)(y,1)[0],O=(0,d.J)(),P=(0,s.l)(),x=(0,f.useRef)(null),j=(0,f.useRef)(null),w=(0,f.useRef)({rows:1,cols:1}),T=(0,f.useRef)(),S=(0,a.St)(),I=(0,r.Z)(S,2),R=I[0],A=I[1],C=u||"command"===m;return(0,f.useEffect)((function(){if("INITIALIZING"===R.state&&null!==j.current){var e=j.current.getBoundingClientRect(),t=function(e,t){return{rows:Math.floor(t/20),cols:Math.floor(e/8)}}(e.width,e.height),n=t.cols,r=t.rows;R.shellId&&P.shell.openShell(R.shellId,{rows:r,cols:n})}}),[R.state]),(0,f.useEffect)((function(){if("READY"===R.state&&null!==x.current){var e=x.current,t={};return g({onPath:function(e,t,n){A({type:"PATH_CLICK",path:e,isAbsolute:t,position:n})},onUrl:function(e){A({type:"URL_CLICK",url:e})}},{cursorBlink:!C,cursorStyle:C?"underline":"bar",fontFamily:"FiraCode, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier, monospace",theme:{background:"command"===m?O.colors["neutral-bg-medium"]:O.colors["support-system-terminal"],foreground:"#E5E5E5",brightGreen:"#85CEA8",brightMagenta:O.colors["accent-secondary-base"],magenta:"#7660B9",green:"#319382",yellow:O.colors["informative-warning-base"],brightYellow:O.colors["informative-warning-base"],red:O.colors["informative-error-base"],brightRed:"#808080",brightCyan:O.colors["accent-primary-base"]},fontSize:13,lineHeight:1.3}).then((function(n){var i=n.term,o=n.fit,a=l()((function(){if(e.clientWidth){o();var t=i.cols,n=i.rows;w.current={cols:t,rows:n},"AUTHENTICATED"===E.state&&E.user.username.toLowerCase()===R.ownerUsername&&P.shell.resizeShell(R.id,w.current)}}),50),s=new ResizeObserver((function(e){(0,r.Z)(e,1)[0].contentRect.height<10||a()}));t.resizeObserver=s,s.observe(e),i.open(e);var c=R.buffer;c.length>1&&(c.slice(-1),c.forEach((function(e){i.writeln(e)})));var u=c[c.length-1];""!==u&&i.write(u),P.shell.listenShell(R.id,(function(e){i.write(e)})),i.onData((function(e){return P.shell.writeToShell(R.id,e,w.current)})),C||i.focus(),T.current=i})),function(){var e,n;null===(e=t.resizeObserver)||void 0===e||e.disconnect(),null===(n=t.xterm)||void 0===n||n.dispose(),P.shell.closeShell(R.id)}}}),[R.state]),(0,f.useImperativeHandle)(t,(function(){return{focus:function(){var e;null===(e=T.current)||void 0===e||e.focus()},clear:function(){var e;null===(e=T.current)||void 0===e||e.clear()}}})),(0,p.jsx)(d.xu,{ref:j,css:{height:"100%",position:"relative"},children:(0,i.EQ)(R,{CONNECTING:function(){return(0,p.jsx)(b,{message:"Connecting"})},INITIALIZING:function(){return(0,p.jsx)(b,{message:"Connecting"})},ERROR:function(e){var t=e.error;return(0,p.jsx)(h,{message:t})},READY:function(){return(0,p.jsx)(d.xu,{css:{height:"100%",opacity:u?.8:1},children:(0,p.jsx)("div",{ref:x,style:{height:"100%"}})})}})})}))},6762:function(e,t,n){"use strict";n.d(t,{d:function(){return r},n:function(){return i}});var r=function(e,t,n){if(!n)return t;var r="csb-".concat(e),i="".concat(r,"/");return t.startsWith(i)?t:"".concat(i).concat(t)},i=function(e,t,n){if(!n)return t;var r="csb-".concat(e),i="".concat(r,"/");return t.startsWith(i)?t.replace(i,""):t}},69992:function(e,t,n){"use strict";n.d(t,{D:function(){return c},J:function(){return u}});var r=n(41669),i=n(29901),o=n(61250);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,i.createContext)(null),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxWidth,r=t.closeOnInteractOutside,a=(0,i.useContext)(c),u=function(){a((function(e){return s(s({},e),{},{open:!1})}))};return{close:u,open:function(){a({open:!0,maxWidth:n,closeOnInteractOutside:r,children:(0,o.jsx)(e,s(s({},arguments.length<=0?void 0:arguments[0]),{},{close:u}))})}}}},90263:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(87795),i=n(83587),o=n(43590),a=n(79884),s=n(76625),c=n(91319),u=n(94449),l={addDatabasesAndServers:{imageSrc:(0,u.wE)("/images/onboarding/add-database-and-servers.png"),imageAlt:"",text:"Go limitless and build full-stack apps with our Docker support.",title:"Add databases and servers"},welcomeToCodesandbox:{imageSrc:(0,u.wE)("/images/onboarding/welcome-to-cloud-sandboxes.png"),imageAlt:"",text:"Our sandboxes are more powerful than ever! Take a quick tour to find out what\u2019s new.",title:"Welcome to Cloud Sandboxes!"},runYourCodeInTheCloud:{imageSrc:(0,u.wE)("/images/onboarding/run-your-code-in-the-cloud.png"),imageAlt:"",text:"Your code runs in our powerful micro VMs, starting at anytime in 1 sec.",title:"Run your code in the cloud"},getInstantFeedback:{imageSrc:(0,u.wE)("/images/onboarding/get-instant-feedback.png"),imageAlt:"",text:"People opening this URL can instantly see your running code, review it and merge changes.",title:"Get instant feedback"},startWithABranch:{imageSrc:(0,u.wE)("/images/onboarding/start-with-a-branch.png"),imageAlt:"",text:"Quickly branch any repo to start coding and easily commit changes and create pull requests.",title:"Start with a branch"},usePowerfulDevtools:{imageSrc:(0,u.wE)("/images/onboarding/use-powerful-dev-tools.png"),imageAlt:"",text:"Stay in flow by opening previews and chatting with Boxy (AI assistant) in the editor.",title:"Use powerful devtools"},runTerminalAndTasks:{imageSrc:(0,u.wE)("/images/onboarding/run-terminals-and-tasks.png"),imageAlt:"",text:"Quickly access all the processes that are running in the VM and start new tasks with a click.",title:"Run terminals and tasks"},useVSCode:{imageSrc:(0,u.wE)("/images/onboarding/open-in-vscode.png"),imageAlt:"",text:"Have an amazing VS Code setup? Integrate it seamlessly.",title:"Use our editor or VS Code"},codeInDefaultBranch:{imageSrc:(0,u.wE)("/images/onboarding/code-in-default-branch.png"),imageAlt:"",text:"You can now unprotect the default branch to commit right away. This is great if you are working as solo developer or in a small project.",title:"Code in the default branch"},commandPalette:{imageSrc:(0,u.wE)("/images/onboarding/command-palette.png"),imageAlt:"",text:"You can access nearly all the functionalities of CodeSandbox from your keyboard with ",title:"Power through with commands"},rearrangeLayout:{imageSrc:(0,u.wE)("/images/onboarding/rearrange-layout.png"),imageAlt:"",text:"Make the editor your own by dragging tabs and rearranging them into your preferred layout.",title:"Rearrange layouts"}},d=n(61250),f=function(e){var t=e.cardType,n=e.title,r=e.text,i=e.headerContent,o=e.index,s=e.children,u=e.extraActions,l=e.isCurrentStep,f=e.onCloseCard,p=e.onNextCard,h=e.totalSteps,b=e.closeButtonText,v=void 0===b?"Close":b,m=e.showStepCount,g=void 0===m||m;return(0,d.jsx)(a.J2,{contentProps:{onEscapeKeyDown:f,css:{zIndex:"$top"}},padding:"none",rootProps:{open:l},trigger:s,variant:"illustration",showArrow:!0,children:(0,d.jsxs)(a.xu,{css:{position:"relative",maxWidth:278},children:[(0,d.jsx)(a.xu,{css:{display:"flex",alignItems:"center",justifyContent:"center"},children:i}),(0,d.jsx)(a.xu,{css:{display:"flex",alignItems:"center",justifyContent:"center",background:"$neutral-bg-medium",padding:"$4"},children:(0,d.jsxs)(a.Kq,{gap:2,children:[(0,d.jsx)(a.xv,{color:"neutral-fg-high",children:n}),(0,d.jsxs)(a.nv,{children:[r,"commandPalette"===t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.lr,{children:c.o.$mod})," +",(0,d.jsx)(a.lr,{children:"K"})]})]}),(0,d.jsxs)(a.Kq,{css:{marginTop:"$2",justifyContent:"space-between"},horizontal:!0,children:[(0,d.jsx)(a.xu,{children:g?(0,d.jsxs)(a.xv,{children:[o+1,"/",h]}):null}),(0,d.jsxs)(a.Kq,{gap:2,horizontal:!0,children:[u,(0,d.jsx)(a.zx,{onClick:p,variant:"primary",children:h===o+1?v:"Next"})]})]})]})}),(0,d.jsx)(a.xu,{as:"button",css:{color:"$neutral-fg-base",position:"absolute",display:"flex",outline:"none",top:4,right:4,padding:"$2",transition:"color $fast","&:hover":{color:"$neutral-fg-medium"},"&:focus":{color:"$neutral-fg-medium"}},onClick:f,children:(0,d.jsx)(a.JO,{size:3,type:"close"})})]})})},p=function(e){var t=e.children,n=e.cardType,c=e.index,u=e.extraActions,p=e.onNextCard,h=l[n],b=(0,i.kc)(),v=(0,r.Z)(b,2),m=v[0],g=v[1],y=(0,s.z$)();if("INACTIVE"===m.state||"ERROR"===m.state)return t||null;var E=m.currentStep===c;return(0,d.jsx)(f,{cardType:n,extraActions:u,headerContent:(0,d.jsx)(o.default,{alt:h.imageAlt,height:116,src:h.imageSrc,width:278}),index:c,isCurrentStep:E,onCloseCard:function(){y("onboarding_close_card",{event_source:"editor"}),g({type:"END_ONBOARDING"})},onNextCard:function(){c+1===m.totalSteps?y("onboarding_complete",{event_source:"editor"}):y("onboarding_next_card",{event_source:"editor"}),null===p||void 0===p||p(),g({type:"NEXT_STEP"})},text:h.text,title:h.title,totalSteps:m.totalSteps,children:(0,d.jsx)(a.xu,{children:t})})}},58882:function(e,t,n){"use strict";n.d(t,{p:function(){return r.p},t:function(){return f}});var r=n(90263),i=n(87795),o=n(34854),a=n(87909),s=n(83587),c=n(80739),u=n(29901),l=n(76625),d=n(59949),f=function(){var e=(0,a.O0)(),t=(0,s.kc)(),n=(0,i.Z)(t,2),r=(n[0],n[1]),f=(0,o.E)(),p=f.storage,h=f.visibility,b=(0,l.z$)(),v=p.get(c.nB),m=p.get(c._q),g=p.get(c.vn),y=function(){b("onboarding_show_me_around",{event_source:"editor"}),r({type:"START_ONBOARDING"})},E=function(){b("onboarding_book_a_call",{event_source:"editor"}),window&&window.open(d.wD.calendly.bookAChat,"_blank")},O=function(){b("onboarding_no_thanks",{event_source:"editor"}),p.set(c.vn,!0)};return(0,u.useEffect)((function(){v||m||g||h.isInIframe||e({message:"Want a quick tour of CodeSandbox? Learn about our features and optimize your experience.",showDismiss:!1,uniqueName:"take-a-tour",actions:[{text:"Show me around",onAction:y},{text:"Book a call",onAction:E},{text:"No, Thanks",onAction:O}]})}),[]),null}},44676:function(e,t,n){"use strict";n.d(t,{H:function(){return m}});var r=n(51221),i=n(45934),o=n.n(i),a=n(24856),s=n(34854),c=n(32441),u=n(58004),l=n(73975),d=n(29901),f=n(97101),p=n(83024),h=n(76625),b=n(82974),v=n(61250),m=function(e){var t=e.id,n=e.seamlessFork,i=e.children,m=(0,s.E)(),g=(0,d.useState)(a.Sf),y=g[0],E=g[1],O=(0,h.z$)(),P=(0,d.useState)({state:"INITIALIZING"}),x=P[0],j=P[1],w=m.csbApi;switch((0,d.useEffect)((function(){var e=!0;return(0,a.PA)({seamlessFork:n,requestPitcherInstance:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=(0,c.Pc)())){e.next=3;break}return e.abrupt("return",(0,l.C)(w,{},{branchId:t,pitcherManagerURL:n,usePitcherManagerThroughApi:!1}));case 3:return e.abrupt("return",(0,l.C)(w,{},{branchId:t,pitcherManagerURL:(0,c.i1)()?(0,c.E6)()||"":c.aB,usePitcherManagerThroughApi:(0,c.i1)()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),subscriptions:{client:{status:!0},file:{status:!0,selection:!0,ot:!0},fs:{operations:!0},git:{status:!0,operations:!0},port:{status:!0},setup:{progress:!0},shell:{status:!0},system:{metrics:!0}},appId:"codesandbox",instanceId:t,onFocusChange:function(e){var t=function(){O("visibility",{isVisible:"visible"===document.visibilityState}),e("visible"===document.visibilityState)};return window.document.addEventListener("visibilitychange",t),function(){window.document.removeEventListener("visibilitychange",t)}}},E).then((function(t){e&&j({state:"READY",client:t})})).catch((function(t){e&&j({state:"ERROR",error:t})})),function(){e=!1}}),[]),x.state){case"INITIALIZING":return(0,v.jsx)(b.I,{children:(0,v.jsx)(f.V,{loadingBarEnd:y.nextProgress,loadingBarProgress:y.progress||0,loadingBarSpeed:6,children:y.message})});case"ERROR":return(0,v.jsx)(b.I,{children:(0,v.jsx)(p.g,{context:{error:String(x.error),branchId:t,state:"ERROR",event:"Initial connect to Pitcher"},errorCode:"MICROVM_NOT_STARTED"})});case"READY":return(0,v.jsx)(u.zt,{client:x.client,id:t,children:(0,v.jsx)(u.ff,{client:x.client,id:t,children:i})})}}},82974:function(e,t,n){"use strict";n.d(t,{A:function(){return Dt},I:function(){return _t}});var r=n(87795),i=n(67855),o=n(44173),a=n(79884),s=n(29901),c=n(25216),u=n(5105),l=n(59949),d=n(61250),f=function(e){var t=e.isTeamAdmin,n=e.teamId;return(0,d.jsxs)(a.$g,{variant:"trial",children:["Private repositories cannot be edited on a free tier.",t?(0,d.jsx)(a.$g.Action,{as:"a",href:l.Hb.pro({source:"free_plan_sandbox_editing_restriction",workspaceId:null!==n&&void 0!==n?n:null}),children:"Upgrade to PRO"}):(0,d.jsx)(d.Fragment,{children:"Contact your team admin to upgrade."})]})},p=n(87909),h=n(11993),b=(0,a.zo)("button",{color:"inherit",textDecoration:"underline",variants:{isLoading:{true:{color:"$neutral-fg-subtle"},false:{"&:hover":{color:"$neutral-fg-medium"}}}}}),v=function(e){var t=e.isTeamAdmin,n=(0,i.PY)(),r=n.id,o=n.ownerWorkspaceId,c=(0,h.Yo)(r),u=c.changePrivacy,f=c.changePrivacyResult,v=(0,p.tA)();return(0,s.useEffect)((function(){f.data&&window.location.reload(),f.error&&v({message:"Failed to change sandbox privacy",status:"error"})}),[f,v]),(0,d.jsxs)(a.$g,{variant:"trial",children:[(0,d.jsxs)(a.xv,{children:["Unlisted or private sandboxes cannot be edited on a free tier."," ",(0,d.jsx)(b,{isLoading:f.fetching,onClick:function(){u("public")},children:"Make it public"})," ","or upgrade."]}),t?(0,d.jsx)(a.$g.Action,{as:"a",href:l.Hb.pro({source:"free_plan_sandbox_editing_restriction",workspaceId:o}),children:"Upgrade to PRO"}):(0,d.jsx)(d.Fragment,{children:"Contact your team admin to upgrade."})]})},m=n(76625),g=n(7797),y=function(e){var t=e.isTeamAdmin,n=e.isPro,i=e.workspaceId,o=(0,m.z$)(),s=(0,g.X)("CSB/AI_BANNER_ANNOUNCEMENT_DISCARDED",!1),c=(0,r.Z)(s,2),u=c[0],f=c[1];if(u)return null;var p=n?"Contact your team admin to grant permissions.":"Contact your team admin to upgrade to PRO.";return(0,d.jsxs)(a.$g,{onDismiss:function(){o("ai_banner_dismiss",{tag:"Review"}),f(!0)},variant:"trial",children:[(0,d.jsxs)(a.Kq,{gap:1,horizontal:!0,children:[(0,d.jsx)(a.xv,{css:{fontWeight:500},children:"Introducing Boxy:"}),(0,d.jsx)(a.xv,{children:"Enhance your workflow with AI assistance in the editor."})]}),t?(0,d.jsx)(d.Fragment,{children:n?(0,d.jsx)(a.$g.Action,{as:"a",href:l.Hb.dashboard.permission(),onClick:function(){f(!0),o("ai_banner_open_settings",{tag:"Review"})},children:"Grant permission"}):(0,d.jsx)(a.$g.Action,{as:"a",href:l.Hb.pro({source:"ai_banner",workspaceId:i}),onClick:function(){o("ai_banner_upgrade",{tag:"Review"})},children:"Upgrade to PRO"})}):p]})},E=n(71885),O=n(34854),P=n(6272),x=function(e){var t=e.teamId,n=e.returnPath,r=(0,O.E)().csbApi,i=t?"/v1/teams/".concat(t,"/customer_portal?return_path=").concat(null!==n&&void 0!==n?n:"/dashboard?workspace=".concat(t)):null,o=(0,P.ZP)(i,(function(e){return r.rest.get({path:e})})),a=o.data,s=o.error;if(!a&&!s)return{state:"LOADING"};if(s)return{state:"ERROR",error:JSON.stringify((null===s||void 0===s?void 0:s.message)||s)};var c=null===a||void 0===a?void 0:a.stripeCustomerPortalUrl;return c?{state:"READY",portalUrl:c}:{state:"ERROR",error:"URL not found."}},j=n(94449),w=function(e){var t=e.isTeamAdmin,n=e.teamId,r=(0,E.useRouter)().asPath,i=x({teamId:t?n:null,returnPath:(0,j.wE)(r)});return t?(0,d.jsxs)(a.$g,{variant:"warning",children:["There are some issues with your payment. Please update your payment details.",(0,d.jsx)(a.$g.Action,{as:"a",href:"READY"===i.state?i.portalUrl:"/pro",children:"Update payment"})]}):(0,d.jsx)(a.$g,{variant:"warning",children:"There are some issues with your payment. Please contact your team admin to update your payment details."})},T=n(87828),S=n(21881),I=n(16899),R=function(e){var t=e.isTeamAdmin,n=e.teamId,i=(0,m.z$)(),o=(0,E.useRouter)().asPath,c=(0,O.E)().storage,l=(0,u.E)().subscription,f=x({teamId:t?n:null,returnPath:(0,j.wE)(o)}),p=n?"TRIAL_PAYMENT_INFO_REMINDER_".concat(n):void 0,h=p?c.get(p):null,b=(0,T.Z)(),v=null!==l&&void 0!==l&&l.trialEnd?new Date(l.trialEnd):null,g=v?(0,S.Z)(v,b):0,y=s.useState(!h||(0,I.Z)(new Date(h),b)),P=(0,r.Z)(y,2),w=P[0],R=P[1];return s.useEffect((function(){w&&i("stripe_trial_payment_reminder_seen")}),[]),w?(0,d.jsxs)(a.$g,{corners:"straight",onDismiss:function(){i("stripe_trial_payment_reminder_dismissed"),p&&c.set(p,b),R(!1)},variant:"trial",children:[function(){var e="Your trial will expire in ".concat(g," ").concat(1===g?"day":"days");return"".concat(e,t?". Add your payment details to continue with your subscription.":". Contact your team admin to add the payment details.")}(),t?(0,d.jsx)(a.$g.Action,{as:"a",href:"READY"===f.state?f.portalUrl:"/pro",onClick:function(){return i("stripe_trial_payment_reminder_add_info")},children:"Add payment details"}):null]}):null},A=s.memo((function(){var e=(0,o.k)(),t=(0,r.Z)(e,1)[0],n=(0,i.PY)(),a=n.freePlanEditingRestricted,l=n.type,p=n.aiConsent,h=n.ownerWorkspaceId,b=function(){var e=(0,i.PY)().privateRepo,t=(0,i.Tj)(),n=(0,r.Z)(t,2)[1],o=(0,u.E)().isFree&&e;return(0,s.useEffect)((function(){o&&n({type:"UPDATE_CAPABILITIES",capabilities:{fileSystem:!1,branch:!1,git:!1,renameBranch:!1,manageTasks:!1,runCommands:!1,setup:!1,terminal:!1,vscode:!1,secrets:!1,restartContainer:!1}})}),[o]),o}(),m=(0,c.A)(),g=(0,u.E)(),E=g.hasActiveTeamTrial,O=g.hasPaymentMethod,P=g.hasPendingPayment,x=g.isPro,j=g.isTeamAdmin;return"AUTHENTICATED"!==t.state||void 0===m?null:(0,d.jsxs)(d.Fragment,{children:[!p&&(0,d.jsx)(y,{isPro:x,isTeamAdmin:j,workspaceId:h}),"sandbox"===l&&a&&(0,d.jsx)(v,{isTeamAdmin:j}),"branch"===l&&b&&(0,d.jsx)(f,{isTeamAdmin:j,teamId:null===m||void 0===m?void 0:m.id}),E&&!O?(0,d.jsx)(R,{isTeamAdmin:j,teamId:null===m||void 0===m?void 0:m.id}):null,P&&(0,d.jsx)(w,{isTeamAdmin:j,teamId:null===m||void 0===m?void 0:m.id})]})})),C=n(29168),D="".concat(64,"px"),N=n(89014),_=n(67356),k=n(77463),L=n(90217),F=n(41669),B=n(30575),U=n(51221),M=n(45934),Z=n.n(M),G=n(43576),z=n(23085),$=n(11962),H=n(13300),W=n(39652),q=n(950),Y=n(91271),K=n(58882),V=n(72080),J=n(3749),X=n(76369),Q=n(68801),ee=X.Ps.createQuery("WorkspacesOfBranch",(function(e){var t=e.owner,n=e.repo,r=e.branch;return{"workspaces:projects":[{owner:t,name:n,provider:X.Ps.GitProvider.GITHUB},{team:{id:!0,name:!0,avatarUrl:!0},"branch:branchByName":[{name:r},{id:!0}]}]}})),te=function(e){var t=e.owner,n=e.repo,r=e.branch,i=(0,Q.Z)(),o=(0,P.ZP)("workspaces-of-branch-".concat(t,"/").concat(n,"/").concat(r),(function(){return i.gql.query(ee,{owner:t,repo:n,branch:r})})).data;if(o)return o.workspaces.filter((function(e){return Boolean(e.branch)})).map((function(e){var t,n,r,i,o,a;return{name:null!==(t=null===(n=e.team)||void 0===n?void 0:n.name)&&void 0!==t?t:"Public",id:null!==(r=null===(i=e.team)||void 0===i?void 0:i.id)&&void 0!==r?r:null,avatarUrl:null!==(o=null===(a=e.team)||void 0===a?void 0:a.avatarUrl)&&void 0!==o?o:null}}))},ne=n(16364),re=n(67337),ie=n(53702),oe=(0,n(29808).y)((function(){var e=(0,s.useRef)(null),t=(0,s.useRef)(null),n=(0,s.useState)(!1),r=n[0],i=n[1],o=(0,s.useState)(0),a=o[0],c=o[1],u=(0,s.useState)(""),l=u[0],d=u[1];return(0,s.useLayoutEffect)((function(){var t=e.current,n=null===t||void 0===t?void 0:t.parentElement;if(t&&n){var r=function(){var e=t.offsetWidth,r=n.offsetWidth/2,i=t.offsetLeft-n.offsetLeft;c(r-(i+e/2))};return r(),t.addEventListener("resize",r),function(){return t.removeEventListener("resize",r)}}}),[e,l]),(0,s.useEffect)((function(){var e=t.current;r&&e&&(e.focus(),e.setSelectionRange(0,e.value.length))}),[r]),{containerRef:e,inputRef:t,showRenameForm:r,setShowRenameForm:i,containerTranslation:a,mutatedValue:l,setMutatedValue:d}})),ae=["children"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=(0,a.zo)(k.E.div),le=(0,s.forwardRef)((function(e,t){var n=e.children,r=(0,ie.Z)(e,ae),i=oe(),o=i.containerTranslation,a=i.showRenameForm,s={visible:{opacity:1,x:0,transition:{delay:.2,type:"spring",bounce:0}},hidden:{opacity:0,x:o/2}};return(0,d.jsx)(ue,ce(ce({ref:t,animate:a?"hidden":"visible"},r),{},{css:ce(ce({},r.css),{},{pointerEvents:a?"none":"auto"}),variants:s,children:n}))})),de=function(e){var t=e.title,n=e.number,r=e.onClick;return(0,d.jsx)(a.u,{content:t,children:(0,d.jsxs)(a.zx,{css:{padding:0,maxWidth:250},onClick:r,children:["#",n," ",t]})})};var fe=(0,a.zo)(k.E.div),pe=(0,k.E)(a.xu),he=function(e){var t=e.onRename,n=e.value,r=e.displayValue,i=e.canRename,o=e.onClick,c=oe(),u=c.inputRef,l=c.containerRef,f=c.setShowRenameForm,p=c.showRenameForm,h=c.containerTranslation,b=c.mutatedValue,v=c.setMutatedValue;s.useEffect((function(){v(r)}),[r,v]);var m=function(e){var t=e.click,n=e.doubleClick,r=e.wheelClick,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=(0,s.useRef)(),a=function(){o&&(clearTimeout(o.current),o.current=void 0)};return(0,s.useCallback)((function(e){a(),1!==e.button?(t&&1===e.detail&&(o.current=setTimeout((function(){t(e)}),i)),e.detail%2===0&&(null===n||void 0===n||n(e))):null===r||void 0===r||r(e)}),[t,n,i,r])}({click:o,doubleClick:function(){return f(!0)}}),g=(0,ne.xT)(b);return(0,d.jsxs)(fe,{ref:l,animate:p?"translated":"resting",css:{position:"relative"},variants:{translated:{x:h,transition:{delay:.1,type:"spring",bounce:0}},resting:{x:0}},children:[(0,d.jsxs)(a.xu,{"aria-hidden":!p,as:"form",css:{textAlign:"center",position:p?"relative":"absolute",display:p?"block":"none"},onSubmit:function(e){e.preventDefault(),t(b).finally((function(){f(!1)}))},children:[(0,d.jsx)(a.II,{ref:u,autoComplete:"off",css:{padding:0,background:"transparent",textAlign:"center","&:focus":{outline:"none"}},maxLength:80,name:"branchName",onBlur:function(){return f(!1)},onChange:function(e){v(e.target.value)},onKeyDown:function(e){return"Escape"===e.code&&f(!1)},size:b.length+1,value:b,required:!0}),g!==b.trim()?(0,d.jsx)(_.M,{children:(0,d.jsx)(pe,{animate:{opacity:1,y:0},css:{position:"absolute",inset:0,top:"100%",opacity:.8,fontSize:11},exit:{opacity:0,y:4},initial:{opacity:0,y:4},children:g})}):null]}),(0,d.jsx)(a.xu,{"aria-hidden":p,css:p?{display:"none",opacity:0,pointerEvents:"none",position:"absolute"}:{position:"relative",display:"block"},children:(0,d.jsx)(a.u,{content:i?"Double click to rename":"Change branch",children:(0,d.jsx)(a.zx,{"aria-label":"Rename branch",css:{padding:0},onClick:i?m:o,children:n})})})]})},be=n(70333),ve=function(e){return{repository:"$neutral-fg-base",contribution:"$neutral-fg-base",sandbox:"$neutral-fg-base",template:"$neutral-fg-base"}[e]},me=function(e){return{repository:"repository",contribution:"repository",sandbox:"sandbox",template:"add"}[e]},ge=function(e){switch(e){case"repository":case"contribution":return"Repository";case"template":return"Template";case"sandbox":default:return"Sandbox"}},ye=function(e){var t=e.type,n=e.privacy;return 1===n?(0,d.jsx)(a.u,{content:"This is an unlisted sandbox, only people with the link can see it",children:(0,d.jsx)(a.xu,{css:{marginTop:2},children:(0,d.jsx)(a.JO,{size:4,type:"eyeClose"})})}):2===n?(0,d.jsx)(a.u,{content:"This is a private sandbox, only collaborators and team members can see it",children:(0,d.jsx)(a.xu,{css:{marginTop:2},children:(0,d.jsx)(a.JO,{size:4,type:"lockClose"})})}):"template"===t.type?(0,d.jsx)(be.b,{height:16,iconUrl:t.iconUrl,templateName:t.templateName,width:16}):(0,d.jsx)(a.u,{content:ge(t.type),children:(0,d.jsx)(a.xu,{css:{marginTop:2,color:ve(t.type)},children:(0,d.jsx)(a.JO,{size:4,type:me(t.type)})})})};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Oe=function(e){var t=e.children,n=e.type,r=e.privacy;return(0,d.jsx)(a.Kq,{css:{px:"$10",alignItems:"center","button, a":{color:"$neutral-fg-base",fontWeight:"$regular"},"button:disabled":{cursor:"initial",opacity:1},"button:not([disabled]), a:not([disabled])":{"&:active":{borderColor:"transparent"},"&:hover, &:focus":{background:"inherit",color:"$neutral-fg-subtle"}}},horizontal:!0,selectable:!0,children:(0,d.jsxs)(a.Kq,{css:{width:"100%"},gap:1,horizontal:!0,children:[(0,d.jsx)(le,{css:{display:"flex",alignItems:"center"},children:(0,d.jsx)(ye,{privacy:r,type:n})}),t]})})},Pe=function(e){return(0,d.jsx)(Oe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))};Pe.Menu=function(e){var t=e.children,n=e.canRename,i=e.isInteractive,o=s.useState(!1),c=(0,r.Z)(o,2),u=c[0],l=c[1],f=oe(),p=f.showRenameForm,h=f.setShowRenameForm;return(0,d.jsx)(le,{css:{pointerEvents:p?"none":"auto"},children:(0,d.jsxs)(a.Lt,{experimentalOnCloseAutoFocus:function(e){return e.preventDefault()},rootProps:{onOpenChange:function(e){return l(e)},open:u},trigger:(0,d.jsx)(a.zx,{css:{minWidth:"$5",padding:0,mx:"-$1",opacity:i?1:0,span:{transition:"transform $fast, color $fast",color:u?"$neutral-fg-subtle":"inherit",transform:"translateY(".concat(u?2:1,"px)")},"&:hover span, &:focus span":{color:"$neutral-fg-subtle",transform:"translateY(3px)"}},disabled:p,icon:"chevronSmallDown"}),children:[n&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Lt.Item,{onSelect:function(e){e.stopPropagation(),h(!0)},children:"Rename"}),(0,d.jsx)(a.Lt.Separator,{})]}),t]})})};var xe=n(6762),je=function(e){var t=e.isInteractive,n=e.maxLength,i=void 0===n?80:n,o=(0,N.uK)(),a=(0,r.Z)(o,1)[0];return(0,G.EQ)(a,{DISCONNECTED:function(){return(0,d.jsx)(we,{isInteractive:!1})},RECONNECTING:function(){return(0,d.jsx)(we,{isInteractive:!1})},DISCONNECTED_RECONNECTING:function(){return(0,d.jsx)(we,{isInteractive:!1})},CHANGING_CONNECTION:function(){return(0,d.jsx)(we,{isInteractive:!1})},READY:function(){return(0,d.jsx)(we,{isInteractive:t,maxLength:i})}},(function(){return null}))},we=function(e){var t=e.isInteractive,n=e.maxLength,o=void 0===n?80:n,s=(0,O.E)().navigation,c=(0,i.Tj)(),u=(0,r.Z)(c,2),f=(u[0],u[1]),p=(0,i.PY)(),h=(0,Y.x)(),b=(0,q.bX)(),v=p.pullRequest,m=!!v,g=p.id,y=p.name,E=p.contribution,P=p.allowedCapabilities,x=p.repo,j=p.owner,w=p.ownerWorkspaceId,T=(0,xe.n)(g,y,E),S=oe().setShowRenameForm,I=te({owner:p.owner,repo:p.repo,branch:p.name}),R=(0,$.y)(),A=(0,H.O)(),C=(0,z.c)({event_source:"topbar"}),D=P.renameBranch&&!m,N=function(){A.perform()},_=function(){var e=(0,U.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({type:"REMOVE_BRANCH",branch:y});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=I?I.find((function(e){return p.ownerWorkspaceId&&e.id===p.ownerWorkspaceId}))||null:void 0;if(void 0===k)return null;var L=p.owner;return k&&(L=k.name),k&&h&&h.username===k.name&&(L="Personal"),(0,d.jsx)(K.p,{cardType:"runYourCodeInTheCloud",index:0,children:(0,d.jsxs)(Pe,{type:{type:"repository",owner:p.owner,repo:p.repo},children:[(0,d.jsx)(le,{children:(0,re.gX)(p.authorization)&&!p.contribution?(0,d.jsx)(a.u,{content:"Open ".concat(j,"/").concat(x," in the dashboard"),children:(0,d.jsxs)(a.zx,{as:"a",css:{padding:0},href:l.Hb.dashboard.branches(j,x,w),children:[L," / ",x]})}):(0,d.jsxs)(a.xv,{truncate:!0,children:[j,"/",x]})}),p.contribution?(0,d.jsx)(le,{css:{display:"flex",alignItems:"center",marginTop:"1px",marginLeft:"1px"},children:(0,d.jsx)(a.JO,{size:4,type:"contribution"})}):(0,d.jsx)(le,{css:{display:"flex",alignItems:"center"},children:(0,d.jsx)(a.JO,{size:4,type:"branch"})}),m?(0,d.jsx)(de,{number:v.number,onClick:function(e){e.metaKey||e.ctrlKey?s.openUrl((0,ne.fA)({owner:j,repo:x,prNumber:v.number})):b({type:"OPEN_TAB",tab:{type:"PR_INFO"}})},title:v.title}):(0,d.jsx)(he,{canRename:D,displayValue:T,onClick:N,onRename:function(e){if(!e||e.length>o)return Promise.reject();var t=(0,xe.d)(g,(0,ne.xT)(e),E);return f({type:"RENAME_BRANCH",newName:t}),S(!1),Promise.resolve()},value:y}),(0,d.jsx)(Pe.Menu,{canRename:D,isInteractive:t,children:(0,d.jsx)(Te,{removeBranchFromCodesandbox:t?_:void 0,resetLocalToRemoteCommandPalette:t?function(){C.perform()}:void 0,toggleBranchCreationCommandPalette:t?function(){R.perform()}:void 0,toggleBranchPickerCommandPalette:t?N:void 0})})]})})},Te=function(e){var t=e.toggleBranchPickerCommandPalette,n=e.toggleBranchCreationCommandPalette,s=e.resetLocalToRemoteCommandPalette,c=e.removeBranchFromCodesandbox,u=(0,O.E)().navigation,f=(0,J.QW)(),p=(0,m.z$)(),h=(0,W.T0)(),b=(0,r.Z)(h,1)[0],v=(0,o.k)(),g=(0,r.Z)(v,1)[0],y="AUTHENTICATED"===g.state?g.user:null,E=(0,i.PY)(),P=te({owner:E.owner,repo:E.repo,branch:E.name}),x=E.allowedCapabilities,j=E.owner,w=E.repo,T=E.name,S=E.ownerWorkspaceId,I=E.pullRequest;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Lt.Item,{onKeyDown:function(e){e.stopPropagation()},onSelect:function(e){e.preventDefault(),p("topbar_open_command_palette",{item:"change"}),null===t||void 0===t||t()},children:"Change branch..."}),(0,d.jsx)(a.Lt.Item,{disabled:!x.branch,onKeyDown:function(e){e.stopPropagation()},onSelect:function(e){e.preventDefault(),p("topbar_open_command_palette",{item:"create"}),null===n||void 0===n||n()},children:"Create branch..."}),(0,d.jsx)(a.Lt.Item,{disabled:!x.git||!b.status.remote.branch,onKeyDown:function(e){e.stopPropagation()},onSelect:function(e){e.preventDefault(),null===s||void 0===s||s()},children:"Reset branch to remote"}),P&&P.length>1?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(a.Lt.SubMenu,{trigger:"Change workspace",children:P.map((function(e){var t=e.id===S;return(0,d.jsx)(a.Lt.Item,{onClick:function(){f.goToBranch({owner:j,repo:w,branch:T,workspaceId:e.id,addPreventWorkspaceRedirectFlag:!0})},children:(0,d.jsxs)(a.Kq,{css:{width:"100%"},horizontal:!0,children:[(0,d.jsx)(V.T,{currentUser:y,workspace:e}),t?(0,d.jsx)(a.Kq,{css:{marginLeft:"auto"},children:(0,d.jsx)(a.JO,{size:3,type:"check"})}):null]})})}))})]}):null,(0,d.jsx)(a.Lt.Item,{disabled:!x.branch||E.defaultBranchName===T,onKeyDown:function(e){e.stopPropagation()},onSelect:function(e){e.preventDefault(),null===c||void 0===c||c()},children:"Remove branch from CodeSandbox"}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsxs)(a.Lt.Item,{css:{display:"flex",gap:"$2"},disabled:!x.branch,onSelect:function(e){e.stopPropagation(),u.openUrl(l.Hb.dashboard.branches(j,w,S))},children:[(0,d.jsx)("span",{children:"Manage branches"}),(0,d.jsx)(a.JO,{size:3,type:"externalLink"})]}),(0,d.jsxs)(a.Lt.Item,{css:{display:"flex",gap:"$2"},disabled:E.contribution,onSelect:function(e){e.stopPropagation(),u.openUrl(ne.Dj.branch({owner:j,repo:w,branchName:E.name}))},children:[(0,d.jsx)("span",{children:"Open branch on GitHub"}),(0,d.jsx)(a.JO,{size:3,type:"externalLink"})]}),null!==I?(0,d.jsxs)(a.Lt.Item,{css:{display:"flex",gap:"$2"},disabled:E.contribution,onSelect:function(e){e.stopPropagation(),I&&u.openUrl((0,ne.fA)({owner:j,repo:w,prNumber:I.number}))},children:[(0,d.jsx)("span",{children:"Open PR on GitHub"}),(0,d.jsx)(a.JO,{size:3,type:"externalLink"})]}):null]})},Se=n(32441),Ie=n(14416),Re=n(96661),Ae=n(7080),Ce=function(e){var t=e.children,n=e.sandbox,r=e.showPopover,i=e.setShowPopover;return(0,d.jsx)(a.J2,{contentProps:{style:{padding:0}},rootProps:{open:r,onOpenChange:function(e){e||i(e)}},trigger:(0,d.jsx)(a.xu,{children:t}),children:(0,d.jsx)(a.xu,{css:{maxWidth:"320px",padding:"$6"},children:(0,d.jsx)(Ae.R,{onEditClick:function(){i(!1)},sandbox:n,showTitle:!0})})})};var De=function(e){var t=e.sandbox,n=e.onRename,o=s.useState(!1),u=(0,r.Z)(o,2),f=u[0],p=u[1],h=(0,Y.x)(),b=(0,i.PY)(),v=(0,c.A)(),m=b.allowedCapabilities.renameBranch,g=function(e,t){return t?(0,d.jsx)(a.u,{content:(0,d.jsxs)("span",{children:["This template stays in sync with GitHub."," ",(0,d.jsx)("a",{href:"https://codesandbox.io/docs/learn/sandboxes/synced-templates",rel:"noreferrer noopener",target:"_blank",children:"Learn more."})]}),children:(0,d.jsx)("div",{children:"Synced Template"})}):e?"Template":void 0}(Boolean(t.customTemplate),t.git),y=(0,Re.k)(t).title,E=t.customTemplate?{type:"template",iconUrl:t.customTemplate.iconUrl,templateName:t.template}:{type:"sandbox"},O=v&&(null===v||void 0===v?void 0:v.id)===b.ownerWorkspaceId?v:null,P=O&&h&&O.name===h.username?"Personal":null===O||void 0===O?void 0:O.name;return(0,d.jsxs)(K.p,{cardType:"welcomeToCodesandbox",index:0,children:[(0,d.jsxs)(Pe,{privacy:t.privacy,type:E,children:[(0,d.jsxs)(a.Kq,{gap:1,horizontal:!0,children:[P?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(le,{children:(0,d.jsx)(a.u,{content:"Open dashboard",children:(0,d.jsx)(a.zx,{as:"a",css:{padding:0},href:l.Hb.dashboard.recent(null===v||void 0===v?void 0:v.id),children:P})})}),(0,d.jsx)(le,{children:"/"})]}):null,(0,d.jsx)(Ce,{sandbox:t,setShowPopover:p,showPopover:f,children:(0,d.jsx)(he,{canRename:m,displayValue:y,onClick:function(){return p(!0)},onRename:n,value:y})})]}),(0,d.jsx)(ke,{canRename:m,sandbox:t}),g?(0,d.jsx)(le,{children:(0,d.jsx)(a.Ct,{children:g})}):null]}),(0,d.jsx)(Le,{})]})};function Ne(){var e=(0,Ie.i2)(),t=(0,r.Z)(e,1)[0].data;return t?(0,d.jsx)(_e,{sandbox:t}):null}function _e(e){var t=e.sandbox,n=(0,h.$l)(t.id).mutate,o=(0,i.Tj)(),a=(0,r.Z)(o,2)[1],s=(0,m.z$)(),c=function(){var e=(0,U.Z)(Z().mark((function e(t){var r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({title:t});case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:if(!r.data){e.next=9;break}return s("update_sandbox_title",{event_source:"header"}),a({type:"RENAME_SANDBOX",newName:r.data.renameSandbox.alias}),e.abrupt("return");case 9:throw new Error("this should not happen");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsx)(De,{onRename:c,sandbox:t})}var ke=function(e){var t=e.sandbox,n=e.canRename,r=(0,O.E)().clipboard,i=(0,q.bX)();return(0,d.jsxs)(Pe.Menu,{canRename:n,isInteractive:!0,children:[n?(0,d.jsx)(a.Lt.Item,{onSelect:function(e){e.stopPropagation(),i({type:"OPEN_TAB",tab:{type:"SANDBOX_INFO"}})},children:"Edit info..."}):null,(0,d.jsx)(a.Lt.Item,{onSelect:function(e){e.stopPropagation(),r.write("".concat(Se.CR).concat(Se.GW||"","/sandbox/").concat(t.alias))},children:"Copy link"})]})},Le=function(){return null};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=oe.Provider,Me=function(e){var t=(0,i.PY)().owner;return(0,d.jsx)(a.xu,{css:{overflow:"hidden"},children:(0,d.jsx)(Ue,{children:t===B.u?(0,d.jsx)(Ne,{}):(0,d.jsx)(je,Be({},e))})})},Ze=n(7275),Ge=n(28218),ze=n(74685),$e=n(64396),He=function(){var e=(0,W.T0)(),t=(0,r.Z)(e,2),n=t[0],o=t[1],s=(0,i.PY)(),c=(0,q.bX)(),u=(0,q.Hv)(),l=(0,r.Z)(u,2),f=l[0],h=l[1],b=(0,Ze.r)({path:"/environment/branch-protection"}),v=(0,p.tA)(),m=(0,N.uK)(),g=(0,r.Z)(m,1)[0],y=(0,ze.oW)().pendingComments,E=(0,Ge.H)().setVisibility,O=n.status.target.branch&&n.status.target.behind>0,P=(0,C.a)().restrictsPublicRepos;if(("RECONNECTING"===g.state||"DISCONNECTED_RECONNECTING"===g.state)&&g.reconnectAttempts>1)return(0,d.jsx)(a.Ct,{icon:"progress",iconSize:4,variant:"neutral",children:"Reconnecting"});if("COMMIT_IN_PROGRESS"===n.state||"AWAITING_COMMIT"===n.state)return(0,d.jsx)(a.kP,{icon:"progress",onClick:function(){c({type:"OPEN_TAB",tab:{type:"GIT_LOG"}})},title:"Toggle Git Terminal",variant:"neutral",children:"Committing"});if("COMMIT_ERROR"===n.state)return(0,d.jsx)(a.kP,{onClick:function(){c({type:"OPEN_TAB",tab:{type:"GIT_LOG"}})},title:"Toggle Git Terminal",variant:"error",children:"Commit Error"});if("PULL_IN_PROGRESS"===n.state)return(0,d.jsx)(a.Ct,{icon:"progress",iconSize:4,variant:"neutral",children:"Syncing"});if("PR"!==f.sidebarPanel&&y.length>0)return(0,d.jsxs)(a.kP,{icon:"chat",iconColor:"accent-primary-base",onClick:function(){return h({sidebarPanel:"PR"})},variant:"neutral",children:[y.length," pending"," ",1===y.length?"comment":"comments"]});if(!(0,re.gX)(s.authorization)&&P&&"sandbox"!==s.type&&!(0,$e.L)(s))return(0,d.jsx)(a.J2,{trigger:(0,d.jsx)(a.kP,{icon:"eyeOpen",iconSize:4,variant:"accentSecondary",children:"Read only"}),children:(0,d.jsx)(a.xu,{css:{width:300},children:(0,d.jsx)(a.nv,{children:"CodeSandbox needs access to your GitHub repositories data. Update your permissions to access the full experience."})})});if(!(0,re.gX)(s.authorization)&&!s.freePlanEditingRestricted&&!(0,$e.L)(s)){var x="sandbox"===s.type?"sandbox":"repository";return(0,d.jsx)(a.J2,{trigger:(0,d.jsx)(a.kP,{icon:"eyeOpen",iconSize:4,variant:"accentSecondary",children:"Read only"}),children:(0,d.jsx)(a.xu,{css:{width:210},children:(0,d.jsxs)(a.nv,{children:["You only have read access to this ",x,", fork to get access"]})})})}if(s.protectedBranch)return(0,d.jsx)(K.p,{cardType:"codeInDefaultBranch",extraActions:(0,d.jsx)(a.zx,{onClick:b.perform,children:"Learn more"}),index:8,children:(0,d.jsx)(a.kP,{icon:"lockClose",onClick:function(){E(!0)},title:"Protected branches do not allow file changes and git operations",variant:"accentSecondary",children:"Protected"})});if(n.status.conflicts)return(0,d.jsx)(a.kP,{onClick:function(){h({sidebarPanel:"GIT"})},title:"Show conflicted files",variant:"error",children:"Conflicts"});if(!n.status.conflicts&&n.status.isMerging)return(0,d.jsx)(a.kP,{onClick:function(){h({sidebarPanel:"GIT"})},children:"Merge commit pending"});if(n.status.remote.behind>0){var j="".concat(n.status.remote.behind," ").concat(1===n.status.remote.behind?"commit":"commits"," behind remote branch");if(n.status.localChanges)return(0,d.jsx)(a.kP,{icon:"circleBang",iconColor:"informative-error-base",title:"Commit changes before pulling remote",disabled:!0,children:j});var w=n.status.remote.safe;return(0,d.jsx)(a.kP,{icon:w?void 0:"circleBang",iconColor:w?void 0:"informative-error-base",onClick:function(){n.status.localChanges?v({status:"warning",message:"To merge from remote, you first need to commit your local changes"}):o({type:"PULL_REMOTE"})},title:w?"Pull remote":"Pull may generate conflicts",children:j})}if(O){var T="".concat(n.status.target.behind," ").concat(1===n.status.target.behind?"commit":"commits"," behind ").concat(n.targetBranchName);if(n.status.localChanges)return(0,d.jsx)(a.kP,{icon:"circleBang",iconColor:"informative-error-base",title:"Commit changes before pulling ".concat(n.targetBranchName),disabled:!0,children:T});var S=n.status.target.safe;return(0,d.jsx)(a.kP,{icon:S?void 0:"circleBang",iconColor:S?void 0:"informative-error-base",onClick:function(){n.status.localChanges?v({status:"warning",message:"To merge from ".concat(n.targetBranchName,", you first need to commit your local changes")}):o({type:"PULL_REMOTE_TARGET"})},title:S?"Pull ".concat(n.targetBranchName," into current branch"):"Pulling ".concat(n.targetBranchName," into current branch may generate conflicts"),children:T})}return null},We=n(96347),qe=n(37237),Ye=n(73640),Ke=n(64101),Ve=n(97980),Je=n(97613),Xe=n(28513),Qe=n(4313),et=n(36774),tt=n(21003),nt=n(3665),rt=n(74184),it=n(81784),ot=(0,a.zo)("div",{flexGrow:"1"}),at=(0,a.zo)(it.ck,{padding:"$4 $2",backgroundColor:"$neutral-bg-high",color:"$neutral-fg-subtle",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",svg:{color:"$neutral-fg-subtle",marginRight:"$2"},"&:hover":{color:"$neutral-fg-subtle"},"&:focus":{color:"$neutral-fg-subtle"},variants:{active:{true:{backgroundColor:"$neutral-bg-focus",color:"$neutral-fg-high"},false:{}}}}),st=function(e){var t=e.value,n=e.onValueChange;return(0,d.jsx)(it.fC,{onValueChange:n,required:!1,value:t,children:(0,d.jsxs)(a.Kq,{css:{justifyContent:"space-between"},horizontal:!0,children:[(0,d.jsx)(ot,{children:(0,d.jsxs)(at,{active:"idea"===t,value:"idea",children:[(0,d.jsx)(a.JO,{size:4,type:"chat"}),"Idea"]})}),(0,d.jsx)(ot,{children:(0,d.jsxs)(at,{active:"issue"===t,value:"issue",children:[(0,d.jsx)(a.JO,{size:4,type:"circleBang"}),(0,d.jsx)("span",{children:"Issue"})]})}),(0,d.jsx)(ot,{children:(0,d.jsxs)(at,{active:"other"===t,value:"other",children:[(0,d.jsx)(a.JO,{size:4,type:"more"}),"Other"]})})]})})};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){var t=e.heading,n=e.onSubmitted,i=(0,O.E)().sentry,c=(0,o.k)(),u=(0,r.Z)(c,1)[0],l=(0,p.tA)(),f=(0,nt.cI)(),h=f.formState.isSubmitting,b=f.handleSubmit,v=f.register,m=f.reset,g=(0,s.useState)(void 0),y=g[0],E=g[1];return(0,d.jsx)("form",{onSubmit:b(function(){var e=(0,U.Z)(Z().mark((function e(t,r){var o,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===r||void 0===r||r.preventDefault(),o=ut({category:y,feedback:t.message,browser:(0,rt.q)(),url:window.location.pathname,version:Se.q4,isV2:!0},"AUTHENTICATED"===u.state?{email:u.user.email,username:u.user.username}:{}),a=null,e.next=5,fetch("https://sp8i0.sse.codesandbox.io/airtable",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).catch((function(e){i.reportError(e.message),a=e}));case 5:return e.next=7,fetch("https://s2973.sse.codesandbox.io/inbound-message",{method:"POST",body:JSON.stringify({name:o.username,email:o.email,body:"\n".concat(o.feedback,"\n\nLink: ").concat(window.location.href,"\nVersion: ").concat(Se.q4,"\nBrowser: ").concat(o.browser,"\n")}),headers:{"Content-Type":"application/json",Accept:"*/*"}}).catch((function(e){i.reportError(e.message),a=e}));case 7:a?l({message:"Failed to submit feedback",status:"error"}):(m(),l({message:"Thanks for your feedback"}),n());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),children:(0,d.jsxs)(a.Kq,{gap:4,children:[t&&t,(0,d.jsx)(a.Kx,ut(ut({},v("message")),{},{placeholder:"Have feedback? We\u2019d love to hear it!",width:"full"})),(0,d.jsxs)(a.Kq,{gap:2,children:[(0,d.jsx)(a.WX,{children:"Rate your experience with our product"}),(0,d.jsx)(st,{onValueChange:E,value:y})]}),(0,d.jsxs)(a.Kq,{css:{justifyContent:"space-between"},gap:2,horizontal:!0,children:[(0,d.jsxs)(a.WX,{variant:"caption2",children:["You can also email us at"," ",(0,d.jsx)(a.xu,{as:"span",css:{color:"$neutral-fg-high"},children:"feedback@codesandbox.io"})]}),(0,d.jsx)(a.zx,{loading:h,type:"submit",variant:"primary",children:"Send"})]})]})})},dt=function(e){var t=e.showFeedback,n=e.setShowFeedback;return(0,a.L7)([{id:"feedback-form-prompt",name:"Submit feedback",keywords:"bug report feature request",perform:function(){n(!0)},section:tt.N.navigation,icon:(0,et.Ce)("chat")}],[]),(0,d.jsx)(a.Vq,{onOpenChange:n,open:t,width:"md",children:(0,d.jsx)(lt,{heading:(0,d.jsxs)(a.Kq,{css:{justifyContent:"space-between"},horizontal:!0,children:[(0,d.jsx)(a.Vq.Title,{children:"Submit feedback"}),(0,d.jsx)(a.Vq.CloseIconButton,{})]}),onSubmitted:function(){return n(!1)}})})},ft=n(83587),pt=n(80739),ht=n(80274),bt=n(84142),vt=function(){var e=(0,i.PY)(),t=(0,N.uK)(),n=(0,r.Z)(t,1)[0];return(0,d.jsx)(Et,{versions:[["Sandbox",e.id],["Node",void 0],["Pitcher","READY"===n.state?n.versions.pitcher:void 0],["Manager","READY"===n.state?n.versions.pitcherManager:void 0],["Cluster","READY"===n.state?n.cluster:void 0]]})},mt=n(88031),gt=n(64752),yt=n(90528),Et=function(e){var t=e.versions,n=void 0===t?[]:t,i=(0,gt.m)(),o=[["Version",Se.q4],["Environment",Se.Gv]].concat((0,mt.Z)(n)).filter((function(e){return void 0!==e[1]}));return(0,d.jsx)(a.xu,{css:{width:"100%",alignItems:"flex-start"},selectable:!0,children:(0,d.jsxs)(a.Kq,{gap:6,children:[(0,d.jsx)(yt.F,{children:o.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,d.jsx)(yt.F.Item,{name:n,version:i},"version-list-item-".concat(n))}))}),(0,d.jsx)(a.zx,{css:{alignSelf:"flex-start"},icon:"copy",iconPosition:"right",onClick:function(){return i(o.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return"".concat(n,": ").concat(i)})).join("\n"))},variant:"primary",children:"Copy"})]})})};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=function(e){var t=e.disabled,n=e.onClick,r=e.tracking,i=e.icon,o=e.title,s=e.tooltip,c=e.meta,u=e.avatarUrl,l=e.iconProps,f=(0,m.z$)(),p=(0,d.jsx)(a.Lt.Item,{disabled:t,onClick:function(e){if(t)return null;n(e),f("click_menu_item",{name:r||o})},children:(0,d.jsxs)(a.Kq,{css:{width:"100%"},horizontal:!0,children:[u||null===u?(0,d.jsx)(a.qE,{name:o,shape:"block",size:"xs",src:u}):null,i?(0,d.jsx)(a.JO,Pt({size:4,type:i},l)):null,(0,d.jsx)("span",{children:o}),c&&(0,d.jsx)(a.xu,{css:{marginLeft:"auto"},children:c})]})});return s?(0,d.jsx)(a.u,{content:s,asChild:!0,children:p}):p},jt=(0,a.zo)(a.xu,{padding:"$1",display:"flex",alignItems:"center",".logo path":{fill:"$neutral-fg-subtle",transition:"fill $fast"},svg:{transition:"transform $fast"},"&:active:not([disabled])":{borderColor:"transparent"},'&:hover:not([disabled]), &:focus, &[data-state="open"]':{".logo path":{fill:"$neutral-fg-subtle"},"svg:nth-of-type(2)":{color:"$neutral-fg-subtle",transform:"translateY(2px)"}}}),wt=(0,a.zo)("div",{marginLeft:"auto",paddingLeft:"$2",fontSize:"$caption2"}),Tt=function(){var e,t,n=(0,m.z$)(),c=(0,o.k)(),u=(0,r.Z)(c,2),f=u[0],p=u[1],h=(0,N.uK)(),b=(0,r.Z)(h,2),v=b[0],g=b[1],y=(0,i.PY)(),E=y.allowedCapabilities,P=y.authorization,x=y.type,j=(0,ht.w)(),w=(0,ft.kc)(),T=(0,r.Z)(w,2),S=(T[0],T[1]),I=(0,O.E)().storage,R=I.get(pt.nB),A=I.get(pt._q),C=I.get(pt.vn),D=(0,Qe.m)("main_menu"),_=(0,Je.H)("main_menu"),k=(0,Xe.B)("main_menu"),L=(0,Ye.X)("main_menu"),F=(0,qe.Y)("main_menu"),B=(0,Ke.g)("main_menu"),U=(0,Ve.$)("main_menu"),M=(0,Ze.r)({source:"main_menu"}),Z=(0,We.X)({type:"sandbox"===x?"Sandbox":"Branch"}),G=s.useState(!1),z=(0,r.Z)(G,2),$=z[0],H=z[1],W=s.useState(!1),q=(0,r.Z)(W,2),Y=q[0],K=q[1],V=(0,Ge.H)().setVisibility,J=s.useState(!1),X=(0,r.Z)(J,2),Q=X[0],ee=X[1];s.useEffect((function(){ee("DELETING"!==v.state&&E.restartContainer)}),[v]);var te=(0,re.gX)(P)?void 0:"Environment variables are only available to users with write permissions.";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.xu,{children:(0,d.jsxs)(a.Lt,{trigger:(0,d.jsx)(a.xu,{children:(0,d.jsxs)(jt,{"aria-label":"CodeSandbox",onClick:function(){n("click_menu")},role:"button",tabIndex:0,children:[(0,d.jsx)(a.JO,{className:"logo",type:"codesandbox","aria-hidden":!0}),(0,d.jsx)(a.JO,{size:4,type:"chevronSmallDown","aria-hidden":!0})]})}),children:["AUTHENTICATED"===f.state&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(xt,{icon:"home",onClick:function(){window.location.href=l.Hb.dashboard.recent()},title:"Dashboard"}),(0,d.jsx)(xt,{icon:"pages",onClick:function(e){e.metaKey?window.open("https://codesandbox.io/docs/learn/".concat("branch"===x?"repositories":"sandboxes","/overview"),"_blank"):M.perform()},title:"Documentation"}),(0,d.jsx)(xt,{icon:"chat",onClick:function(){return H(!0)},title:"Feedback"}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsxs)(a.Lt.SubMenu,{trigger:(0,d.jsxs)(a.Kq,{css:{width:"100%"},horizontal:!0,children:[(0,d.jsx)(a.JO,{size:4,type:"split"}),(0,d.jsx)("span",{children:"View"})]}),children:[(0,d.jsx)(xt,{icon:"layoutDefault",meta:L.binding?(0,d.jsx)(wt,{children:(0,bt.K)(L.binding).join(" ")}):void 0,onClick:L.perform,title:L.name}),(0,d.jsx)(xt,{icon:"layoutAlternative",meta:F.binding?(0,d.jsx)(wt,{children:(0,bt.K)(F.binding).join(" ")}):void 0,onClick:F.perform,title:F.name}),(0,d.jsx)(xt,{icon:"layoutFocus",meta:U.binding?(0,d.jsx)(wt,{children:(0,bt.K)(U.binding).join(" ")}):void 0,onClick:U.perform,title:U.name}),(0,d.jsx)(xt,{icon:"layoutEmbed",onClick:B.perform,title:B.name}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(xt,{icon:"layoutSidebar",meta:D.binding?(0,d.jsx)(wt,{children:(0,bt.K)(D.binding).join(" ")}):void 0,onClick:D.perform,title:D.name}),(0,d.jsx)(xt,{icon:"layoutShells",meta:k.binding?(0,d.jsx)(wt,{children:(0,bt.K)(k.binding).join(" ")}):void 0,onClick:k.perform,title:k.name}),(0,d.jsx)(xt,{icon:"layoutDevtools",meta:_.binding?(0,d.jsx)(wt,{children:(0,bt.K)(_.binding).join(" ")}):void 0,onClick:_.perform,title:_.name})]}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(xt,{disabled:!E.secrets,icon:"settings",onClick:function(){return V(!0)},title:"Project Settings",tooltip:te}),(0,d.jsx)(xt,{disabled:!Q,icon:"refresh",onClick:function(){g({type:"RESTART_CONTAINER"})},title:"Restart ".concat("sandbox"===x?"Sandbox":"Branch")}),(0,d.jsx)(xt,{disabled:!(null!==(e=j.permissions.fs)&&void 0!==e&&e.download),icon:"download",onClick:Z.perform,title:"Download ".concat("sandbox"===x?"Sandbox":"Branch"),tooltip:null!==(t=j.permissions.fs)&&void 0!==t&&t.download?void 0:"Restart the project to enable downloading"}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(xt,{icon:"machine",onClick:function(){return K(!0)},title:"Version: ".concat(Se.q4),tracking:"Version"}),(0,d.jsx)(xt,{icon:"circleBang",meta:R&&!A||C?(0,d.jsx)(a.JO,{css:{color:"$accent-secondary-base"},size:3,type:"dot"}):null,onClick:function(){S({type:"START_ONBOARDING"})},title:"Take a tour"}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(xt,{icon:"signOut",onClick:function(){return p.signOut()},title:"Sign out"})]}),"UNAUTHENTICATED"===f.state&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(xt,{icon:"machine",onClick:function(){return K(!0)},title:"Version: ".concat(Se.q4),tracking:"Version"}),(0,d.jsx)(a.Lt.Separator,{}),(0,d.jsx)(xt,{icon:"signIn",onClick:function(){return p.signIn()},title:"Sign in"})]})]})}),(0,d.jsx)(a.Vq,{onOpenChange:K,open:Y,children:(0,d.jsxs)(a.Kq,{gap:5,children:[(0,d.jsxs)(a.Kq,{css:{justifyContent:"space-between"},horizontal:!0,children:[(0,d.jsx)(a.Vq.Title,{children:"Debug"}),(0,d.jsx)(a.Vq.CloseIconButton,{})]}),(0,d.jsx)(vt,{})]})}),"AUTHENTICATED"===f.state&&(0,d.jsx)(dt,{setShowFeedback:H,showFeedback:$})]})},St=function(){var e=(0,O.E)().navigation,t=(0,u.E)().isFree,n=(0,c.A)(),i=(0,o.k)(),s=(0,r.Z)(i,1)[0];return t&&n&&"AUTHENTICATED"===s.state?(0,d.jsx)(a.kP,{onClick:function(){e.changeUrl(l.Hb.pro({workspaceId:n.id,source:"v2_status_badge"}))},title:"".concat(n.name===s.user.username?"You are ":"".concat(n.name," is "),"currently on a FREE plan. Upgrade to Team PRO for the full CodeSandbox Experience."),variant:"accentTrial",children:"Free"}):null},It=function(){var e=function(){var e=(0,ht.w)(),t=s.useState(e.clients.system.getMetrics()),n=(0,r.Z)(t,2),i=n[0],o=n[1];if(s.useEffect((function(){var t=e.clients.system.onMetricsUpdated(o);return function(){t.dispose()}}),[]),!i)return null;var a=Math.round(i.cpu.used),c=Math.round(100*i.memory.used/i.memory.total),u=Math.round(100*i.storage.used/i.storage.total);return u>=80&&u>=a&&u>=c?{type:"storage",severity:u>=90?"error":"warning",value:u}:c>=80&&c>=u&&c>=a?{type:"memory",severity:c>=90?"error":"warning",value:c}:a>=80&&a>=u&&a>=c?{type:"cpu",severity:a>=90?"error":"warning",value:a}:null}();!function(){var e,t,n,o=(0,p.O0)(),a=(0,i.PY)(),c=(0,ht.w)(),u=(0,N.uK)(),l=(0,r.Z)(u,2),d=(l[0],l[1]),f=c.clients.system.getMetrics();(0,s.useEffect)((function(){f&&a.resources&&(a.resources.cpu>f.cpu.configured||a.resources.memory>f.memory.configured||a.resources.storage>f.storage.configured)&&o({message:"Your branch is running on specs lower then what your subscription gives you by default. Please restart the branch to use the full specs.",uniqueName:"system-metrics-notification",actions:[{text:"Restart the branch",onAction:function(){d({type:"RESTART_CONTAINER"})}}]})}),[f,a.resources,d,null===(e=a.resources)||void 0===e?void 0:e.cpu,null===(t=a.resources)||void 0===t?void 0:t.memory,null===(n=a.resources)||void 0===n?void 0:n.storage,null===f||void 0===f?void 0:f.cpu.configured,null===f||void 0===f?void 0:f.memory.configured,null===f||void 0===f?void 0:f.storage.configured,o])}();var t=(0,q.$Y)(),n=(0,r.Z)(t,2),o=n[0].tabbedPanels,c=n[1],u=(0,m.z$)(),l=(0,q.findFirstTabByType)(o,"SYSTEM_METRICS"),f=null===l||void 0===l?void 0:l.tab,h=null===l||void 0===l?void 0:l.panelId,b=Object.values(o).find((function(e){return e.activeTabId===(null===f||void 0===f?void 0:f.id)}));return(0,s.useEffect)((function(){e&&u("show_resource_alert",{type:e.type})}),[e]),!e||b?null:(0,d.jsx)(a.kP,{onClick:function(){u("open_system_metrics",{event_source:"badge"}),c(f&&h?{type:"SET_ACTIVE_TAB",tabId:f.id}:{type:"OPEN_TAB",tab:{type:"SYSTEM_METRICS"}})},title:"See detailed VM resource usage",variant:e.severity,children:"".concat(Rt[e.type]," ").concat(e.value,"%")})},Rt={cpu:"CPU usage",memory:"RAM usage",storage:"Disk usage"},At=function(e){var t=e.children,n=e.style,r=(0,L.IZ)().isAnimating;return(0,d.jsx)(_.M,{children:(0,d.jsx)(k.E.div,{animate:r?"faded":"visible",initial:"visible",style:n,variants:{faded:{opacity:0},visible:{opacity:1}},children:t})})},Ct=function(e){var t=e.children,n=(0,i.PY)().allowedCapabilities,o=(0,N.uK)(),s="READY"===(0,r.Z)(o,1)[0].state;return(0,d.jsx)(a.xu,{css:{px:"$3",height:"100%",background:"$neutral-bg-base"},children:(0,d.jsxs)(a.Kq,{css:{justifyContent:"space-between",height:"100%",alignItems:"flex-start"},gap:0,horizontal:!0,children:[(0,d.jsx)(At,{style:{flex:1},children:(0,d.jsxs)(a.Kq,{css:{justifyContent:"flex-start"},gap:3,horizontal:!0,children:[(0,d.jsx)(Tt,{}),(0,d.jsx)(St,{}),(0,d.jsx)(He,{}),n.viewVMMetrics&&(0,d.jsx)(It,{})]})}),(0,d.jsx)(Me,{isInteractive:s}),(0,d.jsx)(At,{style:{flex:1},children:(0,d.jsx)(a.Kq,{css:{justifyContent:"flex-end"},gap:4,horizontal:!0,children:t})})]})})},Dt=function(e){var t=e.children;return(0,d.jsxs)(a.xu,{css:{width:"100vw",height:"100vh",overflow:"hidden",background:"$neutral-bg-base"},children:[(0,d.jsx)(a.xu,{css:{height:D}}),(0,d.jsx)(a.xu,{css:{height:"calc(100vh - ".concat(D,")")},children:t})]})},Nt=function(){var e=(0,C.a)().restrictsPublicRepos,t=(0,i.PY)(),n=t.contribution,s=t.type,c=(0,o.k)(),u=(0,r.Z)(c,2),l=u[0],f=u[1];return e&&"AUTHENTICATED"===l.state&&"branch"===s?(0,d.jsxs)(a.$g,{variant:"warning",children:[(0,d.jsxs)("span",{children:["Adjust your GitHub permissions to"," ",n?"contribute to open source projects.":"access your repositories."]}),(0,d.jsx)(a.$g.MultiActions,{options:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.$g.MultiActionsItem,{onSelect:function(){return f.signIn({type:"github",includedScopes:"private_repos"})},children:"Access all repositories"}),(0,d.jsx)(a.$g.MultiActionsItem,{onSelect:function(){return f.signIn({type:"github",includedScopes:"public_repos"})},children:"Access only public repositories"})]}),selfTrigger:!0,children:"Review GitHub permissions"})]}):null},_t=function(e){var t=e.children,n=e.className,r=e.isReady,i=e.topbarItems,o=void 0===i?null:i;return(0,d.jsxs)(a.Kq,{className:n,css:{width:"100vw",height:"100vh",overflow:"clip",background:"$neutral-bg-base"},gap:0,children:[r&&(0,d.jsx)(A,{}),r&&(0,d.jsx)(Nt,{}),(0,d.jsx)(a.xu,{css:{minHeight:D,paddingTop:"$2"},children:Boolean(o)&&(0,d.jsx)(Ct,{children:o})}),(0,d.jsx)(a.xu,{css:{flex:1,overflow:"hidden"},children:t})]})}},28218:function(e,t,n){"use strict";n.d(t,{o:function(){return c},H:function(){return u}});var r=n(87795),i=n(67855),o=n(29901),a=n(61250),s=o.createContext({visible:!1,setVisibility:function(){},activeTab:"repository",setActiveTab:function(){}}),c=function(e){var t=e.children,n=(0,i.PY)(),c=o.useState(!1),u=(0,r.Z)(c,2),l=u[0],d=u[1],f=o.useState("sandbox"===n.type?"env":"repository"),p=(0,r.Z)(f,2),h=p[0],b=p[1];return(0,a.jsx)(s.Provider,{value:{visible:l,setVisibility:function(e){return d(e)},activeTab:h,setActiveTab:b},children:t})},u=function(){return o.useContext(s)}},7080:function(e,t,n){"use strict";n.d(t,{R:function(){return O}});var r=n(87795),i=n(68215),o=n(950),a=n(79884),s=n(29901),c=n(71731),u=n(61250),l=function(e){var t=e.privacy,n=e.size;return 0===t?(0,u.jsx)(a.u,{content:"This is a public sandbox, everyone can see it directly or through search",children:(0,u.jsx)(a.xu,{css:{marginTop:2},children:(0,u.jsx)(a.JO,{size:n,type:"community"})})}):1===t?(0,u.jsx)(a.u,{content:"This is an unlisted sandbox, only people with the link can see it",children:(0,u.jsx)(a.xu,{css:{marginTop:2},children:(0,u.jsx)(a.JO,{size:n,type:"eyeClose"})})}):2===t?(0,u.jsx)(a.u,{content:"This is a private sandbox, only collaborators and team members can see it",children:(0,u.jsx)(a.xu,{css:{marginTop:2},children:(0,u.jsx)(a.JO,{size:n,type:"lockClose"})})}):null},d=n(59949),f=n(96661),p=n(94449),h=n(4339),b=(0,a.zo)("dt",{display:"flex",alignItems:"center",color:"$neutral-fg-subtle"}),v=(0,a.zo)("dd",{marginInlineStart:0,display:"flex",alignItems:"center",color:"$neutral-fg-subtle"}),m=(0,a.zo)("a",{transition:"color $fast",marginInlineStart:0,display:"flex",alignItems:"center",textDecoration:"none",color:"$neutral-fg-subtle","&:hover":{color:"$neutral-fg-high"}}),g=(0,a.zo)("div",{display:"flex",gap:"$1"}),y=(0,a.zo)("dl",{display:"flex",gap:"$4",margin:0,width:"100%"}),E=(0,a.zo)("h5",{margin:0,fontWeight:"$medium",fontSize:"13px",lineHeight:"$subheading2"}),O=function(e){var t,n,O=e.sandbox,x=e.showTitle,j=e.onEditClick,w=(0,c.Z)(),T=(0,r.Z)(w,2),S=T[0],I=T[1].width,R=(0,s.useState)(!1),A=R[0],C=R[1],D=(0,h.a)(),N=O.forkedTemplate,_=O.forkedFromSandbox,k=O.forkedTemplateSandbox,L=(0,f.k)(O),F=L.title,B=L.description,U=(0,o.bX)(),M=null===O.team||null!==O.team&&(null===O||void 0===O||null===(t=O.author)||void 0===t?void 0:t.personalWorkspaceId)===O.team.id,Z=null!==O.team&&O.team.id!==(null===(n=O.author)||void 0===n?void 0:n.personalWorkspaceId);(0,s.useEffect)((function(){C(I<120)}),[I]);var G=O.git;return(0,u.jsxs)(a.xu,{ref:S,css:{display:"flex",flexDirection:"column",gap:"$4",paddingLeft:"$1",width:"100%"},children:[x&&F?(0,u.jsxs)(a.xu,{css:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsxs)(a.Kq,{css:{alignItems:"center"},gap:2,horizontal:!0,children:[(0,u.jsx)(E,{children:F}),(0,u.jsx)(l,{privacy:O.privacy,size:3})]}),j&&D?(0,u.jsx)(a.zx,{css:{marginTop:"-$2",marginRight:"-$2",marginBottom:"-$2"},icon:"edit",onClick:function(){U({type:"OPEN_TAB",tab:{type:"SANDBOX_INFO"}}),null===j||void 0===j||j()}}):null]}):null,(B||_)&&(0,u.jsxs)(a.Kq,{gap:4,children:[B&&(0,u.jsxs)(a.xu,{css:{wordBreak:"break-word",lineHeight:1.4,marginBottom:"$4"},selectable:!0,children:[B,G&&(0,u.jsx)(a.xu,{css:{marginTop:"$3",width:"fit-content"},children:(0,u.jsxs)(a.kP,{icon:"github",onClick:function(){var e="https://github.com/".concat(G.username,"/").concat(G.repo);G.branch&&(e+="/tree/".concat(G.branch)),G.path&&(e+="/".concat(G.path)),window.open(e,"_blank")},children:[G.username,"/",G.repo]})})]}),_?(0,u.jsxs)(a.Kq,{gap:1,horizontal:!0,children:[(0,u.jsx)(a.xu,{css:{whiteSpace:"nowrap"},children:"Forked from"}),(0,u.jsx)(a.xu,{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",a:{color:"$neutral-fg-subtle",transition:"color $fast",textDecoration:"none","&:hover":{color:"$neutral-fg-high"}}},children:(0,u.jsx)("a",{href:(0,p.wE)(d.Hb.editor.sandbox(_.id)),rel:"noopener noreferrer",target:"_blank",children:(null===_||void 0===_?void 0:_.title)||(null===_||void 0===_?void 0:_.alias)})})]}):null,!_&&null==O.customTemplate&&N&&k?(0,u.jsxs)(a.Kq,{gap:1,horizontal:!0,children:[(0,u.jsx)(a.xu,{css:{whiteSpace:"nowrap"},children:"Made with"}),(0,u.jsx)(a.xu,{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",a:{color:"$neutral-fg-subtle",transition:"color $fast",textDecoration:"none","&:hover":{color:"$neutral-fg-high"}}},children:(0,u.jsx)("a",{href:(0,p.wE)(d.Hb.editor.sandbox(k.id)),rel:"noopener noreferrer",target:"_blank",children:null===N||void 0===N?void 0:N.title})})]}):null]}),(0,u.jsx)(a.xu,{children:(0,u.jsxs)(y,{children:[A?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(g,{children:[(0,u.jsx)(b,{children:(0,u.jsx)(a.JO,{size:4,type:"eyeOpen"})}),(0,u.jsx)(v,{children:P(O.viewCount)})]}),(0,u.jsxs)(g,{children:[(0,u.jsx)(b,{children:(0,u.jsx)(a.JO,{size:4,type:"gitFork"})}),(0,u.jsx)(v,{children:P(O.forkCount)})]})]}),O.author&&M&&(0,u.jsxs)(g,{children:[(0,u.jsx)(b,{children:(0,u.jsx)(i.b,{avatarSrc:O.author.avatarUrl,name:O.author.name||O.author.username})}),(0,u.jsx)(m,{href:d.Hb.userProfile(O.author.username),target:"_blank",children:O.author.name||O.author.username})]}),O.team&&Z&&(0,u.jsxs)(g,{children:[(0,u.jsx)(i.b,{avatarSrc:O.team.avatarUrl,name:O.team.name}),(0,u.jsx)(a.xv,{color:"neutral-fg-subtle",children:O.team.name})]})]})})]})};function P(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):"".concat(e)}},4339:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(87795),i=n(14416),o=n(44173),a=function(){var e=(0,i.i2)(),t=(0,r.Z)(e,1)[0].data,n=(0,o.k)(),a=(0,r.Z)(n,1)[0];if(!t||"AUTHENTICATED"!==a.state)return!1;return["owner","write_code","write_project"].includes(t.authorization)}},68215:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(79884),i=n(61250),o=function(e){var t=e.name,n=e.icon,o=e.avatarSrc,a=e.isWorkspace;return(0,i.jsx)(r.xu,{css:{borderRadius:a?2:"50%",overflow:"hidden",position:"relative",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center","&::after":{content:"",borderRadius:a?2:"50%",width:"100%",height:"100%",position:"absolute",inset:0,boxShadow:"inset 0px 0px 0px 1px rgba(192, 192, 192, .66)"}},children:n||(0,i.jsx)(r.qE,{name:t,shape:a?"block":"circle",size:"s",src:o})})}},70333:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(7603),i=n(79884),o=n(61250);var a=function(e){var t=e.templateName,n=e.iconUrl,a=e.width,s=e.height,c=function(e,t){if(t)return"github"===t?function(e){var t=e.width,n=e.height;return(0,o.jsx)(i.JO,{css:{width:t,height:n},type:"github"})}:t.startsWith("https://")?function(n){var r=n.width,i=n.height;return(0,o.jsx)("img",{alt:e,height:i,src:t,width:r})}:r._q[t]}(t,n)||r._q.ReactIcon;return(0,o.jsx)(c,{height:s,width:a})}},90528:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(41669),i=(n(29901),n(79884)),o=n(61250),a=function(e){var t=e.children;return(0,o.jsx)(i.xu,{as:"ul",css:{margin:0,padding:0,"> *":{marginBottom:"$3"},"> :last-child":{marginBottom:"$0"}},children:t})};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=function(e){return(0,o.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))};c.Item=function(e){var t=e.name,n=e.version;return(0,o.jsxs)(i.xu,{as:"li",css:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,o.jsxs)(i.xu,{as:"span",css:{marginRight:"$2"},children:[t,":"]})," ",(0,o.jsx)(i.xu,{as:"span",css:{textAlign:"right",fontFamily:"$mono",lineHeight:"1.3"},children:n})]})}},72080:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(79884),i=n(61250),o=function(e){var t=e.workspace,n=e.currentUser,o=null===t.id;return n&&n.username===t.name?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.qE,{name:n.name,shape:"block",size:"xs",src:n.avatarUrl}),(0,i.jsx)("span",{style:{marginLeft:"10px"},children:"Personal"})]}):o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.JO,{size:4,type:"eyeOpen"})," ",(0,i.jsx)("span",{style:{marginLeft:"10px"},children:"Public"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.qE,{name:t.name,shape:"block",size:"xs",src:t.avatarUrl})," ",(0,i.jsx)("span",{style:{marginLeft:"10px"},children:t.name})]})}},55559:function(e,t,n){"use strict";var r;n.d(t,{b:function(){return r}}),function(e){e[e.Connecting=0]="Connecting",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected"}(r||(r={}))},39652:function(e,t,n){"use strict";n.d(t,{ql:function(){return y},T0:function(){return g}});var r=n(87795),i=n(43576),o=n(34854),a=n(29901),s=n(29808),c=n(87909),u=n(69837),l=n(80274),d=n(37535),f=n(41669);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={"PITCHER:GIT:STATUS":function(e,t){var n=t.status;return h(h({},e),{},{status:n})}},v=function(e,t){return(0,i.eR)(e,t,{READY:h(h({},b),{},{PULL_REMOTE:function(e){return h(h({},e),{},{state:"PULL_IN_PROGRESS"})},PULL_REMOTE_TARGET:function(e){return h(h({},e),{},{state:"PULL_IN_PROGRESS"})},"PITCHER:GIT:PULL_STARTED":function(e){return h(h({},e),{},{state:"PULL_IN_PROGRESS"})},COMMIT:function(e,t){var n=t.message,r=t.paths,i=t.push;return h(h({},e),{},{state:"AWAITING_COMMIT",pendingCommit:{state:"PENDING",message:n,paths:r,push:i}})},DISCARD_CHANGES:function(e,t){var n=t.paths,i=Object.entries(e.status.changedFiles).reduce((function(e,t){var i=(0,r.Z)(t,2),o=i[0],a=i[1];return n.includes(a.path)||(e[o]=a),e}),{}),o=e.status.deletedFiles.filter((function(e){return!n.includes(e.path)}));return h(h({},e),{},{state:"DISCARD_IN_PROGRESS",pathsToDiscard:n,status:h(h({},e.status),{},{changedFiles:i,deletedFiles:o,localChanges:Object.values(i).length>0}),statusRef:e.status})},"PITCHER:GIT:COMMIT_STARTED":function(e,t){var n=t.shellId,r=t.message;return h(h({},e),{},{shellId:n,state:"COMMIT_IN_PROGRESS",pendingCommit:{state:"PENDING",message:r}})}}),PULL_IN_PROGRESS:h(h({},b),{},{"PITCHER:GIT:PULL_FINISHED":function(e){return h(h({},e),{},{state:"READY"})},"PITCHER:GIT:PULL_SUCCESS":function(e){return h(h({},e),{},{state:"READY"})},"PITCHER:GIT:PULL_ERROR":function(e){return h(h({},e),{},{state:"READY"})}}),AWAITING_COMMIT:h(h({},b),{},{"PITCHER:GIT:COMMIT_SUCCESS":function(e,t){var n=t.shellId;return h(h({},e),{},{shellId:n,state:"COMMIT_IN_PROGRESS"})},"PITCHER:GIT:COMMIT_ERROR":function(e){return{state:"READY",status:e.status,targetBranchName:e.targetBranchName}}}),COMMIT_IN_PROGRESS:{"PITCHER:GIT:STATUS":function(e,t){var n,r=t.status;return e.status.commits.length<r.commits.length&&(null===(n=r.commits[0])||void 0===n?void 0:n.message)===e.pendingCommit.message?{state:"READY",status:r,targetBranchName:e.targetBranchName}:h(h({},e),{},{status:r})},"PITCHER:GIT:COMMIT_FINISHED":function(e,t){var n=e.targetBranchName;return{state:"READY",status:t.status,targetBranchName:n}},"PITCHER:GIT:COMMIT_FINISHED_ERROR":function(e){return h(h({},e),{},{state:"COMMIT_ERROR",pendingCommit:h(h({},e.pendingCommit),{},{state:"ERROR"})})}},COMMIT_ERROR:{"PITCHER:GIT:STATUS":function(e,t){var n=t.status,r=e.status.head!==n.head||!Object.keys(n.changedFiles).length&&!n.deletedFiles.length;return h(h({},e),{},{state:r?"READY":e.state,status:n})},COMMIT:function(e,t){var n=t.message,r=t.paths,i=t.push;return h(h({},e),{},{state:"AWAITING_COMMIT",pendingCommit:{state:"PENDING",message:n,paths:r,push:i}})},DISCARD_PENDING_COMMIT:function(e){return{status:e.status,targetBranchName:e.targetBranchName,state:"READY"}}},DISCARD_IN_PROGRESS:h(h({},b),{},{"PITCHER:GIT:DISCARD_SUCCESS":function(e){return h(h({},e),{},{state:"READY"})},"PITCHER:GIT:DISCARD_ERROR":function(e){return h(h({},e),{},{state:"READY"})},ABORT_DISCARD_CHANGES:function(e){return h(h({},e),{},{state:"READY",status:e.statusRef})}})})},m=function(e){return"".concat(e," ").concat(1===e?"file":"files")},g=(0,s.y)((function(e){var t=e.initialState,n=e.targetBranchName,s=(0,o.E)(),f=s.api,p=s.sentry,h=(0,l.l)(),b=(0,a.useReducer)(v,t||{state:"READY",status:h.git.getStatus(),targetBranchName:n}),g=(0,c.tA)(),y=(0,c.O0)();(0,d.f)("git",b);var E=(0,r.Z)(b,2),O=E[0],P=E[1];return(0,a.useEffect)((function(){return h.events.subscribe(P)}),[]),(0,a.useEffect)((function(){return f.events.subscribe(P)}),[]),(0,i.Dm)(O,{READY:{PULL_REMOTE:"PULL_IN_PROGRESS"}},(function(){h.git.pull()})),(0,i.Dm)(O,{READY:{PULL_REMOTE_TARGET:"PULL_IN_PROGRESS"}},(function(){h.git.pull(O.targetBranchName)})),(0,i.Dm)(O,"AWAITING_COMMIT",(function(e){var t=e.pendingCommit,n=t.message,r=t.paths,i=void 0===r?void 0:r,o=t.push,a=void 0===o||o;h.git.commit({message:n,paths:i,push:a})})),(0,i.Dm)(O,{AWAITING_COMMIT:"PITCHER:GIT:COMMIT_ERROR"},(function(){y({message:"Not able to start the commit, please try again"})})),(0,i.Dm)(O,"DISCARD_IN_PROGRESS",(function(e){var t=e.pathsToDiscard,n=e.statusRef,r=n.deletedFiles.filter((function(e){return t.includes(e.path)})),i=Object.values(n.changedFiles).filter((function(e){return t.includes(e.path)&&("?"===e.workingTree||"?"===e.index)})),o=Object.values(n.changedFiles).filter((function(e){return t.includes(e.path)&&("M"===e.index||"M"===e.workingTree)})),a=[];o.length>0&&a.push("Discarded changes in ".concat(m(o.length),".")),r.length>0&&a.push("Restored ".concat(m(r.length),".")),i.length>0&&a.push("Deleted ".concat(m(i.length),"."));g({message:a.join(" "),actions:[{text:"Undo",onAction:function(){return P({type:"ABORT_DISCARD_CHANGES"})}}],callback:function(){var e=o.concat(r).map((function(e){return e.path}));e.length>0&&h.git.discard(e),i.length>0&&i.forEach((function(e){var t=e.fileId;return t&&h.fs.client.deleteNode(t)}))}})})),(0,i.Dm)(O,{PULL_IN_PROGRESS:{"PITCHER:GIT:PULL_ERROR":"READY"},DISCARD_IN_PROGRESS:{"PITCHER:GIT:DISCARD_ERROR":"READY"}},(function(e,t){t.error.includes("Merge conflict")?g({message:"There was a merge conflict while pulling from git. Resolve the merge conflict and try again.",status:"error"}):(g({message:"Could not finish the operation. Please try again later.",status:"error"}),p.reportError(t.error,(0,u.B)("git",{state:e.state,event:t.type})))})),b})),y=g.Provider;g.Consumer},950:function(e,t,n){"use strict";n.d(t,{aM:function(){return xe},MAIN_SECTION_PANEL_IDS:function(){return R},SHELL_PANEL_ASSIGNED_TAB_TYPES:function(){return C},createTab:function(){return ie},createTabClone:function(){return oe},findFirstTabByType:function(){return U},findMatchingTabInPanels:function(){return M},findTabbedPanelByTabId:function(){return B},findTopLeftPanel:function(){return F},useActiveFile:function(){return m.e},$Y:function(){return Oe},bX:function(){return Pe},Hv:function(){return be}});var r=n(29808),i=n(87795),o=n(43576),a=n(34854),s=n(80274),c=n(37535),u=n(86007),l=n(94758),d=n(58572),f=n(67855),p=n(76636),h=n(43308),b=n(29901),v=n(3749),m=n(54270),g=n(41669),y=n(53702),E=n(88031),O=n(24856),P=n(29673),x=["id","mode"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=[P.W_,P.tx,P.HQ,P.ID],R=[P.tx,P.HQ,P.ID],A=["DIFF","FILE","PR_INFO"],C=["TASK_LOG","TERMINAL","NEW_TERMINAL","GIT_LOG"],D=function(e,t){var n=k(e,t),r=_(e,t);return!(!n||!r)&&(!I.includes(r.id)||1!==r.panels.length)},N=function e(t,n){if(t.id===n)return t;var r,i=T(t.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("PANEL_GROUP"===o.type){var a=e(o,n);if(a)return a}}}catch(s){i.e(s)}finally{i.f()}},_=function e(t,n){if(t.panels.findIndex((function(e){return e.id===n}))>=0)return t;var r,i=T(t.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("PANEL_GROUP"===o.type){var a=e(o,n);if(a)return a}}}catch(s){i.e(s)}finally{i.f()}},k=function e(t,n){var r,i=T(t.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("PANEL"===o.type&&o.id===n)return o;if("PANEL_GROUP"===o.type){var a=e(o,n);if(a)return a}}}catch(s){i.e(s)}finally{i.f()}},L=function e(t){var n,r=T(t.panels);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("PANEL"===i.type)return i;if("PANEL_GROUP"===i.type)return e(i)}}catch(o){r.e(o)}finally{r.f()}},F=function e(t){if(0!==t.panels.length){var n=t.panels[0],r=t.panels[t.panels.length-1];return"horizontal"===t.direction?"PANEL"===r.type?r:e(r):"vertical"===t.direction?"PANEL"===n.type?n:e(n):void 0}},B=function(e,t){return Object.values(e).find((function(e){return e.tabs.some((function(e){return e.id===t}))}))},U=function(e,t){return Object.values(e).map((function(e){return{tab:e.tabs.find((function(e){return e.type===t})),panelId:e.id}})).find((function(e){return e.tab}))},M=function(e,t){return Object.values(e).map((function(e){return{tab:e.tabs.find((function(e){return Z(e,t)}))||null,panel:e}})).find((function(e){return e.tab}))||{tab:null,panel:null}},Z=function(e,t){return e.type===t.type&&("TASK_LOG"===e.type&&"TASK_LOG"===t.type?e.taskId===t.taskId:"TASK_PORT"===e.type&&"TASK_PORT"===t.type?e.taskId===t.taskId&&e.port===t.port:"TERMINAL"===e.type&&"TERMINAL"===t.type?e.shellId===t.shellId:"UNASSIGNED_PORT"===e.type&&"UNASSIGNED_PORT"===t.type?e.port===t.port:"FILE"!==e.type&&"DIFF"!==e.type||"FILE"!==t.type&&"DIFF"!==t.type?"ASSISTANT_CHAT"===e.type&&"ASSISTANT_CHAT"===t.type?e.chatId===t.chatId:!!e.type||void 0:e.filepath===t.filepath)},G=function(e,t,n){var r,i=n||(null===(r=B(e,t))||void 0===r?void 0:r.id);if(!i)throw new Error("Tab ".concat(t," could not be found"));var o=e[i];if(!o)throw new Error("Panel ".concat(i," does not exist"));return o},z=function e(t,n,r,i){return t.id===n?w(w({},t),{},{panels:[].concat((0,E.Z)(t.panels.slice(0,i)),[{type:"PANEL",contentType:t.contentType,id:r}],(0,E.Z)(t.panels.slice(i))),sizes:void 0}):w(w({},t),{},{panels:t.panels.map((function(t){return"PANEL_GROUP"===t.type?e(t,n,r,i):t}))})},$=function e(t,n,r){return t.id===n?w(w({},t),{},{sizes:r}):w(w({},t),{},{panels:t.panels.map((function(t){return"PANEL_GROUP"===t.type?e(t,n,r):t}))})},H=function(e,t,n){var r=q(e,n),i=W(r,t);return"PANEL"===i.type?{type:"PANEL_GROUP",panels:[i],contentType:"UNKNOWN",direction:"horizontal",id:P.W_}:i},W=function e(t,n){var r=t.panels.filter((function(e){return"PANEL"===e.type||"PANEL_GROUP"===e.type&&0!==e.panels.length}));if(1===r.length&&!I.includes(t.id)){var i=r[0];return"PANEL_GROUP"===i.type?e(i,n):(n[t.id]=w(w({},n[i.id]),{},{id:t.id}),delete n[i.id],w(w({},i),{},{id:t.id}))}return w(w({},t),{},{panels:r.map((function(t){return"PANEL_GROUP"===t.type?e(t,n):t}))})},q=function e(t,n){var r=t.panels.some((function(e){return e.id===n}));return w(w({},t),{},{panels:t.panels.filter((function(e){return e.id!==n})).map((function(t){if("PANEL_GROUP"===t.type){var r=e(t,n);return 0===r.panels.length?null:r}return t})).filter((function(e){return null!==e})),sizes:r?void 0:t.sizes})},Y=function e(t,n,r){return w(w({},t),{},{panels:t.panels.map((function(t){return"PANEL"===t.type?t.id===n?r:t:e(t,n,r)}))})},K=function(e,t){var n=e.tabs.findIndex((function(e){return e.id===t}));if(n<0)return e;if(1===e.tabs.length)return{id:e.id,tabs:[],activeTabId:void 0};var r=e.tabs.filter((function(e){return e.id!==t})),i=0===n?0:n-1;return{id:e.id,tabs:r,activeTabId:e.activeTabId===t&&r[i]?r[i].id:e.activeTabId}};var V=function(){var e=ie({type:"PROJECT_SETUP"});return se(e)},J=function(e,t){var n=e.map((function(e){return ie({type:"TASK_LOG",taskId:e.id})})),r=t.map((function(e){return ie({type:"TERMINAL",shellId:e.id})}));return n.length+r.length===0?se(ie({type:"NEW_TERMINAL"})):se.apply(void 0,(0,E.Z)(n).concat((0,E.Z)(r)))},X=function(e){var t=e.reduce((function(e,t){var n;if(0===t.ports.length)return e;var r=(null===(n=t.preview)||void 0===n?void 0:n.port)||Math.min.apply(Math,(0,E.Z)(t.ports.map((function(e){return e.port}))));return[].concat((0,E.Z)(e),[ie({type:"TASK_PORT",taskId:t.id,port:r})])}),[]);return se.apply(void 0,(0,E.Z)(t))},Q=function(e){var t,n=e.editorPanel,r=e.devtoolsPanel,i=e.shellsPanel,o=e.layoutType,a="EMBED"===o;a&&(t=r.tabs).push.apply(t,(0,E.Z)(i.tabs));var s=ne(n),c=te(r,o),u=re(i),l=ee({layoutType:o,editorPanelGroup:s,devtoolsPanelGroup:c,shellsPanelGroup:u}),d=[n,r];return a||d.push(i),{state:"READY",layoutStructure:l,layoutType:o,tabbedPanels:d.reduce((function(e,t){return w(w({},e),{},(0,g.Z)({},t.id,t))}),{})}},ee=function(e){var t=e.layoutType,n=e.editorPanelGroup,r=e.shellsPanelGroup,i=e.devtoolsPanelGroup;if("DEFAULT"===t){var o={type:"PANEL_GROUP",contentType:"UNKNOWN",direction:"vertical",id:(0,O.QL)(),sizes:[70,30],panels:[n,r]};return{direction:"horizontal",contentType:"UNKNOWN",type:"PANEL_GROUP",id:P.W_,panels:[o,i],sizes:[50,50]}}if("ALTERNATIVE"===t){var a={type:"PANEL_GROUP",contentType:"UNKNOWN",direction:"horizontal",id:(0,O.QL)(),sizes:[50,50],panels:[n,i]};return{direction:"vertical",contentType:"UNKNOWN",type:"PANEL_GROUP",id:P.W_,panels:[a,r],sizes:[70,30]}}return{direction:"vertical",contentType:"UNKNOWN",type:"PANEL_GROUP",id:P.W_,panels:[n,i],sizes:[50,50]}},te=function(e,t){return{type:"PANEL_GROUP",contentType:"DEVTOOLS",direction:"EMBED"===t?"horizontal":"vertical",id:P.HQ,panels:[{type:"PANEL",contentType:"DEVTOOLS",id:e.id}]}},ne=function(e){return{type:"PANEL_GROUP",contentType:"EDITOR",direction:"horizontal",id:P.tx,panels:[{type:"PANEL",contentType:"EDITOR",id:e.id}]}},re=function(e){return{type:"PANEL_GROUP",contentType:"SHELLS",direction:"horizontal",id:P.ID,panels:[{type:"PANEL",contentType:"SHELLS",id:e.id}]}},ie=function(e){return w({id:(0,O.QL)(),mode:"permanent"},e)},oe=function(e){if("UNASSIGNED_PORT"===e.type||"TASK_PORT"===e.type||"ASSISTANT_CHAT"===e.type||"PR_INFO"===e.type||"SANDBOX_INFO"===e.type||"FILE"===e.type||"DIFF"===e.type){e.id,e.mode;var t=(0,y.Z)(e,x);return ie(t)}return null},ae=function(){return{tabs:[],id:(0,O.QL)()}},se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{tabs:t,id:(0,O.QL)(),activeTabId:t.length>0?t[0].id:void 0}},ce=function(e,t){var n=G(e.tabbedPanels,t);if(1===n.tabs.length&&D(e.layoutStructure,n.id)){var r=w({},e.tabbedPanels);delete r[n.id];var i=H(e.layoutStructure,r,n.id);return w(w({},e),{},{tabbedPanels:r,layoutStructure:i})}return w(w({},e),{},{tabbedPanels:w(w({},e.tabbedPanels),{},(0,g.Z)({},n.id,K(n,t)))})},ue=function(){return window.self!==window.top},le=n(27457);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe={sidebarPanel:"EXPLORER",rootPanelGroup:null,tabbedPanels:null,showDevtools:!0,showShells:!0,showSidebar:!0,sidebarPanelSize:15},he={sidebarPanel:"EXPLORER",rootPanelGroup:null,tabbedPanels:null,showDevtools:!0,showSidebar:!1,showShells:!1,sidebarPanelSize:0},be=(0,r.y)((function(e){var t=e.router,n=e.initialState,r=(0,b.useRef)(),i=(0,f.PY)(),o=(0,b.useMemo)((function(){return{branch:i.name,owner:i.owner,repo:i.repo}}),[i]),a=t.queryParams.layout.get(),s=t.queryParams.sidebar.get(),c=t.queryParams.mode.get(),u=!!i.pullRequest&&"review"===c;r.current||(r.current=(0,le.PC)(o,a));var l=(0,b.useState)(n||fe(fe(fe(fe({},ue()?he:pe),r.current),void 0===s?{}:{showSidebar:s,sidebarPanelSize:s?15:0}),u?{showSidebar:!0,sidebarPanelSize:15,sidebarPanel:"PR"}:{})),d=l[0],p=l[1];a&&t.queryParams.layout.delete(),void 0!==s&&t.queryParams.sidebar.delete(),(0,b.useEffect)(le.SW,[]),(0,b.useEffect)((function(){(0,le.Fb)(d,o)}),[d,o]);return[d,function(e){p((function(t){var n="function"===typeof e?e(t):fe(fe({},t),e);return JSON.stringify(t)!==JSON.stringify(n)?n:t}))}]})),ve=n(85289);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e,t){return(0,o.eR)(e,t,{READY:{SET_ACTIVE_TAB:function(e,t){var n=t.tabId,r=G(e.tabbedPanels,n);return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},r.id,ge(ge({},r),{},{activeTabId:n})))})},SET_TAB_PARAMS:function(e,t){var n=t.mode,r=t.params,i=t.tabId,o=G(e.tabbedPanels,i);return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},o.id,ge(ge({},o),{},{tabs:o.tabs.map((function(e){return e.id===i?ge({id:e.id,mode:n||e.mode},r):e}))})))})},UPDATE_TAB_PARAMS:function(e,t){var n=t.mode,r=t.params,i=t.tabId,o=G(e.tabbedPanels,i);return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},o.id,ge(ge({},o),{},{tabs:o.tabs.map((function(e){return e.id===i?ge(ge({},e),{},{mode:n||e.mode},r):e}))})))})},OPEN_TAB:function(e,t){var n=t.tab,r=t.panelId,i=t.index,o=void 0===i?0:i,a=t.forceNewTab,s=t.mode,c=void 0===s?"permanent":s,u=t.silent,l=void 0!==u&&u;if(!a){var d=M(e.tabbedPanels,n),f=d.tab,p=d.panel;if(f)return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},p.id,ge(ge({},p),{},{activeTabId:l&&p.activeTabId?p.activeTabId:f.id,tabs:p.tabs.map((function(e){return e.id===f.id?ge(ge(ge({},e),n),{},{mode:"permanent"}):e}))})))})}var h=(0,O.QL)(),b=ge(ge({},n),{},{id:h,mode:c}),v=P.HQ;C.includes(n.type)&&"EMBED"!==e.layoutType&&(v=P.ID),A.includes(n.type)&&(v=P.tx);var m,y=N(e.layoutStructure,v)||e.layoutStructure;if(r)m=e.tabbedPanels[r];else{var x=L(y);if(!x)throw new Error('No panel available for content type "'.concat(y.contentType,'"'));m=e.tabbedPanels[x.id]}var j="DIFF"===n.type||"FILE"===n.type?m.tabs.filter((function(e){return"permanent"===e.mode})):m.tabs;return ge(ge({},e),{},{layoutStructure:e.layoutStructure,tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},m.id,{id:m.id,activeTabId:l&&m.activeTabId?m.activeTabId:h,tabs:o?[].concat((0,E.Z)(j.slice(0,o)),[b],(0,E.Z)(j.slice(o))):[].concat((0,E.Z)(j),[b])}))})},CLOSE_ALL_TABS:function(e,t){var n=t.tabId,r=G(e.tabbedPanels,n);return e.tabbedPanels[r.id].tabs.reduce((function(e,t){return ce(e,t.id)}),e)},CLOSE_OTHER_TABS:function(e,t){var n=t.tabId,r=G(e.tabbedPanels,n);return e.tabbedPanels[r.id].tabs.reduce((function(e,t){return t.id===n?e:ce(e,t.id)}),e)},CLOSE_TAB:function(e,t){var n=t.tabId;return ce(e,n)},MOVE_TAB:function(e,t){var n,r,o,a=t.index,s=t.panelId,c=t.tabId,u=G(e.tabbedPanels,c),l=u.tabs.findIndex((function(e){return e.id===c})),d=e.tabbedPanels[s],f=a;if(d.id===u.id)return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(0,g.Z)({},u.id,ge(ge({},u),{},{tabs:(0,ve.uo)(u.tabs,u.tabs.findIndex((function(e){return e.id===c})),a)})))});var p=(0,ve.Fc)(u.tabs,d.tabs,l,f),h=(0,i.Z)(p,2),b=h[0],v=h[1];if(0===b.length&&D(e.layoutStructure,u.id)){var m=ge({},e.tabbedPanels);delete m[u.id];var y=H(e.layoutStructure,m,u.id);return ge(ge({},e),{},{layoutStructure:y,tabbedPanels:ge(ge({},m),{},(0,g.Z)({},d.id,{id:d.id,tabs:v,activeTabId:c}))})}return ge(ge({},e),{},{tabbedPanels:ge(ge({},e.tabbedPanels),{},(o={},(0,g.Z)(o,u.id,{id:u.id,tabs:b,activeTabId:0===b.length?void 0:(null===(n=b[l])||void 0===n?void 0:n.id)||(null===(r=b[l-1])||void 0===r?void 0:r.id)}),(0,g.Z)(o,d.id,{id:d.id,tabs:v,activeTabId:c}),o))})},CREATE_PANEL_FROM_TAB:function(e,t){var n,r=t.panelGroupId,i=t.tab,o=t.panelIndex,a=N(e.layoutStructure,r)||e.layoutStructure,s=void 0!==o?o:a.panels.length,c=B(e.tabbedPanels,i.id);if(!c)return e;var u=se(i),l=ge(ge({},e.tabbedPanels),{},(n={},(0,g.Z)(n,c.id,K(c,i.id)),(0,g.Z)(n,u.id,u),n)),d=z(e.layoutStructure,a.id,u.id,s);return 1===c.tabs.length&&D(d,c.id)&&(delete l[c.id],d=H(d,l,c.id)),ge(ge({},e),{},{layoutStructure:d,tabbedPanels:l})},CREATE_PANEL_GROUP:function(e,t){var n,r=t.dropPanelId,i=t.direction,o=t.tab,a=t.insertNewPanelFirst,s=void 0!==a&&a,c=B(e.tabbedPanels,o.id),u=k(e.layoutStructure,r);if(!c||!u)return e;if(1===c.tabs.length&&c.id===u.id)return e;var l,d,f,p=se(o),h={type:"PANEL",contentType:u.contentType,id:p.id},b=(0,O.QL)(),v={type:"PANEL_GROUP",contentType:u.contentType,direction:i,id:r,panels:s?[h,ge(ge({},u),{},{id:b})]:[ge(ge({},u),{},{id:b}),h]},m=ge(ge({},e.tabbedPanels),{},(n={},(0,g.Z)(n,p.id,p),(0,g.Z)(n,c.id,K(c,o.id)),n)),y=Y(e.layoutStructure,u.id,v);return l=m,d=u.id,f=b,m=Object.keys(l).reduce((function(e,t){return t===d?e[f]=w(w({},l[t]),{},{id:f}):e[t]=l[t],e}),{}),1===c.tabs.length&&D(y,c.id)&&(delete m[c.id],y=H(y,m,c.id)),ge(ge({},e),{},{layoutStructure:y,tabbedPanels:m})},APPEND_PANEL_TO_GROUP:function(e,t){var n=t.panelGroupId,r=t.tab,i=N(e.layoutStructure,n);if(!i)return e;var o=se(r),a={type:"PANEL",contentType:i.contentType,id:o.id},s=z(e.layoutStructure,i.id,a.id,i.panels.length),c=ge(ge({},e.tabbedPanels),{},(0,g.Z)({},o.id,o));return ge(ge({},e),{},{layoutStructure:s,tabbedPanels:c})},RESIZE_PANEL_GROUP:function(e,t){var n=t.panelGroupId,r=t.sizes;return ge(ge({},e),{},{layoutStructure:$(e.layoutStructure,n,r)})},RESET_LAYOUT:function(e,t){var n=t.layoutType,r=t.fallbackEditorTab,i=t.fallbackShellTab,o=function(e){var t=[],n=[],r=[];return Object.values(e).forEach((function(e){t.push.apply(t,(0,E.Z)(e.tabs.filter((function(e){return A.includes(e.type)})))),r.push.apply(r,(0,E.Z)(e.tabs.filter((function(e){return C.includes(e.type)})))),n.push.apply(n,(0,E.Z)(e.tabs.filter((function(e){return!(A.includes(e.type)||C.includes(e.type))}))))})),{editorTabs:t,devtoolTabs:n,shellTabs:r}}(e.tabbedPanels),a=o.editorTabs,s=o.devtoolTabs,c=o.shellTabs,u=r?[r]:[],l=i?[i]:[],d=se.apply(void 0,(0,E.Z)(a.length>0?a:u)),f=se.apply(void 0,(0,E.Z)(s)),p=se.apply(void 0,(0,E.Z)(c.length>0?c:l));return Q({editorPanel:d,devtoolsPanel:f,shellsPanel:p,layoutType:n})}}})},Ee=function(e){return e<=1e4},Oe=(0,r.y)((function(e){var t=e.tasks,n=e.setup,r=e.terminals,g=e.initialState,y=(0,a.E)().monacoEditor,E=(0,s.w)(),O=function(){var e=(0,s.w)(),t=(0,f.PY)().allowedCapabilities,n=(0,h.E)(),r=(0,p.X)();return function(i){var o,a;t.terminal&&"TERMINAL"===i.type&&i.shellId&&n.get(i.shellId)&&e.clients.shell.delete(i.shellId),t.runTasks&&"TASK_LOG"===i.type&&"RUNNING"===(null===(o=r[i.taskId])||void 0===o||null===(a=o.shell)||void 0===a?void 0:a.status)&&e.clients.task.stopTask(i.taskId)}}(),x=(0,v.QW)(),j="review"===x.queryParams.mode.get(),w=be(),T=(0,i.Z)(w,2),S=T[0],I=T[1],R=(0,d.w)(),D=(0,u.t)(),k=(0,m.e)(),F=(0,i.Z)(k,2),U=F[0],M=F[1],Z=(0,l.t)(j),G=ue()?"EMBED":"DEFAULT",z=(0,b.useState)((function(){return g||function(e){var t=e.tasks,n=e.setup,r=e.terminals,i=e.persistedLayout,o=e.activeFile,a=e.layoutType,s=e.fallbackEditorTab,c=o?ie({type:"FILE",initialSelections:o.initialSelection?[o.initialSelection]:void 0,filepath:o.path}):s,u=Object.values(t).filter((function(e){return e.runAtStart})),l=Object.values(t).filter((function(e){return!!e.shell})),d=r.filter((function(e){return"RUNNING"===e.status})),f=u.length>0,p=l.length>0,h=d.length>0,b=!f&&!p&&!h,v="FINISHED"!==n.state||b,m=i.rootPanelGroup,g=i.tabbedPanels,y=!!o;if(null===m||null===g){var E,O=c?se(c):ae();if(v){var x=V(),j=J(l,d);return Q({editorPanel:O,devtoolsPanel:x,shellsPanel:j,layoutType:a})}var w=J(l,d);return E=f?X(u):p?X(l):ae(),Q({editorPanel:O,devtoolsPanel:E,shellsPanel:w,layoutType:a})}var T=Object.values(g),S=T.find((function(e){return e.tabs.find((function(e){return"PROJECT_SETUP"===e.type}))})),I=T.some((function(e){return e.tabs.some((function(e){return"FILE"===e.type&&e.filepath===(null===o||void 0===o?void 0:o.path)}))}));if(v&&!S){var R=N(m,P.HQ)||m,A=L(R);if(A){var C=g[A.id],D=ie({type:"PROJECT_SETUP"});C.tabs.push(D),C.activeTabId=D.id}}if(y&&!I&&T.length>0){var _=T[0];c&&(_.tabs.push(c),_.activeTabId=c.id)}var k=function(e){g[e].tabs.forEach((function(t){"FILE"!==t.type&&"DIFF"!==t.type||(t.state="IDLE",(null===o||void 0===o?void 0:o.path)===t.filepath&&("FILE"===t.type&&null!==o&&void 0!==o&&o.initialSelection&&(t.initialSelections=[o.initialSelection]),g[e].activeTabId=t.id))}))};for(var F in g)k(F);return{state:"READY",layoutStructure:m,tabbedPanels:g,layoutType:a}}({tasks:t,setup:n,terminals:r,activeFile:U,persistedLayout:S,fallbackEditorTab:Z,layoutType:G})}))[0],$=(0,b.useReducer)(ye,z);(0,c.f)("layout",$);var H=(0,i.Z)($,2),W=H[0],q=H[1],Y=W.layoutStructure,K=W.tabbedPanels;return(0,b.useEffect)((function(){y.vscode.layout.setLayoutState(W.tabbedPanels)}),[W.tabbedPanels]),(0,o.Dm)(W,{READY:"OPEN_TAB"},(function(e){var t=e.tab;"FILE"!==t.type&&"DIFF"!==t.type||M.set(t.filepath);var n="EMBED"===W.layoutType;C.includes(t.type)&&!S.showShells?I(n?{showDevtools:!0}:{showShells:!0}):C.includes(t.type)||A.includes(t.type)||S.showDevtools||I({showDevtools:!0})})),(0,o.Dm)(W,{READY:"SET_ACTIVE_TAB"},(function(e,t){var n=e.tabId,r=t.tabbedPanels,i=t.layoutStructure,o=B(r,n),a=null===o||void 0===o?void 0:o.tabs.find((function(e){return e.id===n}));if(o){var s=_(i,o.id);(null===s||void 0===s?void 0:s.id)!==P.ID||S.showShells||I({showShells:!0})}"FILE"!==(null===a||void 0===a?void 0:a.type)&&"DIFF"!==(null===a||void 0===a?void 0:a.type)||M.set(a.filepath)})),(0,o.Dm)(W,{READY:"CLOSE_TAB"},(function(e,t){var n=e.tabId,r=function(e,t){return Object.values(e).map((function(e){return e.tabs.find((function(e){return e.id===t}))})).find((function(e){return e}))}(t.tabbedPanels,n);r&&O(r)})),(0,o.Dm)(W,{READY:"CLOSE_OTHER_TABS"},(function(e,t){var n=e.tabId,r=t.tabbedPanels,i=B(r,n);i&&i.tabs.filter((function(e){return e.id!==n})).forEach(O)})),(0,o.Dm)(W,{READY:"CLOSE_ALL_TABS"},(function(e,t){var n=e.tabId,r=t.tabbedPanels,i=B(r,n);i&&i.tabs.forEach(O)})),(0,b.useEffect)((function(){j&&(q({type:"OPEN_TAB",tab:{type:"PR_INFO"}}),x.queryParams.mode.delete())}),[]),(0,b.useEffect)((function(){U&&(Object.values(K).find((function(e){return e.tabs.find((function(e){return("FILE"===e.type||"DIFF"===e.type)&&e.filepath===U.path}))}))||M.unset())}),[K,U]),(0,b.useEffect)((function(){I({rootPanelGroup:Y,tabbedPanels:K})}),[Y,K]),(0,b.useEffect)((function(){if(E.clients.task){var e=E.clients.task.onTaskPortOpened((function(e){var n,r=e.port,i=e.taskId,o=t[i];if(o){var a=null===(n=o.preview)||void 0===n?void 0:n.port,s=null!=a,c=a===r.port;(Ee(r.port)||s)&&(s&&!c||q({type:"OPEN_TAB",tab:{type:"TASK_PORT",taskId:i,port:r.port}}))}})),n=E.clients.task.onUnassignedPortOpened((function(e){Ee(e.port)&&q({type:"OPEN_TAB",tab:{type:"UNASSIGNED_PORT",port:e.port}})})),r=E.clients.task.onTaskStarted((function(e){var t=e.taskId;q({type:"OPEN_TAB",tab:{type:"TASK_LOG",taskId:t},silent:!0})}));return function(){e.dispose(),n.dispose(),r.dispose()}}}),[E.clients.task,t]),(0,b.useEffect)((function(){if(E.clients.setup){var e=E.clients.setup.onSetupProgressUpdate((function(e){"IN_PROGRESS"===e.state&&q({type:"OPEN_TAB",silent:!0,tab:{type:"PROJECT_SETUP"}})}));return function(){e.dispose()}}}),[E.clients.setup]),(0,b.useEffect)((function(){return R.onFollowMessage((function(e){var t=e.data.filepath;q({type:"OPEN_TAB",tab:{type:"FILE",filepath:t},isFromFollowing:!0})})).dispose}),[]),(0,b.useEffect)((function(){return D.onMessage((function(e){var t=e.data.filepath;q({type:"OPEN_TAB",tab:{type:"FILE",filepath:t}})})).dispose}),[]),(0,o.Dm)(W,{READY:{CLOSE_ALL_TABS:"READY",CLOSE_OTHER_TABS:"READY",CLOSE_TAB:"READY",SET_ACTIVE_TAB:"READY"}},(function(){R.unfollow()})),(0,o.Dm)(W,{READY:{OPEN_TAB:"READY"}},(function(e,t){t.isFromFollowing||R.unfollow()})),$})),Pe=(0,r.y)((function(){var e=Oe();return(0,i.Z)(e,2)[1]})),xe=(n(78659),n(24069),n(83291),n(82766),(0,r.t)({usePersistedLayout:be,useLayout:Oe,useLayoutDispatcher:Pe}))},54270:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(87795),i=n(52328),o=n(80274),a=n(29901),s=n(3749),c=function(e){try{var t,n,i=e.split("-").map((function(e){return e.split(",").map(Number)})),o=(0,r.Z)(i,2),a=o[0],s=o[1];return{startLineNumber:a[0],startColumn:a[1],endLineNumber:null!==(t=null===s||void 0===s?void 0:s[0])&&void 0!==t?t:a[0],endColumn:null!==(n=null===s||void 0===s?void 0:s[1])&&void 0!==n?n:a[1]}}catch(c){return}},u=(0,i.k)((function(){var e=(0,o.w)(),t=(0,s.QW)(),n=(0,a.useState)((function(){var n=t.queryParams.file.get();if((null===n||void 0===n||!n.startsWith("%"))&&n){var i=n.split(":"),o=(0,r.Z)(i,2),a=o[0],s=o[1];return{path:e.clients.fs.asRelativeWorkspacePath(a),initialSelection:s?c(s):void 0}}})),i=n[0],u=n[1];return[i,{set:function(n,r){var o;t.queryParams.file.set("".concat(n).concat((o=r)?o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn?":".concat(o.startLineNumber,",").concat(o.startColumn):":".concat(o.startLineNumber,",").concat(o.startColumn,"-").concat(o.endLineNumber,",").concat(o.endColumn):"")),(n!==(null===i||void 0===i?void 0:i.path)||!r)&&u({path:e.clients.fs.asRelativeWorkspacePath(n)})},unset:function(){u(void 0),t.queryParams.file.delete()}}]}))},29673:function(e,t,n){"use strict";n.d(t,{W_:function(){return r},HQ:function(){return i},tx:function(){return o},ID:function(){return a}});var r="ROOT_LAYOUT",i="DEVTOOLS",o="EDITOR",a="SHELLS"},83291:function(){},24069:function(){},78659:function(){},82766:function(e,t,n){"use strict";var r;n.d(t,{o:function(){return r}}),function(e){e.Missing="DATA_NOT_FOUND",e.Invalid="INVALID_DATA",e.Valid="VALID_DATA"}(r||(r={}))},27457:function(e,t,n){"use strict";n.d(t,{SW:function(){return x},PC:function(){return P},Fb:function(){return v}});var r=n(41669),i=n(87795),o=n(39378),a=n(52259),s=n(82766);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.branch,n=e.owner,r=e.repo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return["CSB","LAYOUT",i,n,r,t].join("/")},d=function(e){return function(t){return t.type===e}},f=d(s.o.Missing),p=d(s.o.Invalid),h=d(s.o.Valid),b=Object.freeze({notFound:{data:null,type:s.o.Missing},parseFailed:{data:null,type:s.o.Invalid,errors:["Failed to parse data"]},noValidFields:{data:null,type:s.o.Invalid,errors:["No valid fields found"]}}),v=(0,o.throttle)((function(e,t){var n=JSON.stringify(e),r=l(t);localStorage.setItem(r,n)}),64),m=function(e,t){a.Z.log("[layout]: ".concat(e),t)},g=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],a=n[1];return u(u({},e),{},(0,r.Z)({},o,{value:a}))}),{})},y=function(e){try{var t=JSON.parse(e);return function(e){return"object"===typeof e&&null!==e&&!1===Array.isArray(e)}(t)?t:null}catch(n){return null}},E=function(e,t){if(!t)return b.notFound;a.Z.log("%s: Found layout data",e);var n=y(t);if(!n)return a.Z.error("%s: Failed to parse layout data",e),b.parseFailed;var r={},i=n.sidebarPanel,o=n.tabbedPanels,c=n.rootPanelGroup,u=n.showSidebar,l=n.showDevtools,d=n.showShells,f=n.sidebarPanelSize;if(void 0!==l&&(r.showDevtools=Boolean(l)),void 0!==d&&(r.showShells=Boolean(d)),void 0!==u&&(r.showSidebar=Boolean(u)),"number"===typeof f&&(r.sidebarPanelSize=f),"string"===typeof i)switch(i){case"GIT":case"EXPLORER":case"SEARCH":case"PR":r.sidebarPanel=i}return 0===Object.keys(r).length?b.noValidFields:("object"===typeof o&&null!==o&&(r.tabbedPanels=o,r.rootPanelGroup=c),{type:s.o.Valid,data:r,errors:[]})},O=function(e){var t=l(e),n=localStorage.getItem(t);return E("[layout / storage]: ".concat(t),n)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=E("URL",decodeURIComponent(t)),r=O(e);if(f(n)&&f(r))return a.Z.info("[layout]: no persisted data found"),{};if(m("found persisted data",{url:n,storage:r}),p(n)&&p(r))return{};if(h(n)&&h(r)){var i=u(u({},r.data),n.data);return m("using persisted data",g(i)),i}return h(n)&&null!==n.data?(m("using persisted data from url",g(n.data)),n.data):h(r)&&null!==r.data?(m("using persisted data from storage",g(r.data)),r.data):{}},x=function(){try{Object.keys(localStorage).forEach((function(e){(e.startsWith("CSB/WORKSPACE")&&localStorage.removeItem(e),e.startsWith("CSB/LAYOUT"))&&(Number(e.replace("CSB/LAYOUT/","").split("/")[0])<.5&&localStorage.removeItem(e))}))}catch(e){}}},80739:function(e,t,n){"use strict";n.d(t,{l7:function(){return r},WA:function(){return i},jh:function(){return o},_q:function(){return a},nB:function(){return s},vn:function(){return c}});var r=9,i=10,o=7,a="onboardingCompleted",s="onboardingStarted",c="onboardingSkipped"},83587:function(e,t,n){"use strict";n.d(t,{kZ:function(){return E},kc:function(){return y}});var r=n(87795),i=n(43576),o=n(34854),a=n(67855),s=n(37535),c=n(29901),u=n(29168),l=n(29808),d=n(80739),f=n(41669);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e,t){return(0,i.eR)(e,t,{INACTIVE:{START_ONBOARDING:function(e){return h(h({},e),{},{state:"ACTIVE",currentStep:0})},SET_TOTAL_STEPS:function(e,t){var n=t.totalSteps;return h(h({},e),{},{totalSteps:n})}},ACTIVE:{NEXT_STEP:function(e){return e.currentStep+1===e.totalSteps?h(h({},e),{},{state:"INACTIVE"}):h(h({},e),{},{currentStep:e.currentStep+1})},END_ONBOARDING:function(e){return h(h({},e),{},{state:"INACTIVE"})},SET_TOTAL_STEPS:function(e,t){var n=t.totalSteps;return h(h({},e),{},{totalSteps:n})}},ERROR:{}})},v=n(30575),m=n(64396),g=n(67337),y=(0,l.y)((function(e){var t=e.showOnboarding,n=e.onOnboardingStarted,l=(0,o.E)().storage,f=function(e,t){return e.owner===v.u?d.jh:((0,g.gX)(e.authorization)||!t||(0,m.L)(e)||e.freePlanEditingRestricted)&&e.protectedBranch?d.WA:d.l7}((0,a.PY)(),(0,u.a)().restrictsPublicRepos),p=(0,c.useReducer)(b,t?{state:"ACTIVE",currentStep:0,totalSteps:f}:{state:"INACTIVE",totalSteps:f});(0,s.f)("onboarding",p);var h=(0,r.Z)(p,2),y=h[0],E=h[1];return(0,i.Dm)(y,"ACTIVE",(function(){"function"===typeof n&&n(),l.set(d.nB,!0)})),(0,i.Dm)(y,{ACTIVE:{NEXT_STEP:"INACTIVE",END_ONBOARDING:"INACTIVE"}},(function(){l.set(d._q,!0)})),(0,c.useEffect)((function(){E({type:"SET_TOTAL_STEPS",totalSteps:f})}),[f,E]),p})),E=(y.Consumer,y.Provider)},74685:function(e,t,n){"use strict";n.d(t,{oQ:function(){return P},j0:function(){return l},oW:function(){return E},DF:function(){return O}});var r=n(29808),i=n(87795),o=n(41669),a=n(29901);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,l=(0,r.y)((function(){var e=(0,a.useState)({}),t=e[0],n=e[1];return{openedComments:t,setEditorScrollTop:function(e,t){n((function(n){return c(c({},n),{},(0,o.Z)({},e,c(c({},n[e]),{},{editorScrollTop:t})))}))},closeComment:function(e){n((function(t){var n,r;return e?c(c({},t),{},(0,o.Z)({},e,{editorScrollTop:null!==(n=null===(r=t[e])||void 0===r?void 0:r.editorScrollTop)&&void 0!==n?n:0,lineNumber:null,bounds:null,side:null})):Object.entries(t).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];return e[r]={editorScrollTop:o.editorScrollTop},e}),{})}))},openComment:function(e,t,r,i){n((function(n){var a,s;return c(c({},n),{},(0,o.Z)({},e,{editorScrollTop:null!==(a=null===(s=n[e])||void 0===s?void 0:s.editorScrollTop)&&void 0!==a?a:0,lineNumber:t,bounds:r,side:i}))}))}}})),d=n(88031),f=n(76369),p=n(67855),h=n(80274);function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(u={},(0,o.Z)(u,f.Ps.PullRequestReviewState.APPROVED,0),(0,o.Z)(u,f.Ps.PullRequestReviewState.CHANGES_REQUESTED,1),(0,o.Z)(u,f.Ps.PullRequestReviewState.COMMENTED,2),(0,o.Z)(u,f.Ps.PullRequestReviewState.DISMISSED,3),u),E=(0,r.y)((function(){var e=(0,p.PY)(),t=(0,h.w)(),n=(0,a.useState)([]),r=n[0],i=n[1],o=(0,a.useState)([]),s=o[0],c=o[1],u=(0,a.useState)(),l=u[0],f=u[1],v=(0,a.useState)(),m=v[0],E=v[1],O=(0,a.useMemo)((function(){var t,n;return(null!==(t=null===(n=e.pullRequest)||void 0===n?void 0:n.reviews)&&void 0!==t?t:[]).sort((function(e,t){return y[e.state]-y[t.state]})).reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t.comments.map((function(e){return g(g({},e),{},{type:"submitted"})}))))}),[])}),[e.pullRequest]),P=function(){var e=t.clients.git.getStatus().head;if(e){var n=O.filter((function(e){return void 0!==e.line})),r=n.map((function(e){return{sha:e.commitId,path:e.path,line:e.line}}));t.clients.git.transposeLines(r).then((function(t){var r=t.reduce((function(e,t,r){return e[n[r].id]=t||null,e}),{});E(e),f(O.map((function(e){var t=r[e.id];return"submitted"===e.type&&t?g(g({},e),{},{line:t.line,path:t.path}):e})))})).catch((function(){E(e),f(O)}))}};(0,a.useEffect)((function(){t.clients.git.getStatus().remote.head&&!l&&P();var e=t.clients.git.onStatusUpdated((function(e){e.remote.head&&e.remote.head!==m&&P()}));return function(){e.dispose()}}),[O]);var x=l||O;return{pendingComments:r,allComments:[].concat((0,d.Z)(x),(0,d.Z)(r),(0,d.Z)(s.filter((function(e){var t,n=b(O);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.line===e.line&&r.side===e.side&&r.body===e.body)return!1}}catch(i){n.e(i)}finally{n.f()}return!0})))),addPendingComment:function(e){var n=e.comment,r=e.lineNumber,o=e.side,a=e.filePath,s=e.client,c=t.clients.git.getStatus();if(c.head){var u={type:"pending",commitId:c.head,id:Date.now(),body:n,line:r,createdAt:(new Date).toISOString(),path:a,user:s.avatarUrl?{name:s.name,avatarUrl:s.avatarUrl}:null,username:s.username,htmlUrl:"#",side:o};i((function(e){return[].concat((0,d.Z)(e),[u])}))}},removePendingComment:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},addOptimisticComment:function(e){var n=e.comment,r=e.filePath,i=e.lineNumber,o=e.side,a=e.client,s=t.clients.git.getStatus();if(s.head){var u={type:"optimistic",commitId:s.head,id:Date.now(),body:n,line:i,createdAt:(new Date).toISOString(),path:r,user:a.avatarUrl?{name:a.name,avatarUrl:a.avatarUrl}:null,username:a.username,htmlUrl:"#",side:o};c((function(e){return[].concat((0,d.Z)(e),[u])}))}},cleanPendingComments:function(){i([])}}})),O=(0,r.y)((function(){var e,t,n=(0,p.PY)(),r=(0,a.useState)(""),i=r[0],o=r[1];return{reviews:(null!==(e=null===(t=n.pullRequest)||void 0===t?void 0:t.reviews)&&void 0!==e?e:[]).filter((function(e,t,n){return t===n.findIndex((function(t){return t.username===e.username}))})),pendingReviewSummary:i,setPendingReviewSummary:o}})),P=(0,r.t)({usePRComments:E,useCommentPopups:l,useReviews:O})},14416:function(e,t,n){"use strict";n.d(t,{pe:function(){return c},Fs:function(){return u.Fs},i2:function(){return s},bl:function(){return u.bl}});var r=n(34854),i=n(1512),o=n(29901);function a(e){return"FETCHING"===e.state?{data:void 0,fetching:!0,error:void 0}:"FETCHED"===e.state?{data:e.data,fetching:!1,error:void 0}:{data:void 0,fetching:!1,error:e.error}}var s=(0,n(29808).y)((function(e){var t=e.sandboxId,n=e.initialSandboxInfo,s=(0,o.useState)(n?{state:"FETCHED",data:n}:{state:"ERROR",error:new Error("Not found")}),c=s[0],u=s[1],l=(0,r.E)(),d=(0,o.useRef)(t),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.csbApi&&(d.current!==t||e)?(d.current=t,e||u({state:"FETCHING"}),l.csbApi.rest.get({path:"/v1/sandboxes/".concat(t)}).then((function(e){u({state:"FETCHED",data:(0,i.camelizeKeys)(e.data)})})).catch((function(e){u({state:"ERROR",error:e})}))):Promise.resolve()};return(0,o.useEffect)((function(){f()}),[t]),[a(c),function(){return f(!0)}]})),c=(s.Consumer,s.Provider),u=n(63568)},63568:function(e,t,n){"use strict";n.d(t,{Fs:function(){return i},bl:function(){return o},Dz:function(){return a}});var r=["write_code","write_project","comment","read","none"];function i(e,t){return r.indexOf(e)<=r.indexOf(t)}function o(e){switch(e){case"public":return 0;case"unlisted":return 1;case"private":return 2;default:return 0}}function a(e){switch(e){case 0:return"public";case 1:return"unlisted";case 2:return"private";default:return"public"}}},3964:function(e,t,n){"use strict";n.d(t,{jq:function(){return E},St:function(){return y}});var r=n(87795),i=n(43576),o=n(34854),a=n(55559),s=n(950),c=n(76636),u=n(99459),l=n(29901),d=n(29808),f=n(80274),p=n(37535),h=n(41669);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){return(0,i.eR)(e,t,{CONNECTING:{"PITCHER:CONNECTED":function(e){return{state:"INITIALIZING",shellId:e.shellId}},"PITCHER:ERROR":function(e,t){return{state:"ERROR",context:{event:"PITCHER:ERROR",state:"CONNECTING"},error:t.error}}},INITIALIZING:{"PITCHER:SHELL:OPEN_SUCCESS":function(e,t){var n=t.shell;return e.shellId===n.shellId?{state:"READY",id:n.shellId,buffer:n.buffer,name:(null===n||void 0===n?void 0:n.name)||null,ownerUsername:"TERMINAL"===n.shellType?n.ownerUsername:void 0}:e},"PITCHER:SHELL:OPEN_ERROR":function(e,t){return{state:"ERROR",context:{event:"PITCHER:SHELL:OPEN_ERROR",state:"OPENING"},error:t.error}}},READY:{PATH_CLICK:function(e){return v({},e)},URL_CLICK:function(e){return v({},e)},"PITCHER:SHELL:RENAME":function(e,t){var n=t.shellId,r=t.name;return e.id!==n?e:v(v({},e),{},{name:r})}},ERROR:{}})},g=["localhost","0.0.0.0","192.168.241.2"],y=(0,d.y)((function(e){var t=e.shellId,n=(0,f.l)(),d=(0,o.E)().navigation,h=(0,s.bX)(),b=(0,c.X)(),v=(0,u.y)(),y=(0,l.useReducer)(m,{state:n.connectionState===a.b.Connected?"INITIALIZING":"CONNECTING",shellId:t});(0,p.f)("shell-"+t,y);var E=(0,r.Z)(y,2),O=E[0],P=E[1];return(0,l.useEffect)((function(){return n.events.subscribe(P)}),[]),(0,i.Dm)(O,{READY:{PATH_CLICK:"READY"}},(function(e,t){var r=t.path,i=t.isAbsolute,o=t.position,a=o?[{startLineNumber:o[0],endLineNumber:o[0],startColumn:o[1],endColumn:o[1]}]:void 0;if(i){var s=n.fs.getRelativePath(r);h({type:"OPEN_TAB",tab:{type:"FILE",filepath:s,initialSelections:a},mode:"temporary"})}else{var c=n.events.subscribe((function(e){if("PITCHER:FS:PATH_SEARCH_SUCCESS"===e.type&&e.term===r){c();var t=e.matches[0];if(t){var i=n.fs.getRelativePath(t.path);h({type:"OPEN_TAB",tab:{type:"FILE",filepath:i,initialSelections:a},mode:"temporary"})}}}));n.fs.pathSearch({text:r})}})),(0,i.Dm)(O,{READY:{URL_CLICK:"READY"}},(function(e,t){var n=t.url,r=g.some((function(e){return n.startsWith(e)||n.startsWith("http://".concat(e))||n.startsWith("https://".concat(e))}));try{if(r){var i=function(e,t,n){var r=e.startsWith("http")?e:"https://".concat(e),i=Number(new URL(r).port);if(Number.isNaN(i))return;var o=new URL(r),a=t.find((function(e){return e.port===i}));if(a)return new URL(new URL("https://"+a.url),o).toString();if(n){var s=Object.values(n).map((function(e){return e.ports.find((function(e){return e.port===i}))})).find(Boolean);if(s)return new URL(new URL("https://"+s.url),o).toString()}}(n,v,b);if(i)return void d.openUrl(i)}}catch(o){console.warn("Failed to parse "+n+", error: "+o)}d.openUrl(n)})),y}));var E=y.Provider;y.Consumer,y.context},85289:function(e,t,n){"use strict";n.d(t,{uo:function(){return i},Fc:function(){return o}});var r=n(88031),i=function(e,t,n){var i=(0,r.Z)(e),o=i.splice(t,1)[0];return o&&i.splice(n,0,o),i},o=function(e,t,n,i){var o=(0,r.Z)(e),a=(0,r.Z)(t),s=o.splice(n,1)[0];return s&&a.splice(i,0,s),[o,a]}},52259:function(e,t,n){"use strict";var r=n(87795),i={};Object.entries(console).forEach((function(e){var t=(0,r.Z)(e,2),o=t[0],a=t[1];i[o]=function(){var e=(n.g.window?"ENABLED"===window.localStorage.getItem("CSB_DEBUG"):null)||"error"===o;e&&a.apply(void 0,arguments)}})),t.Z=i},91271:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(87795),i=n(44173),o=function(){var e=(0,i.k)(),t=(0,r.Z)(e,1)[0];return"AUTHENTICATED"===t.state?t.user:null}},86007:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(80274),i=n(29901),o=function(){var e=(0,r.w)();return(0,i.useState)((function(){return e.clients.channel.getCommandChannel("EDITOR")}))[0]}},94758:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(950),i=n(80274),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.w)();if(e)return(0,r.createTab)({type:"PR_INFO"});if(t.clients.fs.getIdFromPath("/README.md"))return(0,r.createTab)({type:"FILE",filepath:t.clients.fs.resolveRelativeWorkspacePath("/README.md")});var n=Array.from(t.clients.fs.memoryFS.tree.nodes.values()).find((function(e){return e.isFile()}));return n?(0,r.createTab)({type:"FILE",filepath:t.clients.fs.resolveRelativeWorkspacePath(n.path)}):null}},58572:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(80274),i=n(29901),o=function(){var e=(0,r.w)(),t=(0,i.useState)((function(){var t=e.clients.channel.getFollowChannel("WORKSPACE");return{channel:t,state:t.state.following.get()}})),n=t[0].channel,o=t[1];return(0,i.useEffect)((function(){return n.state.following.onTransition((function(e){o((function(t){var n=t.channel;return{state:e,channel:n}}))}))}),[]),n}},76636:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(80274),i=n(29901),o=function(){var e=(0,r.w)(),t=(0,i.useState)((function(){return e.clients.task.getTasks().tasks})),n=t[0],o=t[1];return(0,i.useEffect)((function(){return e.clients.task.onTaskListUpdate((function(e){return o(e.tasks)})).dispose}),[]),n}},43308:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(4503),i=n(80274),o=n(29901),a=function(){var e=(0,i.w)(),t=(0,o.useState)((function(){var t=e.clients.shell.getShells().map(r.bl);return s(t)})),n=t[0],a=t[1];return(0,o.useEffect)((function(){var t=e.clients.shell.onShellsUpdated((function(e){var t=e.map(r.bl);a(s(t))}));return function(){t.dispose()}}),[]),n},s=function(e){return e.filter((function(e){return"TERMINAL"===e.type})).reduce((function(e,t){return e.set(t.id,t),e}),new Map)}},99459:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(88031),i=n(80274),o=n(29901),a=n(76636),s=function(){var e=(0,i.w)(),t=(0,a.X)(),n=Object.values(t),s=e.clients.port.getPorts().filter((function(e){return!n.some((function(t){return t.ports.some((function(t){return t.port===e.port}))}))})),c=(0,o.useState)(s),u=c[0],l=c[1];return(0,o.useEffect)((function(){var t=e.clients.task.onUnassignedPortOpened((function(e){l([].concat((0,r.Z)(u),[e]))})),n=e.clients.task.onUnassignedPortClosed((function(e){l((function(t){return t.filter((function(t){return t.port!==e.port}))}))}));return function(){t.dispose(),n.dispose()}}),[]),u}},5105:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(87795),i=n(46819),o=n(40305),a=n(44173),s=n(25216),c=function(){var e=(0,s.A)(),t=(0,a.k)(),n=(0,r.Z)(t,1)[0];if(void 0===e)return{subscription:void 0,isPro:void 0,isFree:void 0,isTeamAdmin:void 0,hasPendingPayment:void 0,hasActiveTeamTrial:void 0,hasPaymentMethod:void 0};var c=e.subscription;if(null===c||void 0===c)return{subscription:null,isPro:!1,isTeamAdmin:!1,isFree:!0,hasPendingPayment:!1,hasActiveTeamTrial:!1,hasPaymentMethod:!1};var u="AUTHENTICATED"===n.state?n.user.id:null,l=(0,o.Os)(e),d=!!u&&(0,o.VC)(u,e),f=!l,p=c.status===i.yh.Unpaid;return{subscription:c,isPro:l,isTeamAdmin:d,isFree:f,hasActiveTeamTrial:c.status===i.yh.Trialing,hasPendingPayment:p,hasPaymentMethod:c.paymentMethodAttached}}},7797:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(34854),i=n(52259),o=n(29901),a=function(e,t){var n=(0,r.E)().storage,a=(0,o.useState)((function(){try{var r=n.get(e);return null!==r&&void 0!==r?r:t}catch(o){return i.Z.error("[persisted-state]: Failed to retrieve data from local storage",o),t}})),s=a[0],c=a[1];return[s,function(t){try{var r=t instanceof Function?t(s):t;c(t),n.set(e,r)}catch(o){i.Z.error("[persisted-state]:",o)}}]}},3749:function(e,t,n){"use strict";n.d(t,{Do:function(){return b},Jq:function(){return v},_h:function(){return m},_o:function(){return g},QW:function(){return y}});var r=n(41669),i=n(87795),o=n(51221),a=n(45934),s=n.n(a),c=n(71885),u=n(51987),l=n(29901),d=n(59949),f=n(61250);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,l.createContext)({});function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isJson:!1,preventEncoding:!1};return{get:function(){var r=e.query[t];if(r)return n.isJson?JSON.parse(decodeURIComponent(r)):r},set:function(a){return(0,o.Z)(s().mark((function o(){return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==a){o.next=2;break}return o.abrupt("return",Promise.resolve(!1));case 2:return o.abrupt("return",e.transition((function(e){var o;if(n.preventEncoding){var s=e.asPath.split("?"),c=(0,i.Z)(s,2),l=c[0],d=c[1],f=u.parse(d);f[t]=n.isJson?JSON.stringify(a):String(a),o="".concat(l,"?").concat(u.stringify(f,{encode:!1}))}else{var p=h(h({},e.query),{},(0,r.Z)({},t,n.isJson?JSON.stringify(a):String(a)));o={pathname:e.pathname,query:p}}return e.replace(o,void 0,{shallow:!0})})).then((function(t){return e.subscribers.forEach((function(e){return e(a)})),t})));case 3:case"end":return o.stop()}}),o)})))()},delete:function(){return e.transition((function(e){var n=h({},e.query);return delete n[t],e.replace({pathname:e.pathname,query:n},void 0,{shallow:!0})})).then((function(t){return e.subscribers.forEach((function(e){return e(void 0)})),t}))},subscribe:function(t){return e.subscribers.add(t),function(){e.subscribers.delete(t)}}}}var m=function(){var e=(0,c.useRouter)(),t=(0,l.useRef)(null);return t.current||(t.current={transition:Promise.resolve(!0),router:e,subscribers:new Set}),t.current.router=e,{get query(){return t.current.router.query},transition:function(e){return t.current.transition=t.current.transition.then((function(){return e(t.current.router)}))},get subscribers(){return t.current.subscribers}}},g=function(e){var t=e.children,n=m(),r=(0,d.hs)(n.query),i=r.owner,o=r.repo,a=r.branch,s=r.workspaceId;if(!i||!o)throw new Error("The Project Editor Router is being used on a url without OWNER or REPO");var c=(0,l.useMemo)((function(){return{urlParams:{owner:i,repo:o,branch:a},queryParams:{file:v(n,"file",{preventEncoding:!0}),create:v(n,"create"),import:v(n,"import"),layout:v(n,"layout"),mode:v(n,"mode"),sidebar:v(n,"sidebar",{isJson:!0}),workspaceId:v(n,"workspaceId"),welcome:v(n,"welcome")},goToBranch:function(e){var t=e.owner,r=e.repo,i=e.branch,o=e.workspaceId,a=e.addImportFlag,s=e.addPreventWorkspaceRedirectFlag;return n.transition((function(e){var n=h(h(h(h(h({},e.query),o?{workspaceId:o}:void 0),a?{import:"true"}:void 0),s?{preventWorkspaceRedirect:"true"}:void 0),{},{owner:t,repo:r,branchParts:i?i.split("/"):void 0});return n.create&&delete n.create,o||delete n.workspaceId,e.push({pathname:e.pathname,query:n},void 0,{shallow:!0})}))},updateCurrentBranch:function(e){var t=e.owner,r=e.repo,i=e.branch;return n.transition((function(e){var n=h(h({},e.query),{},{owner:t,repo:r,branchParts:i.split("/")});return e.replace({pathname:e.pathname,query:n},void 0,{shallow:!0})}))}}}),[i,o,a,s]);return(0,f.jsx)(b.Provider,{value:c,children:t})},y=function(){return(0,l.useContext)(b)}},73975:function(e,t,n){"use strict";n.d(t,{C:function(){return u}});var r=n(41669),i=n(51221),o=n(45934),a=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(a().mark((function e(t,n,r){var i,o,s,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.branchId,o=r.usePitcherManagerThroughApi,s=r.pitcherManagerURL,!o){e.next=9;break}return e.prev=2,e.abrupt("return",t.rest.post({path:"/beta/sandboxes/branches/".concat(i,"/instance").concat(s?"?pitcherManagerURL=".concat(s):""),data:{},headers:n}));case 6:throw e.prev=6,e.t0=e.catch(2),new Error("something went wrong with the pitcher manager request");case 9:return e.next=11,fetch("".concat(s.includes("/api/v1")?s:s+"/api/v1","/sandboxes/branches/").concat(i),{headers:c(c({},n),{},{authorization:"Bearer ".concat(t.devJwt.get())})});case 11:if(200===(u=e.sent).status){e.next=14;break}throw new Error("manager request failed with status code ".concat(u.status));case 14:return e.next=16,u.json();case 16:return l=e.sent,e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,null,[[2,6]])})))).apply(this,arguments)}},11993:function(e,t,n){"use strict";n.d(t,{$l:function(){return l},vB:function(){return d},sv:function(){return f},kR:function(){return p},eD:function(){return h},$2:function(){return b},Yo:function(){return v}});var r=n(51221),i=n(45934),o=n.n(i),a=n(34854),s=n(18572),c=n(1512),u=n(9896),l=function(e){return(0,u.D)(s.c,e)},d=function(e){var t=(0,a.E)(),n=t.csbApi,i=t.api;return n?function(){var t=(0,r.Z)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.rest,t.t1="/v1/sandboxes/".concat(e),t.t2="Bearer ",t.next=5,i.getJwtToken();case 5:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3),t.t5={Authorization:t.t4},t.t6={sandbox:r},t.t7={path:t.t1,headers:t.t5,data:t.t6},t.abrupt("return",t.t0.put.call(t.t0,t.t7).then((function(e){return e.data})));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(){throw new Error("CodeSandbox API is not initialised")}},f=function(e,t){var n=(0,a.E)(),i=n.csbApi,s=n.api;return i?t?function(){var n=(0,r.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=i.rest,n.t1="/v1/sandboxes/".concat(e,"/templates/").concat(t),n.t2="Bearer ",n.next=5,s.getJwtToken();case 5:return n.t3=n.sent,n.t4=n.t2.concat.call(n.t2,n.t3),n.t5={Authorization:n.t4},n.t6={template:(0,c.decamelizeKeys)(r)},n.t7={path:n.t1,headers:n.t5,data:n.t6},n.abrupt("return",n.t0.put.call(n.t0,n.t7).then((function(e){return e.data})));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.warn("Attempted to change template info without a template id");case 1:case"end":return e.stop()}}),e)}))):(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("CodeSandbox API is not initialised");case 1:case"end":return e.stop()}}),e)})))},p=function(){var e=(0,a.E)(),t=e.csbApi,n=e.api;return t?function(){var e=(0,r.Z)(o().mark((function e(r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.rest,e.t1="Bearer ",e.next=4,n.getJwtToken();case 4:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),e.t4={Authorization:e.t3},e.t5={name:r,content:i},e.t6={path:"/v1/users/current_user/uploads",headers:e.t4,data:e.t5},e.abrupt("return",e.t0.post.call(e.t0,e.t6).then((function(e){return e.data})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}():function(){throw new Error("CodeSandbox API is not initialised")}},h=function(e){var t=(0,a.E)(),n=t.csbApi,i=t.api;return n?function(){var t=(0,r.Z)(o().mark((function t(r,a,s){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.rest,t.t1="/v1/sandboxes/".concat(e,"/templates"),t.t2="Bearer ",t.next=5,i.getJwtToken();case 5:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3),t.t5={Authorization:t.t4},t.t6={template:{color:s,description:a,title:r}},t.t7={path:t.t1,headers:t.t5,data:t.t6},t.abrupt("return",t.t0.post.call(t.t0,t.t7).then((function(e){return e.data})));case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}():function(){throw new Error("CodeSandbox API is not initialised")}},b=function(e){var t=(0,a.E)(),n=t.csbApi,i=t.api;return n?function(){var t=(0,r.Z)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.rest,t.t1="/v1/sandboxes/".concat(e,"/templates/").concat(r),t.t2="Bearer ",t.next=5,i.getJwtToken();case 5:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3),t.t5={Authorization:t.t4},t.t6={path:t.t1,headers:t.t5},t.abrupt("return",t.t0.delete.call(t.t0,t.t6));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(){throw new Error("CodeSandbox API is not initialised")}},v=function(e){var t=(0,u.D)(s.SR,e),n=t.mutate;return{changePrivacyResult:t.result,changePrivacy:function(t){return n({sandboxIds:[e],privacy:{public:0,unlisted:1,private:2}[t]})}}}},9896:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(41669),i=n(87795),o=n(91529);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){var n=(0,o.Db)(e),r=(0,i.Z)(n,2),a=r[0],c=r[1];return{result:a,mutate:function(e){return c(s(s({},e),{},{sandboxId:t}))}}}},74184:function(e,t,n){"use strict";function r(){return"webkitConvertPointFromNodeToPage"in window}n.d(t,{o:function(){return r},q:function(){return i}});var i=function(){var e=window.navigator.userAgent.toLowerCase();switch(!0){case e.includes("edge"):return"edge";case e.includes("edg"):return"chromium based edge (dev or canary)";case e.includes("opr")&&window.opr:return"opera";case e.includes("chrome")&&window.chrome:return"chrome";case e.includes("trident"):return"ie";case e.includes("firefox"):return"firefox";case e.includes("brave"):return"brave";case e.includes("safari"):return"safari";default:return"other"}}},64396:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(76369),i=n(30575),o=function(e){var t=e.protectedBranch&&(e.authorization===r.Ps.ProjectAuthorization.WRITE||e.authorization===r.Ps.ProjectAuthorization.ADMIN),n=e.authorization===r.Ps.ProjectAuthorization.READ&&(e.repoPermission===r.Ps.GithubPermission.READ||e.repoPermission===r.Ps.GithubPermission.NONE),o=e.owner===i.u&&e.authorization===r.Ps.ProjectAuthorization.READ;return t||n||o}},16364:function(e,t,n){"use strict";n.d(t,{RV:function(){return c},ET:function(){return h},_J:function(){return b},vZ:function(){return v},UP:function(){return m},fA:function(){return g},Dj:function(){return y},xT:function(){return E},Gh:function(){return O}});var r=n(87795),i=n(39378),o=n(46833),a=n.n(o),s=n(3238),c=function(e){if(0===e.length)return"";var t=e.filter(u),n=e.filter(l),r=e.filter(d),i=e.filter(f);if(t.length>0&&0===n.length&&0===r.length&&0===i.length)return"Update ".concat(p(t));if(0===t.length&&n.length>0&&0===r.length&&0===i.length)return"Create ".concat(p(n));if(0===t.length&&0===n.length&&r.length>0&&0===i.length)return"Delete ".concat(p(r));if(0===t.length&&0===n.length&&0===r.length&&i.length>0)return"Rename ".concat(p(i));var o=t.length+n.length+r.length;return"Update ".concat(o," files")},u=function(e){return e.isStaged?"M"===e.index:"M"===e.workingTree},l=function(e){return e.isStaged?"?"===e.index:"?"===e.workingTree},d=function(e){return e.isStaged?"D"===e.index:"D"===e.workingTree},f=function(e){return e.isStaged&&"R"===e.index},p=function(e){return 1===e.length?(0,s.Bc)(e[0].path):2===e.length?"".concat((0,s.Bc)(e[0].path)," and ").concat((0,s.Bc)(e[1].path)):"".concat(e.length," files")},h=function(e){var t=e.owner,n=e.repo;return"https://github.com/".concat(t,"/").concat(n)},b=function(e){var t=e.owner,n=e.repo,r=e.commitHash;return"".concat(h({owner:t,repo:n}),"/commit/").concat(r)},v=function(e){var t=e.fork,n=e.forkBranchName,i=e.parent,o=e.parentBranchName;if(t===i)return!1;try{var a=new URL(i),s=new URL(t),c=function(e){var t=e.replace(".git","").split("/"),n=(0,r.Z)(t,3);return[n[1],n[2]]},u=c(a.pathname),l=(0,r.Z)(u,2),d=l[0],f=l[1],p=c(s.pathname),b=(0,r.Z)(p,2),v=b[0],m=b[1];return!!(d&&f&&v&&m)&&"".concat(h({owner:d,repo:f}),"/compare/").concat(o,"...").concat(v,":").concat(m,":").concat(n)}catch(g){return!1}},m=function(e){var t=e.owner,n=e.repo,r=e.sourceBranch,i=e.targetBranch;return"".concat(h({owner:t,repo:n}),"/pull/new/").concat(i,"...").concat(r)},g=function(e){var t=e.owner,n=e.repo,r=e.prNumber;return"".concat(h({owner:t,repo:n}),"/pull/").concat(r)},y={branch:function(e){var t=e.owner,n=e.repo,r=e.branchName;return"".concat(h({owner:t,repo:n}),"/tree/").concat(r)},repo:h},E=(0,i.memoize)((function(e){return e.substring(0,80).split("/").reduce((function(e,t,n,r){var i=a()(t);return i&&(e+=i,n<r.length-1&&(e+="/")),e}),"")})),O="CSB_DISCARD_PROMPT_DISMISSED"},22209:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r={jsx:"fileJsx",tsx:"fileJsx",html:"fileHtml",hbs:"fileHtml",json:"fileJson",css:"fileCss",scss:"fileCss",less:"fileCss",md:"fileText",mdx:"fileText",svg:"fileImage",png:"fileImage",vue:"fileHtml",npmrc:"configs",nvmrc:"configs",prettierignore:"configs",prettierrc:"configs",eslintignore:"configs",dockerignore:"configs",yarnrc:"configs",gitignore:"configs",eslintrc:"configs"},i=function(e){if(!e)return"file";var t=e.split(".").pop();return t&&r[t.toLowerCase()]||"file"}},91319:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=function(e,t){return"undefined"===typeof navigator?"":/Mac/.test(navigator.platform)?t:e},i={$mod:r("Ctrl","\u2318"),Shift:"\u21e7",Alt:r("Alt","\u2325"),Backspace:r("\u27f5","\u232b"),Enter:r("Enter","\u23ce"),Control:r("Ctrl","\u2303")}},59949:function(e,t,n){"use strict";n.d(t,{Ph:function(){return s},hs:function(){return c},Hb:function(){return l},wD:function(){return d}});var r=n(41669),i=n(32441);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){var n=null===e||void 0===e?void 0:e[t];return Array.isArray(n)?null===n||void 0===n?void 0:n[0]:n},c=function(e){var t=s(e,"workspaceId"),n=s(e,"owner"),r=s(e,"repo"),i="true"===s(e,"preventWorkspaceRedirect"),o="true"===s(e,"create");return{workspaceId:t,owner:n,repo:r,preventWorkspaceRedirect:i,branch:(e.branchParts&&Array.isArray(e.branchParts)?e.branchParts:[]).join("/"),createBranch:o}},u=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return 0===Object.keys(t).length?"":"?".concat(new URLSearchParams(t).toString())},l={userProfile:function(e){return"".concat(i.P1,"/u/").concat(e)},dashboard:{recent:function(e){return"".concat(i.P1,"/dashboard/recent").concat(u({workspace:e}))},repositories:function(e){return"".concat(i.P1,"/dashboard/repositories").concat(u({workspace:e}))},branches:function(e,t,n){return"".concat(i.P1,"/dashboard/repositories/github/").concat(e,"/").concat(t).concat(u({workspace:n||void 0}))},permission:function(){return"".concat(i.P1,"/dashboard/settings/permissions?continueUrl=").concat(encodeURIComponent(window.location.href))}},editorV1:{sandbox:function(e){return"".concat(i.P1,"/s/").concat(e)}},pro:function(e){var t="".concat(i.P1,"/pro?utm_source=").concat(e.source);return e.workspaceId?"".concat(t,"&workspace=").concat(e.workspaceId):t},editor:{sandbox:function(e){return"/sandbox/".concat(e)},branch:function(e,t,n,r){var i=r?"?workspaceId=".concat(r):"";return"/github/".concat(e,"/").concat(t,"/").concat(n).concat(i)},draftBranch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new URLSearchParams(a({create:"true"},n));return"/github/".concat(e,"/").concat(t,"?").concat(r.toString())}}},d={integrations:{githubAuth:"".concat(i.hW,"/auth/github/oauth-settings"),githubApp:"".concat(i.hW,"/auth/github/app-install")},calendly:{bookAChat:"https://calendly.com/d/dzb-6vn-v2c/chat-about-codesandbox"}}},96661:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=function(e){var t,n=e.title,r=e.alias,i=e.id,o=e.description,a=e.git,s="".concat(n||r||i),c=o;return a&&!o&&(c="Synced template from GitHub @".concat(a.username,"/").concat(a.repo),a.path&&(c+=" at /".concat(a.path))),{title:s,description:null!==(t=c)&&void 0!==t?t:""}}},3238:function(e,t,n){"use strict";n.d(t,{Bc:function(){return r},mW:function(){return i},Ho:function(){return o}});var r=function(e){if(!e||!e.includes("/"))return e;var t=e.lastIndexOf("/");return e.slice(t+1)},i=function(e){return"\u201c".concat(e,"\u201d")},o=function(e,t){return 1===t?e:"".concat(e,"s")}},40305:function(e,t,n){"use strict";n.d(t,{Os:function(){return i},PK:function(){return o},VC:function(){return a}});var r=n(46819),i=function(e){return!!e.subscription&&("ACTIVE"===e.subscription.status||"TRIALING"===e.subscription.status)},o=function(e){if(!e)return!1;var t=e.limits,n=e.usage;return!(i(e)||!t.maxPublicProjects)&&n.publicProjectsQuantity>=t.maxPublicProjects},a=function(e,t){var n,i;return(null===t||void 0===t||null===(n=t.userAuthorizations)||void 0===n||null===(i=n.find((function(t){return t.userId===e})))||void 0===i?void 0:i.authorization)===r.p0.Admin}},46819:function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,d,f,p,h,b,v,m,g,y,E,O,P,x,j,w,T,S,I,R;n.d(t,{_n:function(){return i},yh:function(){return T},p0:function(){return I}}),function(e){e.Basic="BASIC",e.Bearer="BEARER"}(r||(r={})),function(e){e.Comment="COMMENT",e.None="NONE",e.Owner="OWNER",e.Read="READ",e.WriteCode="WRITE_CODE",e.WriteProject="WRITE_PROJECT"}(i||(i={})),function(e){e.Asc="ASC",e.Desc="DESC"}(o||(o={})),function(e){e.Collaborator="COLLABORATOR",e.Contributor="CONTRIBUTOR",e.FirstTimer="FIRST_TIMER",e.FirstTimeContributor="FIRST_TIME_CONTRIBUTOR",e.Mannequin="MANNEQUIN",e.Member="MEMBER",e.None="NONE",e.Owner="OWNER"}(a||(a={})),function(e){e.Merge="MERGE",e.Rebase="REBASE",e.Squash="SQUASH"}(s||(s={})),function(e){e.Approve="APPROVE",e.Comment="COMMENT",e.RequestChanges="REQUEST_CHANGES"}(c||(c={})),function(e){e.Left="LEFT",e.Right="RIGHT"}(u||(u={})),function(e){e.File="FILE",e.Line="LINE"}(l||(l={})),function(e){e.Github="GITHUB"}(d||(d={})),function(e){e.Admin="ADMIN",e.None="NONE",e.Read="READ",e.Write="WRITE"}(f||(f={})),function(e){e.Read="READ",e.Write="WRITE"}(p||(p={})),function(e){e.Created="CREATED"}(h||(h={})),function(e){e.Admin="ADMIN",e.None="NONE",e.Read="READ",e.Write="WRITE"}(b||(b={})),function(e){e.Apple="APPLE",e.Github="GITHUB",e.Google="GOOGLE"}(v||(v={})),function(e){e.Created="CREATED",e.Deleted="DELETED",e.Edited="EDITED"}(m||(m={})),function(e){e.Closed="CLOSED",e.ConvertedToDraft="CONVERTED_TO_DRAFT",e.Opened="OPENED",e.ReadyForReview="READY_FOR_REVIEW",e.ReviewRequested="REVIEW_REQUESTED",e.ReviewRequestRemoved="REVIEW_REQUEST_REMOVED"}(g||(g={})),function(e){e.Created="CREATED",e.Deleted="DELETED",e.Edited="EDITED"}(y||(y={})),function(e){e.Dismissed="DISMISSED",e.Edited="EDITED",e.Submitted="SUBMITTED"}(E||(E={})),function(e){e.Approved="APPROVED",e.ChangesRequested="CHANGES_REQUESTED",e.Commented="COMMENTED",e.Dismissed="DISMISSED"}(O||(O={})),function(e){e.Custom="CUSTOM",e.Github="GITHUB",e.Npm="NPM"}(P||(P={})),function(e){e.Monthly="MONTHLY",e.Yearly="YEARLY"}(x||(x={})),function(e){e.Legacy="LEGACY",e.Patron="PATRON",e.Pilot="PILOT"}(j||(j={})),function(e){e.Paddle="PADDLE",e.Stripe="STRIPE"}(w||(w={})),function(e){e.Active="ACTIVE",e.Cancelled="CANCELLED",e.IncompleteExpired="INCOMPLETE_EXPIRED",e.Paused="PAUSED",e.Trialing="TRIALING",e.Unknown="UNKNOWN",e.Unpaid="UNPAID"}(T||(T={})),function(e){e.PersonalPro="PERSONAL_PRO",e.TeamPro="TEAM_PRO"}(S||(S={})),function(e){e.Admin="ADMIN",e.Read="READ",e.Write="WRITE"}(I||(I={})),function(e){e.Personal="PERSONAL",e.Team="TEAM"}(R||(R={}))}}]);
//# sourceMappingURL=9623-ff2e8c4f90d55117db12.js.map