"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7752],{4195:function(e,t,n){n.d(t,{z:function(){return r},B:function(){return o}});var r={appId:"codesandbox",name:"Boxy",avatarUrl:(0,n(94449).wE)("/images/csb-avatar.png"),color:"#AC9CFF",clientId:"csb-assistant",username:"csb-assistant"},o=function(e,t){var n=t.clientId,o=t.username;return o===r.username||n===r.clientId?r:n&&e[n]?e[n]:Object.values(e).find((function(e){return e.username===o}))}},82662:function(e,t,n){n.d(t,{E:function(){return o}});var r=n(79884);function o(e){return{automaticLayout:!1,scrollbar:{useShadows:!1,verticalScrollbarSize:(0,r.SK)(1.5),horizontalScrollbarSize:(0,r.SK)(1.5)},minimap:{enabled:!1,renderCharacters:!1},guides:{indentation:!1},renderLineHighlightOnlyWhenFocus:!0,overviewRulerBorder:!1,fixedOverflowWidgets:!0,fontFamily:e.fonts.mono,fontLigatures:!0,fontSize:14,lineHeight:23,lineNumbersMinChars:2,quickSuggestions:!0,quickSuggestionsDelay:10,suggestOnTriggerCharacters:!0,acceptSuggestionOnCommitCharacter:!1,wordWrap:e.wordWrap?"on":"off",wrappingIndent:"same"}}},15791:function(e,t,n){n.d(t,{gJ:function(){return Pe},e$:function(){return We},Lx:function(){return Be},MH:function(){return Ie}});var r=n(41669),o=n(51221),i=n(45934),s=n.n(i),a=n(24856),c=n(55397),u=n(82867),d=n(48915),l=n(86924),f=n(19556),p=n(81634),h=n(90596),m=n(69576),g=n(91005),v=n(26181),b=n(71380),y=n(90755),E=n(14002),k=n(30025),w=n(33255),C=n(62869),S=n(70233),x=n(20589),D=n(4908),N=n(55524),Z=n(86362),O=n(84049),F=n(84837);function R(e,t){var n={filepath:e,ref:t};return O.Uri.from({scheme:"git",path:e}).with({scheme:"git",path:e,query:JSON.stringify(n)})}var L=n(87795);function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){function e(t){(0,C.Z)(this,e),this.maxSize=t,(0,r.Z)(this,"cache",new Set)}return(0,S.Z)(e,[{key:"disposeCacheItem",value:function(e){this.cache.delete(e),e.cancelDisposal(),e.model.dispose()}},{key:"set",value:function(e,t){var n=this,r={filepath:e,model:t,cancelDisposal:function(){clearTimeout(o)}},o=setTimeout((function(){a.Rc.trace("cache.timeoutDispose",r.model),n.disposeCacheItem(r)}),6e4);if(a.Rc.trace("cache.set",t),this.cache.add(r),this.cache.size>this.maxSize){var i=(0,L.Z)(this.cache,1)[0];this.disposeCacheItem(i)}}},{key:"get",value:function(e){var t,n=M(this.cache);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.filepath===e)return r.cancelDisposal(),this.cache.delete(r),a.Rc.trace("cache.get",r.model),r.model}}catch(o){n.e(o)}finally{n.f()}}},{key:"dispose",value:function(){var e,t=M(this.cache);try{for(t.s();!(e=t.n()).done;){var n=e.value;a.Rc.trace("cache.dispose",n.model),this.disposeCacheItem(n)}}catch(r){t.e(r)}finally{t.f()}}}]),e}(),B=n(57034);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}function P(e,t){var n,r,o=e.replace("origin/","");return t.remote.branch===o?null!==(n=t.remote.head)&&void 0!==n?n:null:t.target.branch===o&&null!==(r=t.target.head)&&void 0!==r?r:null}var j=function(e){(0,D.Z)(n,e);var t=I(n);function n(e){var r;(0,C.Z)(this,n);var o=e.filepath,i=e.gitReference,s=e.modelService;r=t.call(this,{modelService:s,model:e.model});var a=function(){Pe().pitcher.clients.git.remoteContent({filepath:o,reference:i}).then((function(e){var t=e.content;r.textEditorModel.setValue(t)})).catch((function(){}))};if("HEAD"===i){var c=Pe().pitcher.clients.git.getStatus().head,u=Pe().pitcher.clients.git.onStatusUpdated((function(e){var t=e.head;t!==c&&(a(),c=t)}));r.onWillDispose((function(){return u.dispose()}))}if(i.startsWith("origin/")){var d=P(i,Pe().pitcher.clients.git.getStatus()),l=Pe().pitcher.clients.git.onStatusUpdated((function(e){var t=P(i,e);t!==d&&(a(),d=t)}));r.onWillDispose((function(){return l.dispose()}))}return r}return(0,S.Z)(n,[{key:"textEditorModel",get:function(){return this.model.object.textEditorModel}},{key:"updateContent",value:function(e){this.textEditorModel.setValue(e)}}]),n}(n(25324).g);function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}var _=function(e){(0,D.Z)(n,e);var t=U(n);function n(e){var i;return(0,C.Z)(this,n),(i=t.call(this)).monaco=e,(0,r.Z)((0,x.Z)(i),"_serviceBrand",void 0),(0,r.Z)((0,x.Z)(i),"_modelReferenceCounters",new Map),(0,r.Z)((0,x.Z)(i),"_gitModelReferenceCounters",new Map),(0,r.Z)((0,x.Z)(i),"_modelsCache",i.addDisposable(new A(5))),(0,r.Z)((0,x.Z)(i),"_monacoModelDict",new Map),(0,r.Z)((0,x.Z)(i),"_vscodeModelService",void 0),(0,r.Z)((0,x.Z)(i),"getVscodeModelService",(function(){if(i._vscodeModelService)return i._vscodeModelService;var e=(0,v.Z)()[w.SD.toString()],t=w.IO.get(w.TG).createInstance(e);return i._vscodeModelService=t,t})),(0,r.Z)((0,x.Z)(i),"createModelReference",function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("file"===t.scheme){e.next=2;break}return e.abrupt("return",i.getVscodeModelService().createModelReference(t));case 2:return n=Pe(),r=n.pitcher.clients.fs.asAbsoluteWorkspacePath(t.path),o=n.pitcher.clients.fs.absoluteToRelativeWorkspacePath(r),a.Rc.trace("createModelReference",t),e.next=8,i.ensureModelFromFilePath(o);case 8:return c=e.sent,u={object:c.object.textFileEditorModel,dispose:function(){c.dispose()}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i}return(0,S.Z)(n,[{key:"registerTextModelContentProvider",value:function(e,t){return this.getVscodeModelService().registerTextModelContentProvider(e,t)}},{key:"canHandleResource",value:function(e){return this.getVscodeModelService().canHandleResource(e)}},{key:"setModelByCuid",value:function(e,t){this._monacoModelDict.set(e,t)}},{key:"ensureModelFromFilePath",value:function(e){var t=this,n=Pe(),r=this._modelReferenceCounters.get(e),i=this._modelsCache.get(e),c=function(n){return new a.Rc(n,(function(){t._modelReferenceCounters.delete(e),t.isDisposed?n.dispose():t._modelsCache.set(e,n)}))};return!r&&i?r=Promise.resolve(c(i)):r||(r=n.pitcher.clients.file.openFileByPath(e).then(function(){var r=(0,o.Z)(s().mark((function r(o){var i,a,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.pitcher.clients.fs.asAbsoluteWorkspacePath(e),r.next=3,t.getVscodeModelService().createModelReference(O.Uri.file(i));case 3:return a=r.sent,(u=new B.q({file:o.object,model:a,modelService:t})).onWillDispose((function(){o.dispose()})),r.abrupt("return",c(u));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())),this._modelReferenceCounters.set(e,r),r.then((function(e){return e.acquire()}))}},{key:"ensureGitModel",value:function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,o,i,c,u,d,l,f=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pe(),o="".concat(t,"@").concat(n),!(i=this._gitModelReferenceCounters.get(o))){e.next=5;break}return e.abrupt("return",i.acquire());case 5:return e.next=7,r.pitcher.clients.git.remoteContent({reference:n,filepath:t});case 7:if(c=e.sent,u=c.content,!(i=this._gitModelReferenceCounters.get(o))){e.next=13;break}return i.object.updateContent(u),e.abrupt("return",i.acquire());case 13:return e.next=15,(0,F.iW)(R(t,n));case 15:return d=e.sent,l=new j({filepath:t,model:d,gitReference:n,modelService:this}),i=new a.Rc(l,(function(){f._gitModelReferenceCounters.delete(o),l.dispose()})),this._gitModelReferenceCounters.set(o,i),e.abrupt("return",i.acquire());case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSelectedText",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._modelReferenceCounters.get(t);case 2:if(n=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.object.selections,e.abrupt("return",r.map((function(e){return{range:e,text:n.object.textEditorModel.getValueInRange(e)}})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearCache",value:function(){this._modelsCache.dispose(),this._modelsCache=this.addDisposable(new A(5)),this._monacoModelDict.forEach((function(e){return e.dispose()})),this._monacoModelDict.clear(),this._modelReferenceCounters.forEach((function(e){return e.then((function(e){return e.dispose()}))})),this._modelReferenceCounters.clear(),this._gitModelReferenceCounters.forEach((function(e){return e.dispose()})),this._gitModelReferenceCounters.clear()}}]),n}(a.JT),W=n(82662),H=(n(60757),n(62476)),G=n(88031),V=n(39378),z=n(79884);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}var K,q=(0,F.P6)("editorGutter.modifiedBackground",{dark:"#1B81A8",light:"#2090D3",hcDark:"#1B81A8",hcLight:"#2090D3"},"Editor gutter background color for lines that are modified."),X=(0,F.P6)("editorGutter.addedBackground",{dark:"#487E02",light:"#48985D",hcDark:"#487E02",hcLight:"#48985D"},"Editor gutter background color for lines that are added."),J=(0,F.P6)("editorGutter.deletedBackground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},"Editor gutter background color for lines that are deleted.");!function(e){e[e.Modify=0]="Modify",e[e.Add=1]="Add",e[e.Delete=2]="Delete"}(K||(K={}));var Q=function(e){(0,D.Z)(n,e);var t=Y(n);function n(){var e;return(0,C.Z)(this,n),e=t.call(this),(0,r.Z)((0,x.Z)(e),"codeEditorService",void 0),(0,r.Z)((0,x.Z)(e),"textModelResolverService",void 0),(0,r.Z)((0,x.Z)(e),"pitcher",void 0),(0,r.Z)((0,x.Z)(e),"head",void 0),(0,r.Z)((0,x.Z)(e),"statusListener",void 0),(0,r.Z)((0,x.Z)(e),"diffModels",new Map),(0,r.Z)((0,x.Z)(e),"codeEditorAttachListenerDisposable",new c.DisposableStore),e.codeEditorService=w.IO.get(w.$t),e.textModelResolverService=w.IO.get(w.SD),e.pitcher=Pe().pitcher,e.addDisposable(Be((function(t){e.pitcher=t.pitcher,e.clearDiffModels(),e.handleVisibileEditorsChanged(),e.initializeGitStatusListener()}))),e.initializeGitStatusListener(),e.addDisposable(e.codeEditorService.onCodeEditorAdd((function(){e.handleVisibileEditorsChanged()}))),e.addDisposable(e.codeEditorService.onCodeEditorRemove((function(){e.handleVisibileEditorsChanged()}))),e.handleVisibileEditorsChanged(),e.onWillDispose((function(){var t,n;null===(t=e.codeEditorAttachListenerDisposable)||void 0===t||t.dispose(),null===(n=e.statusListener)||void 0===n||n.dispose(),e.clearDiffModels()})),e}return(0,S.Z)(n,[{key:"initializeGitStatusListener",value:function(){var e=this;this.statusListener&&this.statusListener.dispose(),this.head=this.pitcher.clients.git.getStatus().head,this.statusListener=this.pitcher.clients.git.onStatusUpdated((function(t){e.head!==t.head&&(e.head=t.head,e.clearDiffModels(),e.handleVisibileEditorsChanged())}))}},{key:"handleVisibileEditorsChanged",value:function(){var e=this,t=this.codeEditorService.listCodeEditors();this.codeEditorAttachListenerDisposable&&this.codeEditorAttachListenerDisposable.dispose(),this.codeEditorAttachListenerDisposable=new c.DisposableStore,t.forEach((function(t){e.codeEditorAttachListenerDisposable.add(t.onDidChangeModel((function(){e.handleVisibileEditorsChanged()})))}));var n=t.map((function(e){return{editor:e,model:e.getModel()}})).filter((function(e){var t=e.model;return"file"===(null===t||void 0===t?void 0:t.uri.scheme)})),r=n.filter((function(t){var n=t.model;return!e.diffModels.has(n.uri.path)}));Array.from(this.diffModels.keys()).filter((function(e){return!n.some((function(t){return t.model.uri.path===e}))})).forEach((function(t){var n;null===(n=e.diffModels.get(t))||void 0===n||n.dispose(),e.diffModels.delete(t)})),r.forEach((function(t){var n=t.editor,r=t.model;e.createDiffModel(n,r)}))}},{key:"clearDiffModels",value:function(){this.diffModels.forEach((function(e){return e.dispose()})),this.diffModels.clear()}},{key:"createDiffModel",value:function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,o,i,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.head){e.next=2;break}return e.abrupt("return");case 2:if("file"===(r=n.uri).scheme){e.next=5;break}return e.abrupt("return");case 5:return o=this.pitcher.clients.fs.absoluteToRelativeWorkspacePath(r.path),i=R(o,this.head),e.prev=7,e.next=10,this.textModelResolverService.createModelReference(r);case 10:return a=e.sent,e.next=13,this.textModelResolverService.createModelReference(i);case 13:return c=e.sent,e.next=16,a.object.resolve();case 16:return e.next=18,c.object.resolve();case 18:return u=new $(t,a,c,this.pitcher.clients.git),this.diffModels.set(n.uri.path,u),e.abrupt("return",u);case 23:return e.prev=23,e.t0=e.catch(7),e.abrupt("return",void 0);case 26:case"end":return e.stop()}}),e,this,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(a.JT),$=function(e){(0,D.Z)(n,e);var t=Y(n);function n(e,i,a,c){var u;return(0,C.Z)(this,n),(u=t.call(this)).dirtyModel=i,u.gitModel=a,(0,r.Z)((0,x.Z)(u),"editorWorkerService",void 0),(0,r.Z)((0,x.Z)(u),"themeService",void 0),(0,r.Z)((0,x.Z)(u),"decorations",void 0),(0,r.Z)((0,x.Z)(u),"colors",void 0),(0,r.Z)((0,x.Z)(u),"triggerDiff",(0,V.debounce)((0,o.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.gitModel.object.textEditorModel.uri,n=u.dirtyModel.object.textEditorModel.uri,u.editorWorkerService.canComputeDirtyDiff(t,n)){e.next=5;break}return u.decorations.clear(),e.abrupt("return");case 5:return e.next=7,u.editorWorkerService.computeDirtyDiff(t,n,!1);case 7:if(r=e.sent){e.next=11;break}return u.decorations.clear(),e.abrupt("return");case 11:u.decorations.set(r.map((function(e){var t=re(e),n=ne(u.colors),r=e.modifiedStartLineNumber,o=e.modifiedEndLineNumber||r;switch(t){case K.Add:return{range:{startLineNumber:r,startColumn:1,endLineNumber:o,endColumn:1},options:n.added};case K.Delete:return{range:{startLineNumber:r,startColumn:Number.MAX_VALUE,endLineNumber:r,endColumn:Number.MAX_VALUE},options:n.deleted};default:return{range:{startLineNumber:r,startColumn:1,endLineNumber:o,endColumn:1},options:n.modified}}})));case 12:case"end":return e.stop()}}),e)}))),100)),u.addDisposable(i),u.addDisposable(a),u.editorWorkerService=w.IO.get(w.p7),u.themeService=w.IO.get(w.XE),u.decorations=e.createDecorationsCollection(),u.onWillDispose((function(){u.decorations.clear()})),u.addDisposable(i.object.textEditorModel.onDidChangeContent((function(){u.triggerDiff()}))),u.addDisposable(a.object.textEditorModel.onDidChangeContent((function(){u.triggerDiff()}))),u.addDisposable(c.onStatusUpdated((function(){u.triggerDiff()}))),u.addDisposable(u.themeService.onDidColorThemeChange((function(){u.setColors(),u.triggerDiff()}))),u.setColors(),u.triggerDiff(),u}return(0,S.Z)(n,[{key:"setColors",value:function(){var e,t,n;this.colors={added:(null===(e=oe(this.themeService.getColorTheme(),K.Add))||void 0===e?void 0:e.toString())||"#5DCC67",deleted:(null===(t=oe(this.themeService.getColorTheme(),K.Delete))||void 0===t?void 0:t.toString())||"#FF3B30",modified:(null===(n=oe(this.themeService.getColorTheme(),K.Modify))||void 0===n?void 0:n.toString())||"#3b82f6"}}}]),n}(a.JT),ee=void 0,te=void 0;function ne(e){var t,n,r;if((null===(t=ee)||void 0===t?void 0:t.added)===e.added&&(null===(n=ee)||void 0===n?void 0:n.deleted)===e.deleted&&(null===(r=ee)||void 0===r?void 0:r.modified)===e.modified||(ee=e,te=void 0),!te){var o=(0,G.Z)(new Array(Math.ceil(100/7.5))).map((function(e,t){return 7.5*t})),i=o.map((function(t,n){var r=n%2===0?e.modified:"transparent",i=o[n+1]||100;return"".concat(r," ").concat(t,"%, ").concat(r," ").concat(i,"%")})).join(", ");te={added:{linesDecorationsClassName:(0,z.L2)({marginLeft:"5px",zIndex:5,"&:before":{position:"absolute",content:"",height:"100%",width:0,borderLeft:"3px solid ".concat(e.added)}}).toString(),overviewRuler:{color:e.added,position:1},minimap:{color:e.added,position:2}},modified:{linesDecorationsClassName:(0,z.L2)({marginLeft:"5px",zIndex:5,"&:before":{position:"absolute",content:"",height:"100%",width:"3px",left:0,backgroundImage:"linear-gradient(-45deg, ".concat(i,")"),backgroundRepeat:"repeat-y"}}).toString(),overviewRuler:{color:e.modified,position:1},minimap:{color:e.modified,position:2}},deleted:{linesDecorationsClassName:(0,z.L2)({marginLeft:"5px",zIndex:5,"&:before":{background:e.deleted,marginLeft:"3px",height:0,bottom:0},"&:after":{content:"",position:"absolute",bottom:"-4px",boxSizing:"border-box",width:"4px",height:0,zIndex:9,borderTop:"4px solid transparent",borderBottom:"4px solid transparent",borderLeft:"4px solid ".concat(e.deleted)}}).toString(),overviewRuler:{color:e.deleted,position:1},minimap:{color:e.deleted,position:2}}}}return te}function re(e){return 0===e.originalEndLineNumber?K.Add:0===e.modifiedEndLineNumber?K.Delete:K.Modify}function oe(e,t){switch(t){case K.Modify:return e.getColor(q);case K.Add:return e.getColor(X);case K.Delete:return e.getColor(J)}}function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}var se=function(e){(0,D.Z)(n,e);var t=ie(n);function n(){var e;(0,C.Z)(this,n),e=t.call(this),(0,r.Z)((0,x.Z)(e),"codeEditorService",void 0),(0,r.Z)((0,x.Z)(e),"editorService",void 0),(0,r.Z)((0,x.Z)(e),"extensionApi",void 0),(0,r.Z)((0,x.Z)(e),"history",[]),(0,r.Z)((0,x.Z)(e),"historyCursor",-1),(0,r.Z)((0,x.Z)(e),"ignoreNextPushState",!1),(0,r.Z)((0,x.Z)(e),"activeEditorDisposable",null);var o=(0,u.ix)({name:"codesandbox-history",publisher:"codesandbox",version:"1.0.0",engines:{vscode:"*"},contributes:{commands:[{command:"workbench.action.navigateBack",title:"Go Back"},{command:"workbench.action.navigateForward",title:"Go Forward"}],keybindings:[{command:"workbench.action.navigateBack",key:"alt+left",mac:"ctrl+-",linux:"ctrl+alt+-",when:"canNavigateBack"},{command:"workbench.action.navigateForward",key:"alt+right",mac:"ctrl+shift+-",linux:"ctrl+shift+-",when:"canNavigateForward"}]}}),i=o.api,s=o.dispose;return e.extensionApi=i,e.addDisposable(a.JT.create(s)),e.codeEditorService=w.IO.get(w.$t),e.editorService=w.IO.get(w.AR),e.initializeListeners(),e.initializeCommands(),e.editorService.activeTextEditorControl&&e.pushState(),e}return(0,S.Z)(n,[{key:"initializeListeners",value:function(){var e=this;this.addDisposable(this.editorService.onDidActiveEditorChange((function(){e.pushState(),e.registerEditorListeners()})))}},{key:"registerEditorListeners",value:function(){var e=this;this.activeEditorDisposable&&this.activeEditorDisposable.dispose();var t=this.codeEditorService.getFocusedCodeEditor();t&&(this.activeEditorDisposable=this.addDisposable(t.onDidChangeCursorSelection((function(t){(function(e,t){if(!e||!t)return!1;var n=Math.min(e.startLineNumber,e.endLineNumber),r=Math.min(t.startLineNumber,t.endLineNumber);return Math.abs(n-r)<10})(e.history[e.historyCursor].selection,t.selection)||e.pushState()}))))}},{key:"initializeCommands",value:function(){var e=this;this.addDisposable(this.extensionApi.commands.registerCommand("workbench.action.navigateBack",(function(){e.navigateBack()}))),this.addDisposable(this.extensionApi.commands.registerCommand("workbench.action.navigateForward",(function(){e.navigateForward()})))}},{key:"navigateBack",value:function(){0!==this.historyCursor&&(this.historyCursor--,this.openCurrentHistoryCursor(),this.updateContext())}},{key:"navigateForward",value:function(){this.historyCursor!==this.history.length-1&&(this.historyCursor++,this.openCurrentHistoryCursor(),this.updateContext())}},{key:"updateContext",value:function(){this.extensionApi.commands.executeCommand("setContext","canNavigateBack",this.historyCursor>0),this.extensionApi.commands.executeCommand("setContext","canNavigateForward",this.historyCursor<this.history.length-1)}},{key:"openCurrentHistoryCursor",value:function(){var e=this.history[this.historyCursor],t=e.model,n=e.selection;this.ignoreNextPushState=!0,"code"===t.type?this.editorService.openEditor({resource:t.uri,options:{selection:ae(n),pinned:!1}}):this.editorService.openEditor({original:{resource:t.originalUri},modified:{resource:t.modifiedUri},options:{pinned:!1,selection:ae(n)}})}},{key:"pushState",value:function(){if(this.ignoreNextPushState)this.ignoreNextPushState=!1;else{var e=this.editorService.activeTextEditorControl;if(e){var t=e.getModel();if(t){var n=e.getSelection();this.history.length=this.historyCursor+1,"uri"in t?this.history.push({model:{type:"code",uri:t.uri},selection:n}):this.history.push({model:{type:"diff",originalUri:t.original.uri,modifiedUri:t.modified.uri},selection:n}),this.history.length>100&&this.history.shift(),this.historyCursor=this.history.length-1,this.updateContext()}}}}}]),n}(a.JT);function ae(e){var t,n,r,o;if(e)return{startLineNumber:null!==(t=e.startLineNumber)&&void 0!==t?t:1,startColumn:null!==(n=e.startColumn)&&void 0!==n?n:1,endLineNumber:null!==(r=e.endLineNumber)&&void 0!==r?r:1,endColumn:null!==(o=e.endColumn)&&void 0!==o?o:1}}var ce=n(57252),ue=n(77410),de={1:{code:"EPERM",message:"Operation not permitted"},2:{code:"ENOENT",message:"No such file or directory"},3:{code:"ESRCH",message:"No such process"},4:{code:"EINTR",message:"Interrupted system call"},5:{code:"EIO",message:"Input/output error"},6:{code:"ENXIO",message:"No such device or address"},7:{code:"E2BIG",message:"Argument list too long"},8:{code:"ENOEXEC",message:"Exec format error"},9:{code:"EBADF",message:"Bad file descriptor"},10:{code:"ECHILD",message:"No child processes"},11:{code:"EAGAIN",message:"Resource temporarily unavailable"},12:{code:"ENOMEM",message:"Cannot allocate memory"},13:{code:"EACCES",message:"Permission denied"},14:{code:"EFAULT",message:"Bad address"},15:{code:"ENOTBLK",message:"Block device required"},16:{code:"EBUSY",message:"Device or resource busy"},17:{code:"EEXIST",message:"File exists"},18:{code:"EXDEV",message:"Invalid cross-device link"},19:{code:"ENODEV",message:"No such device"},20:{code:"ENOTDIR",message:"Not a directory"},21:{code:"EISDIR",message:"Is a directory"},22:{code:"EINVAL",message:"Invalid argument"},23:{code:"ENFILE",message:"Too many open files in system"},24:{code:"EMFILE",message:"Too many open files"},25:{code:"ENOTTY",message:"Inappropriate ioctl for device"},26:{code:"ETXTBSY",message:"Text file busy"},27:{code:"EFBIG",message:"File too large"},28:{code:"ENOSPC",message:"No space left on device"},29:{code:"ESPIPE",message:"Illegal seek"},30:{code:"EROFS",message:"Read-only file system"},31:{code:"EMLINK",message:"Too many links"},32:{code:"EPIPE",message:"Broken pipe"},33:{code:"EDOM",message:"Numerical argument out of domain"},34:{code:"ERANGE",message:"Numerical result out of range"},35:{code:"EDEADLOCK",message:"Resource deadlock avoided"},36:{code:"ENAMETOOLONG",message:"File name too long"},37:{code:"ENOLCK",message:"No locks available"},38:{code:"ENOSYS",message:"Function not implemented"},39:{code:"ENOTEMPTY",message:"Directory not empty"},40:{code:"ELOOP",message:"Too many levels of symbolic links"},42:{code:"ENOMSG",message:"No message of desired type"},43:{code:"EIDRM",message:"Identifier removed"},44:{code:"ECHRNG",message:"Channel number out of range"},45:{code:"EL2NSYNC",message:"Level 2 not synchronized"},46:{code:"EL3HLT",message:"Level 3 halted"},47:{code:"EL3RST",message:"Level 3 reset"},48:{code:"ELNRNG",message:"Link number out of range"},49:{code:"EUNATCH",message:"Protocol driver not attached"},50:{code:"ENOCSI",message:"No CSI structure available"},51:{code:"EL2HLT",message:"Level 2 halted"},52:{code:"EBADE",message:"Invalid exchange"},53:{code:"EBADR",message:"Invalid request descriptor"},54:{code:"EXFULL",message:"Exchange full"},55:{code:"ENOANO",message:"No anode"},56:{code:"EBADRQC",message:"Invalid request code"},57:{code:"EBADSLT",message:"Invalid slot"},59:{code:"EBFONT",message:"Bad font file format"},60:{code:"ENOSTR",message:"Device not a stream"},61:{code:"ENODATA",message:"No data available"},62:{code:"ETIME",message:"Timer expired"},63:{code:"ENOSR",message:"Out of streams resources"},64:{code:"ENONET",message:"Machine is not on the network"},65:{code:"ENOPKG",message:"Package not installed"},66:{code:"EREMOTE",message:"Object is remote"},67:{code:"ENOLINK",message:"Link has been severed"},68:{code:"EADV",message:"Advertise error"},69:{code:"ESRMNT",message:"Srmount error"},70:{code:"ECOMM",message:"Communication error on send"},71:{code:"EPROTO",message:"Protocol error"},72:{code:"EMULTIHOP",message:"Multihop attempted"},73:{code:"EDOTDOT",message:"RFS specific error"},74:{code:"EBADMSG",message:"Bad message"},75:{code:"EOVERFLOW",message:"Value too large for defined data type"},76:{code:"ENOTUNIQ",message:"Name not unique on network"},77:{code:"EBADFD",message:"File descriptor in bad state"},78:{code:"EREMCHG",message:"Remote address changed"},79:{code:"ELIBACC",message:"Can not access a needed shared library"},80:{code:"ELIBBAD",message:"Accessing a corrupted shared library"},81:{code:"ELIBSCN",message:".lib section in a.out corrupted"},82:{code:"ELIBMAX",message:"Attempting to link in too many shared libraries"},83:{code:"ELIBEXEC",message:"Cannot exec a shared library directly"},84:{code:"EILSEQ",message:"Invalid or incomplete multibyte or wide character"},85:{code:"ERESTART",message:"Interrupted system call should be restarted"},86:{code:"ESTRPIPE",message:"Streams pipe error"},87:{code:"EUSERS",message:"Too many users"},88:{code:"ENOTSOCK",message:"Socket operation on non-socket"},89:{code:"EDESTADDRREQ",message:"Destination address required"},90:{code:"EMSGSIZE",message:"Message too long"},91:{code:"EPROTOTYPE",message:"Protocol wrong type for socket"},92:{code:"ENOPROTOOPT",message:"Protocol not available"},93:{code:"EPROTONOSUPPORT",message:"Protocol not supported"},94:{code:"ESOCKTNOSUPPORT",message:"Socket type not supported"},95:{code:"ENOTSUP",message:"Operation not supported"},96:{code:"EPFNOSUPPORT",message:"Protocol family not supported"},97:{code:"EAFNOSUPPORT",message:"Address family not supported by protocol"},98:{code:"EADDRINUSE",message:"Address already in use"},99:{code:"EADDRNOTAVAIL",message:"Cannot assign requested address"},100:{code:"ENETDOWN",message:"Network is down"},101:{code:"ENETUNREACH",message:"Network is unreachable"},102:{code:"ENETRESET",message:"Network dropped connection on reset"},103:{code:"ECONNABORTED",message:"Software caused connection abort"},104:{code:"ECONNRESET",message:"Connection reset by peer"},105:{code:"ENOBUFS",message:"No buffer space available"},106:{code:"EISCONN",message:"Transport endpoint is already connected"},107:{code:"ENOTCONN",message:"Transport endpoint is not connected"},108:{code:"ESHUTDOWN",message:"Cannot send after transport endpoint shutdown"},109:{code:"ETOOMANYREFS",message:"Too many references: cannot splice"},110:{code:"ETIMEDOUT",message:"Connection timed out"},111:{code:"ECONNREFUSED",message:"Connection refused"},112:{code:"EHOSTDOWN",message:"Host is down"},113:{code:"EHOSTUNREACH",message:"No route to host"},114:{code:"EALREADY",message:"Operation already in progress"},115:{code:"EINPROGRESS",message:"Operation now in progress"},116:{code:"ESTALE",message:"Stale file handle"},117:{code:"EUCLEAN",message:"Structure needs cleaning"},118:{code:"ENOTNAM",message:"Not a XENIX named type file"},119:{code:"ENAVAIL",message:"No XENIX semaphores available"},120:{code:"EISNAM",message:"Is a named type file"},121:{code:"EREMOTEIO",message:"Remote I/O error"},122:{code:"EDQUOT",message:"Disk quota exceeded"},123:{code:"ENOMEDIUM",message:"No medium found"},124:{code:"EMEDIUMTYPE",message:"Wrong medium type"},125:{code:"ECANCELED",message:"Operation canceled"},126:{code:"ENOKEY",message:"Required key not available"},127:{code:"EKEYEXPIRED",message:"Key has expired"},128:{code:"EKEYREVOKED",message:"Key has been revoked"},129:{code:"EKEYREJECTED",message:"Key was rejected by service"},130:{code:"EOWNERDEAD",message:"Owner died"},131:{code:"ENOTRECOVERABLE",message:"State not recoverable"},132:{code:"ERFKILL",message:"Operation not possible due to RF-kill"},133:{code:"EHWPOISON",message:"Memory page has hardware error"}};function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}var fe=function(e){(0,D.Z)(n,e);var t=le(n);function n(e){var o,i,s,a,c;return(0,C.Z)(this,n),null===e?(c=t.call(this,"Unknown error"),(0,r.Z)((0,x.Z)(c),"code",void 0),c.code="UNKNOWN",(0,N.Z)(c)):(c=t.call(this,null!==(o=null===(i=de[e])||void 0===i?void 0:i.message)&&void 0!==o?o:"Unknown error"),(0,r.Z)((0,x.Z)(c),"code",void 0),c.code=null!==(s=null===(a=de[e])||void 0===a?void 0:a.code)&&void 0!==s?s:"UNKNOWN",(0,N.Z)(c))}return n}((0,ce.Z)(Error)),pe=function(e){(0,D.Z)(n,e);var t=le(n);function n(){var e;(0,C.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,r.Z)((0,x.Z)(e),"code","ENOENT"),e}return n}((0,ce.Z)(Error));function he(e,t){return e===a.$u.NodeType.Directory?O.FileType.Directory|(t?O.FileType.SymbolicLink:0):O.FileType.File|(t?O.FileType.SymbolicLink:0)}var me=function(){function e(){var t,n=this;(0,C.Z)(this,e),(0,r.Z)(this,"supportsRaw",!1),(0,r.Z)(this,"file",void 0),(0,r.Z)(this,"fs",void 0),(0,r.Z)(this,"workspacePath",void 0),(0,r.Z)(this,"onDidChangeFileEmitter",new O.EventEmitter),(0,r.Z)(this,"onDidChangeFile",this.onDidChangeFileEmitter.event),(0,r.Z)(this,"capabilities",131082),(0,r.Z)(this,"onDidChangeCapabilitiesEmitter",new O.EventEmitter),(0,r.Z)(this,"onDidChangeCapabilities",this.onDidChangeCapabilitiesEmitter.event),(0,r.Z)(this,"onDidWatchErrorEmitter",new O.EventEmitter),(0,r.Z)(this,"onDidWatchError",this.onDidWatchErrorEmitter.event),Be((function(e){var t,r=e.pitcher;n.supportsRaw=Boolean(null===(t=r.capabilities.fs)||void 0===t?void 0:t.raw),n.workspacePath=r.workspacePath,n.file=r.clients.file,n.fs=r.clients.fs}));var o=Pe().pitcher;this.supportsRaw=Boolean(null===(t=o.capabilities.fs)||void 0===t?void 0:t.raw),this.workspacePath=o.workspacePath,this.file=o.clients.file,this.fs=o.clients.fs}return(0,S.Z)(e,[{key:"absoluteUriToRelative",value:function(e){return e.with({path:this.fs.absoluteToRelativeWorkspacePath(e.path)})}},{key:"shouldUseRaw",value:function(e){return!!this.supportsRaw&&("/workspace.code-workspace"!==e.path&&!(e.path===this.workspacePath||e.path.startsWith(this.workspacePath+"/")))}},{key:"watch",value:function(e,t){var n=this;if(!this.shouldUseRaw(e))return new O.Disposable((function(){}));var r=this.fs.watch(e.path,{recursive:t.recursive,excludes:t.excludes},(function(e){n.onDidChangeFileEmitter.fire(function(e){return e.paths.map((function(t){return{resource:O.Uri.file(t),type:"add"===e.type?1:"change"===e.type?0:2}}))}(e))}));return new O.Disposable((0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:if("success"!==(t=e.sent).type){e.next=5;break}return e.abrupt("return",t.dispose());case 5:case"end":return e.stop()}}),e)}))))}},{key:"stat",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=8;break}return n=t.path,e.next=4,this.fs.stat(n);case 4:if("error"!==(r=e.sent).type){e.next=7;break}throw new fe(r.errno);case 7:return e.abrupt("return",{type:he(r.result.type,r.result.isSymlink),ctime:r.result.ctime,mtime:r.result.mtime,size:r.result.size});case 8:if(o=this.absoluteUriToRelative(t),"/"!==o.path){e.next=12;break}return e.abrupt("return",{type:O.FileType.Directory,ctime:0,mtime:0,size:0});case 12:if(i=this.fs.getIdFromPath(o.path)){e.next=25;break}return e.prev=14,e.next=17,this.file.openFileByPath(o.path);case 17:return e.sent.dispose(),e.abrupt("return",{type:O.FileType.File,ctime:0,mtime:0,size:0});case 22:throw e.prev=22,e.t0=e.catch(14),new pe("Not found");case 25:if(a=this.fs.memoryFS.tree.getNodeById(i)){e.next=28;break}throw new pe("Not found");case 28:return e.abrupt("return",{type:a.isDirectory()?O.FileType.Directory:O.FileType.File,ctime:0,mtime:0,size:0});case 29:case"end":return e.stop()}}),e,this,[[14,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readdir",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,i,a,c,u=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=9;break}return n=t.path,e.next=4,this.fs.readdir(n);case 4:if("error"!==(r=e.sent).type){e.next=7;break}throw new fe(r.errno);case 7:return o=r.result.entries,e.abrupt("return",o.map((function(e){return[e.name,he(e.type,e.isSymlink)]})));case 9:return i=this.absoluteUriToRelative(t),a=this.fs.memoryFS.getIdFromPath(i.path),c=this.fs.memoryFS.tree.children.get(a),e.abrupt("return",Array.from(c.entries()).map((function(e){var t=(0,L.Z)(e,2),n=t[0],r=t[1],o=u.fs.memoryFS.tree.getNodeById(n);return[r,null!==o&&void 0!==o&&o.isDirectory()?O.FileType.Directory:O.FileType.File]})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mkdir",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=7;break}return e.next=3,this.fs.mkdir(t.path);case 3:if("error"!==(n=e.sent).type){e.next=6;break}throw new fe(n.errno);case 6:return e.abrupt("return");case 7:r=this.absoluteUriToRelative(t),o=this.fs.memoryFS.getIdFromPath(ue.dirname(r.path)),i=ue.basename(r.path),this.fs.createDirectory(i,o);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=8;break}return n=t.path,e.next=4,this.fs.readFile(n);case 4:if("error"!==(r=e.sent).type){e.next=7;break}throw new fe(r.errno);case 7:return e.abrupt("return",r.result.content);case 8:return o=this.absoluteUriToRelative(t),e.next=11,this.file.openFileByPath(o.path);case 11:return i=e.sent,a="string"===typeof i.object.content?(new TextEncoder).encode(i.object.content):i.object.content,i.dispose(),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeFile",value:function(){var e=(0,o.Z)(s().mark((function e(t,n,r){var o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=8;break}return e.next=3,this.fs.writeFile(t.path,n,r.create,r.overwrite);case 3:if("error"!==(o=e.sent).type){e.next=6;break}throw new fe(o.errno);case 6:e.next=14;break;case 8:return i=this.absoluteUriToRelative(t),e.next=11,this.file.openFileByPath(i.path);case 11:(a=e.sent).object.updateContent("string"===typeof n?n:(new TextDecoder).decode(n)),a.dispose();case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)){e.next=9;break}return e.next=3,this.fs.remove(t.path,n.recursive);case 3:if("error"!==(r=e.sent).type){e.next=6;break}throw new fe(r.errno);case 6:return e.abrupt("return");case 9:o=this.absoluteUriToRelative(t),i=this.fs.memoryFS.getIdFromPath(o.path),this.fs.deleteNode(i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rename",value:function(){var e=(0,o.Z)(s().mark((function e(t,n,r){var o,i,a,c,u,d,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)&&!this.shouldUseRaw(n)){e.next=9;break}return e.next=3,this.fs.rename(t.path,n.path,r.overwrite);case 3:if("error"!==(o=e.sent).type){e.next=6;break}throw new fe(o.errno);case 6:return e.abrupt("return");case 9:if(i=this.absoluteUriToRelative(t),a=this.absoluteUriToRelative(n),c=this.fs.memoryFS.getIdFromPath(i.path),u=this.fs.memoryFS.getIdFromPath("/"),d=a.path.split("/"),l=d.pop()){e.next=17;break}throw new Error("No filename provided");case 17:f=this.fs.createDirectory(d.join("/"),u),this.fs.move(c,{newName:l,newParentId:f});case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"copy",value:function(){var e=(0,o.Z)(s().mark((function e(t,n,r){var o,i,a,c,u,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldUseRaw(t)&&!this.shouldUseRaw(n)){e.next=9;break}return e.next=3,this.fs.copy(t.path,n.path,r.overwrite);case 3:if("error"!==(o=e.sent).type){e.next=6;break}throw new fe(o.errno);case 6:return e.abrupt("return");case 9:return i=this.absoluteUriToRelative(t),e.next=12,this.file.openFileByPath(i.path);case 12:return a=e.sent,c="string"===typeof a.object.content?(new TextEncoder).encode(a.object.content):a.object.content,a.dispose(),u=this.absoluteUriToRelative(n),d=this.fs.memoryFS.getIdFromPath("/"),e.next=19,this.fs.uploadFile(u.path,c,d);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,N.Z)(this,n)}}function ve(){return be.apply(this,arguments)}function be(){return(be=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.j2)();case 2:O.workspace.registerFileSystemProvider("git",new ke);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t){var n,r,o=e.replace("origin/","");return t.remote.branch===o?null!==(n=t.remote.head)&&void 0!==n?n:null:t.target.branch===o&&null!==(r=t.target.head)&&void 0!==r?r:null}var Ee=function(e){(0,D.Z)(n,e);var t=ge(n);function n(e,o,i){var s;(0,C.Z)(this,n),s=t.call(this),(0,r.Z)((0,x.Z)(s),"content",""),(0,r.Z)((0,x.Z)(s),"isSynced",!1),(0,r.Z)((0,x.Z)(s),"onChangeEmitter",new a.Q5),(0,r.Z)((0,x.Z)(s),"onChange",s.onChangeEmitter.event),(0,r.Z)((0,x.Z)(s),"onErrorEmitter",new a.Q5),(0,r.Z)((0,x.Z)(s),"onError",s.onErrorEmitter.event);var c=function(){i.remoteContent({filepath:e,reference:o}).then((function(e){var t=e.content;t!==s.content&&(s.content=t,s.onChangeEmitter.fire(t))})).catch((function(e){s.onErrorEmitter.fire(e)})).finally((function(){s.isSynced=!0}))};if("HEAD"===o){var u=i.getStatus().head,d=i.onStatusUpdated((function(e){var t=e.head;t!==u&&(c(),u=t)}));s.onWillDispose((function(){return d.dispose()}))}if(o.startsWith("origin/")){var l=ye(o,i.getStatus()),f=i.onStatusUpdated((function(e){var t=ye(o,e);t!==l&&(c(),l=t)}));s.onWillDispose((function(){return f.dispose()}))}return c(),s}return n}(a.JT),ke=function(){function e(){var t=this;(0,C.Z)(this,e),(0,r.Z)(this,"git",void 0),(0,r.Z)(this,"onDidChangeFileEmitter",new O.EventEmitter),(0,r.Z)(this,"onDidChangeFile",this.onDidChangeFileEmitter.event),(0,r.Z)(this,"registry",new Map),Be((function(e){t.git=e.pitcher.clients.git})),this.git=Pe().pitcher.clients.git}return(0,S.Z)(e,[{key:"getGitFile",value:function(e){var t=this;try{var n=function(e){var t=JSON.parse(e.query);return{filepath:t.filepath,gitReference:t.ref}}(e),r="".concat(n.filepath,"@").concat(n.gitReference),o=this.registry.get(r),i=null!==o&&void 0!==o?o:new Ee(n.filepath,n.gitReference,this.git);return this.registry.set(r,i),o||i.onChange((function(){t.onDidChangeFileEmitter.fire([{uri:e,type:O.FileChangeType.Changed}])})),i.isSynced?Promise.resolve(i):new Promise((function(e,n){var o=new c.DisposableStore;o.add(i.onChange((function(){e(i),o.dispose()}))),o.add(i.onError((function(e){n(e),t.registry.delete(r),o.dispose()})))}))}catch(s){return Promise.reject(s)}}},{key:"watch",value:function(e,t){return new O.Disposable((function(){}))}},{key:"stat",value:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGitFile(t);case 2:return e.abrupt("return",{type:O.FileType.File,ctime:0,mtime:0,size:0});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGitFile(t);case 2:return n=e.sent,e.abrupt("return",(new TextEncoder).encode(n.content));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readDirectory",value:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createDirectory",value:function(e){throw new Error("Method not implemented.")}},{key:"writeFile",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"delete",value:function(e,t){throw new Error("Method not implemented.")}},{key:"rename",value:function(e,t,n){throw new Error("Method not implemented.")}}]),e}(),we=n(64660),Ce=n(64779);function Se(e){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.Z)(s().mark((function e(t){var n,r,o,i,d,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new a.U8,t.clients.language.onLanguagesUpdated((function(){n.open()})),t.clients.language.resync(),e.next=5,n.wait();case 5:return r=t.clients.language.getLanguages(),o=new c.DisposableStore,i=(0,u.ix)({name:"codesandbox-languages",publisher:"codesandbox",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:r.map((function(e){return{id:e.id,aliases:[],extensions:e.extensions,filenamePatterns:e.globs}}))}}),d=i.api,l=i.dispose,f=new Map,r.forEach((function(e){e.languageServerIds.forEach((function(t){f.has(t)||f.set(t,[]),f.get(t).push(e)}))})),(0,G.Z)(f.entries()).forEach((function(e){var n=(0,L.Z)(e,2),r=n[0],i=n[1],s=new Ze(t.clients.language,r),a={documentSelector:i.flatMap((function(e){return e.globs.map((function(t){return{scheme:"file",language:e.id,pattern:t}}))})),errorHandler:{error:function(e,t,n){return console.warn("LSP Error (count ".concat(n,")"),e),{action:we.ErrorAction.Continue,handled:!0}},closed:function(){return{action:we.CloseAction.Restart,handled:!0}}}},c=new we.LanguageClient(r,"CodeSandbox LSP: "+r,a,s),u=d.workspace.onDidOpenTextDocument((function(e){i.find((function(t){return t.id===e.languageId}))&&(c.start(),u.dispose())}));o.add(u),o.add(c)})),e.abrupt("return",(function(){o.dispose(),l()}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,Be((function(e){t=t?t.then((function(t){return t(),Se(e.pitcher)})).catch((function(t){return console.error("Last lang register failed:",t),Se(e.pitcher)})):Se(e.pitcher)})),n=Pe().pitcher,t=Se(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze=function(){function e(t,n){var o=this;(0,C.Z)(this,e),this.lspClient=t,this.serverId=n,(0,r.Z)(this,"errorListeners",[]),(0,r.Z)(this,"onmessage",void 0),this.lspClient.onLspServerRequest((function(e){e.serverId===o.serverId&&o.sendMessage({jsonrpc:"2.0",id:e.message.id,method:e.message.method,params:e.message.params})})),this.lspClient.onLspNotification((function(e){e.serverId===o.serverId&&o.sendMessage({jsonrpc:"2.0",method:e.message.method,params:e.message.params})}))}return(0,S.Z)(e,[{key:"sendMessage",value:function(e){var t=this;setTimeout((function(){t.onmessage&&t.onmessage({data:e})}),0)}},{key:"postMessage",value:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("id"in t)){e.next=11;break}if("method"in t){e.next=4;break}return this.sendLSPServerResponse(t),e.abrupt("return");case 4:return n=t.id,r=t.method,o=t.params,e.next=7,this.sendLSPRequest(r,o);case 7:"ok"===(i=e.sent).type?this.sendMessage({jsonrpc:"2.0",id:n,result:i.result}):this.sendMessage({jsonrpc:"2.0",id:n,error:i.error}),e.next=11;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addEventListener",value:function(e,t){"error"===e&&this.errorListeners.push(t)}},{key:"sendLSPRequest",value:function(){var e=(0,o.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.lspClient.sendLSPRequest({languageId:this.serverId,serverId:this.serverId,message:{method:t,params:n}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",this.pitcherErrorAsLsp(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendLSPServerResponse",value:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.lspClient.sendLSPServerResponse({languageId:this.serverId,serverId:this.serverId,message:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",this.pitcherErrorAsLsp(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pitcherErrorAsLsp",value:function(e){var t;return t=e instanceof Error?e.message:e,{type:"error",error:{code:Ce.ErrorCodes.MessageWriteError,message:"Failed to send request: "+t}}}}]),e}(),Oe="CodeSandbox";function Fe(){(0,(0,u.ix)({name:"codesandbox-projects-theme",displayName:"CodeSandbox Theme",description:"A CodeSandbox theme for Visual Studio Code",version:"1.1.0",publisher:"CodeSandbox-io",license:"Apache-2.0",contributes:{themes:[{label:Oe,uiTheme:"vs-dark",path:"./themes/codesandbox-dark.json"}]}}).registerSyncFile)("./themes/codesandbox-dark.json",JSON.stringify({name:"CodeSandbox",type:"dark",semanticHighlighting:!0,semanticTokenColors:{"function.defaultLibrary":"#a390ff","class.defaultLibrary":"#a390ff"},colors:{background:"#151515",foreground:"#e5e5e5",focusBorder:"#AD9CFF","selection.background":"#6f6f6f","scrollbar.shadow":"#0000007e","input.background":"#0F0E0E","input.foreground":"#999","button.background":"#edffa5","button.foreground":"#151515","button.hoverBackground":"#dcff50","textLink.foreground":"#e5e5e5","button.secondaryForeground":"#c5c5c5","button.secondaryBacground":"#2a2a2a","button.secondaryHoverBackground":"#373737","editor.lineHighlightBorder":"#ffffff00","activityBar.foreground":"#dedede","activityBar.background":"#151515","activityBar.inactiveForeground":"#999","activityBarBadge.foreground":"#151515","activityBarBadge.background":"#edffa5","activityBar.border":"#151515","actibityBar.activeBackground":"#151515","sideBar.background":"#151515","sideBar.foreground":"#999","sideBarSectionHeader.background":"#151515","sideBarSectionHeader.border":"#00000000","sideBarSectionHeader.foreground":"#e5e5e5","sideBarTitle.foreground":"#e5e5e5","sideBar.border":"#00000000","list.dropBackground":"#151515","list.focusForeground":"#808080","list.focusBackground":"#e5e5e51a","list.highlightForeground":"#e5e5e5","statusBar.background":"#151515","statusBar.foreground":"#808080","statusBar.border":"#00000000","statusBar.debuggingBackground":"#563300","statusBar.debuggingForeground":"#999","statusBar.noFolderBackground":"#5d3fe0","statusBar.noFolderForeground":"#e5e5e5","statusBarItem.remoteBackground":"#cef144","statusBarItem.remoteForeground":"#151515","tab.activeBackground":"#151515","tab.activeForeground":"#e5e5e5","tab.inactiveBackground":"#151515","tab.inactiveForeground":"#999","tab.hoverBackground":"#E5E5E51A","tab.border":"#151515","titleBar.activeBackground":"#151515","titleBar.activeForeground":"#808080","titleBar.border":"#00000000","titleBar.inactiveBackground":"#151515","menu.foreground":"#e5e5e5","menu.background":"#373737","menubar.selectionForeground":"#c5c5c5","menubar.selectionBackground":"#e5e5e51a","menu.selectionForeground":"#e5e5e5","menu.selectionBackground":"#e5e5e51a","menu.selectionBorder":"#00000000","menu.border":"#00000000","editor.background":"#151515","editorLineNumber.foreground":"#858585","editorLineNumber.activeForeground":"#c6c6c6","breadcrumb.background":"#151515","breadcrumb.foreground":"#999","breadcrumb.focusForeground":"#e5e5e5","editorGroupHeader.border":"#00000000","editorGroupHeader.tabsBackground":"#151515","scrollbarSlider.background":"#79797966","scrollbarSlider.hoverBackground":"#646464b3","scrollbarSlider.activeBackground":"#bfbfbf66","widget.shadow":"#0000005c","editorWidget.foreground":"#ccc","editorWidget.background":"#252526","pickerGroup.border":"#3f3f46","pickerGroup.foreground":"#3794ff","editorWidget.resizeBorder":"#5f5f5f","debugToolBar.background":"#333","debugToolBar.border":"#474747",errorForeground:"#f48771",warningForeground:"#F7CC66","editorError.foreground":"#f48771","list.errorForeground":"#f48771","list.warningForeground":"#F7CC66","editorWarning.foreground":"#F7CC66","gitDecoration.deletedResourceForeground":"#C54444","gitDecoration.untrackedResourceForeground":"#9FE7A0","gitDecoration.conflictingResourceForeground":"#ED6C6C","gitDecoration.ignoredResourceForeground":"#585858","gitDecoration.modifiedResourceForeground":"#DD763C"},tokenColors:[{name:"string",scope:["string"],settings:{foreground:"#BFD084"}},{name:"punctuation.definition.string",scope:["punctuation.definition.string"],settings:{foreground:"#BFD084"}},{name:"constant.character.escape",scope:["constant.character.escape"],settings:{foreground:"#BFD084"}},{name:"text.html constant.character.entity.named",scope:["text.html constant.character.entity.named"],settings:{foreground:"#BFD084"}},{name:"text.html.derivative",scope:["text.html.derivative"],settings:{foreground:"#E5E5E5"}},{name:"punctuation.definition.entity.html",scope:["punctuation.definition.entity.html"],settings:{foreground:"#BFD084"}},{name:"template.expression.begin",scope:["template.expression.begin"],settings:{foreground:"#7AD9FB"}},{name:"template.expression.end",scope:["template.expression.end"],settings:{foreground:"#7AD9FB"}},{name:"punctuation.definition.template-expression.begin",scope:["punctuation.definition.template-expression.begin"],settings:{foreground:"#7AD9FB"}},{name:"punctuation.definition.template-expression.end",scope:["punctuation.definition.template-expression.end"],settings:{foreground:"#7AD9FB"}},{name:"constant",scope:["constant"],settings:{foreground:"#7AD9FB"}},{name:"keyword",scope:["keyword"],settings:{foreground:"#A390FF"}},{name:"modifier",scope:["modifier"],settings:{foreground:"#A390FF"}},{name:"storage",scope:["storage"],settings:{foreground:"#A390FF"}},{name:"punctuation.definition.block",scope:["punctuation.definition.block"],settings:{foreground:"#86897A"}},{name:"punctuation.definition.parameters",scope:["punctuation.definition.parameters"],settings:{foreground:"#86897A"}},{name:"meta.brace.round",scope:["meta.brace.round"],settings:{foreground:"#86897A"}},{name:"meta.jsx.children",scope:["meta.jsx.children"],settings:{foreground:"#e5e5e5"}},{name:"punctuation.accessor",scope:["punctuation.accessor"],settings:{foreground:"#86897A"}},{name:"variable.other",scope:["variable.other"],settings:{foreground:"#ffffff"}},{name:"variable.parameter",scope:["variable.parameter"],settings:{foreground:"#ffffff"}},{name:"meta.embedded",scope:["meta.embedded"],settings:{foreground:"#E5E5E5"}},{name:"source.groovy.embedded",scope:["source.groovy.embedded"],settings:{foreground:"#E5E5E5"}},{name:"meta.template.expression",scope:["meta.template.expression"],settings:{foreground:"#E5E5E5"}},{name:"comment",scope:["comment"],settings:{foreground:"#6f6f6f"}},{name:"docblock",scope:["docblock"],settings:{foreground:"#6f6f6f"}},{name:"meta.function-call",scope:["meta.function-call"],settings:{foreground:"#CDF861"}},{name:"entity.name.type.class",scope:["meta.class entity.name.type.class"],settings:{foreground:"#ffffff",fontStyle:"underline"}},{name:"entity.name.type.module",scope:["meta.class entity.name.type.module"],settings:{foreground:"#CABEFF"}},{name:"meta.type.annotation",scope:["meta.class meta.type.annotation","meta.class support.type.primitive","meta.interface support.type.primitive","meta.type.annotation support.type.primitive"],settings:{foreground:"#A390FF"}},{name:"meta.type.annotation entity.name.type",scope:["meta.type.annotation entity.name.type"],settings:{foreground:"#CABEFF"}},{name:"variable.object.property",scope:["variable.object.property"],settings:{foreground:"#ffffff"}},{name:"entity.name.function",scope:["entity.name.function"],settings:{foreground:"#CDF861"}},{name:"meta.definition.variable",scope:["meta.definition.variable"],settings:{foreground:"#ffffff"}},{name:"modifier",scope:["modifier"],settings:{foreground:"#A390FF"}},{name:"variable.language.this",scope:["variable.language.this"],settings:{foreground:"#A390FF"}},{name:"support.type.object",scope:["support.type.object"],settings:{foreground:"#A390FF"}},{name:"support.module",scope:["support.module"],settings:{foreground:"#7AD9FB",fontStyle:"italic"}},{name:"support.node",scope:["support.node"],settings:{foreground:"#7AD9FB",fontStyle:"italic"}},{name:"support.type.ts",scope:["support.type.ts"],settings:{foreground:"#7AD9FB"}},{name:"entity.other.inherited-class",scope:["entity.other.inherited-class"],settings:{foreground:"#7AD9FB"}},{name:"entity.name.type.interface",scope:["meta.interface entity.name.type.interface"],settings:{foreground:"#7AD9FB"}},{name:"keyword.operator",scope:["keyword.operator"],settings:{foreground:"#b3e8b4"}},{name:"storage.type.function.arrow",scope:["storage.type.function.arrow"],settings:{foreground:"#b3e8b4"}},{name:"variable.css",scope:["variable.css"],settings:{foreground:"#7AD9FB"}},{name:"source.css",scope:["source.css"],settings:{foreground:"#CDF861"}},{name:"entity.other.attribute-name",scope:["entity.other.attribute-name"],settings:{foreground:"#CDF861"}},{name:"entity.name.tag.css",scope:["entity.name.tag.css"],settings:{foreground:"#CDF861"}},{name:"entity.other.attribute-name.id",scope:["entity.other.attribute-name.id"],settings:{foreground:"#CDF861"}},{name:"entity.other.attribute-name.class",scope:["entity.other.attribute-name.class"],settings:{foreground:"#CDF861"}},{name:"source.css meta.selector.css",scope:["source.css meta.selector.css"],settings:{foreground:"#CDF861"}},{name:"support.type.property-name.css",scope:["support.type.property-name.css"],settings:{foreground:"#ffffff"}},{name:"support.function.css",scope:["support.function.css"],settings:{foreground:"#A390FF"}},{name:"support.constant.css",scope:["support.constant.css"],settings:{foreground:"#A390FF"}},{name:"keyword.css",scope:["keyword.css"],settings:{foreground:"#A390FF"}},{name:"constant.numeric.css",scope:["constant.numeric.css"],settings:{foreground:"#A390FF"}},{name:"constant.other.color.css",scope:["constant.other.color.css"],settings:{foreground:"#A390FF"}},{name:"punctuation.section",scope:["punctuation.section"],settings:{foreground:"#86897A"}},{name:"punctuation.separator",scope:["punctuation.separator"],settings:{foreground:"#86897A"}},{name:"punctuation.definition.entity.css",scope:["punctuation.definition.entity.css"],settings:{foreground:"#86897A"}},{name:"punctuation.terminator.rule.css",scope:["punctuation.terminator.rule.css"],settings:{foreground:"#E5E5E5"}},{name:"keyword.other.unit.css",scope:["source.css keyword.other.unit"],settings:{foreground:"#CABEFF"}},{name:"string.css",scope:["string.css"],settings:{foreground:"#CABEFF"}},{name:"punctuation.definition.string.css",scope:["punctuation.definition.string.css"],settings:{foreground:"#CABEFF"}},{name:"support.type.property-name",scope:["support.type.property-name"],settings:{foreground:"#ffffff"}},{name:"string.html",scope:["string.html"],settings:{foreground:"#CDF861"}},{name:"punctuation.definition.tag",scope:["punctuation.definition.tag"],settings:{foreground:"#86897A"}},{name:"entity.other.attribute-name",scope:["entity.other.attribute-name"],settings:{foreground:"#CABEFF"}},{name:"entity.name.tag",scope:["entity.name.tag"],settings:{foreground:"#A390FF"}},{name:"entity.name.tag.wildcard",scope:["entity.name.tag.wildcard"],settings:{foreground:"#CDF861"}},{name:"markup.markdown",scope:["markup.markdown"],settings:{foreground:"#ffffff"}},{name:"markup.heading.markdown",scope:["markup.heading.markdown"],settings:{foreground:"#b3e8b4"}},{name:"punctuation.definition.bold.markdown",scope:["punctuation.definition.bold.markdown"],settings:{foreground:"#b3e8b4"}},{name:"punctuation.definition.link.description",scope:["meta.paragraph.markdown punctuation.definition.link.description"],settings:{foreground:"#b3e8b4"}},{name:"punctuation.definition.raw.markdown",scope:["punctuation.definition.raw.markdown"],settings:{foreground:"#b3e8b4"}},{name:"meta.paragraph.markdown",scope:["meta.paragraph.markdown"],settings:{foreground:"#e5e5e5"}},{name:"text.html.markdown meta.attribute",scope:["text.html.markdown meta.attribute"],settings:{foreground:"#CABEFF"}},{name:"entity.name.section",scope:["entity.name.section"],settings:{foreground:"#ffffff"}},{name:"string.other",scope:["string.other"],settings:{foreground:"#ffffff"}},{name:"string.other.link",scope:["string.other.link"],settings:{foreground:"#ffffff"}},{name:"punctuation.definition.markdown",scope:["punctuation.definition.markdown"],settings:{foreground:"#b3e8b4"}},{name:"punctuation.definition.string",scope:["punctuation.definition.string"],settings:{foreground:"#b3e8b4"}},{name:"punctuation.definition.string.begin.shell",scope:["punctuation.definition.string.begin.shell"],settings:{foreground:"#b3e8b4"}},{name:"markup.underline.link",scope:["markup.underline.link"],settings:{foreground:"#BFD084"}},{name:"markup.inline.raw",scope:["markup.inline.raw"],settings:{foreground:"#86897A"}},{name:"vue variable.other.readwrite",scope:["text.html.vue variable.other.readwrite"],settings:{foreground:"#A390FF"}},{name:"vue meta.object-literal.key",scope:["text.html.vue meta.object-literal.key"],settings:{foreground:"#ffffff"}},{name:"vue entity.name.tag.css",scope:["text.html.vue entity.name.tag.css"],settings:{foreground:"#A390FF"}},{name:"vue entity.other.attribute-name",scope:["text.html.vue entity.other.attribute-name"],settings:{foreground:"#ffffff"}},{name:"vue constant.numeric.css",scope:["text.html.vue constant.numeric.css"],settings:{foreground:"#7AD9FB"}},{scope:["text.html.vue keyword.other.unit","text.html.vue support.constant.property-value","text.html.vue support.constant.color"],settings:{foreground:"#A390FF"}},{background:"#151515",token:""},{foreground:"#E5E5E5",token:""}]}))}var Re=Oe;function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=null,Ae=new a.Q5,Be=Ae.event;function Ie(e){Te=e,Ae.fire(e)}function Pe(){return(0,c.nullthrows)(Te,"Monaco has not been initialized")}var je={editorWorkerService:function(){return new Worker(new URL(n.p+n.u(9114),n.b))}};function Ue(){return(Ue=(0,o.Z)(s().mark((function e(t){var i,a,c,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new _(H),window.monacoRequire={toUrl:function(e){var t=Pe();if("vscode-oniguruma/../onig.wasm"===e)return"https://"+t.assetPaths.staticModulesPath+"/vscode-oniguruma@1.6.2/onig.wasm";throw new Error("Unknown module "+e)}},(0,h.Ml)(new me),a=function(){var e=(0,o.Z)(s().mark((function e(n,r,o){var i,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pe(),"file"!==(a=n.object.textEditorModel.uri).scheme){e.next=8;break}return c=a.path,u=i.pitcher.clients.fs.absoluteToRelativeWorkspacePath(c),e.abrupt("return",new Promise((function(e){var n=t.onDidAddTab((function(r){var o=t.getEditor(r);"code"===(null===o||void 0===o?void 0:o.type)?e(o.editor):e(void 0),n.dispose()}));i.openTab({type:"FILE",filepath:u,initialSelections:null!==r&&void 0!==r&&r.selection?[r.selection]:[]},null===r||void 0===r?void 0:r.pinned)})));case 8:console.warn("Unexpected editor#open request: ".concat(a.toString()));case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c=(0,p.Z)(a),e.next=7,(0,w.j2)(Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Me({},(0,v.Z)()),(0,f.Z)()),(0,l.ZP)(H.Uri.from({scheme:"file",path:Pe().pitcher.workspacePath}))),(0,E.Z)()),(0,h.ZP)()),(0,k.Z)()),(0,g.Z)()),(0,b.Z)()),(0,m.Z)()),(0,y.Z)()),(0,d.Z)()),c),{},(0,r.Z)({},w.SD.toString(),i)));case 7:return C=w.in.Warning,w.IO.get(w.VZ).setLevel(C),e.next=11,(0,u.j2)();case 11:return(0,l.Wr)(JSON.stringify({editor:(0,W.E)({wordWrap:!1,fonts:{mono:"Fira Code, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier, monospace"}})},null,2)),e.next=14,ve();case 14:return e.next=16,De();case 16:return Fe(),new Q,e.next=20,Promise.all([n.e(5229),n.e(9136)]).then(n.bind(n,59136));case 20:return new se,H.editor.setTheme(Re),e.abrupt("return",{monaco:H,modelService:i});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.MonacoEnvironment={getWorker:function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=je[n])){e.next=4;break}return o=r(),e.abrupt("return",o);case 4:throw new Error("Unimplemented worker ".concat(n," (").concat(t,")"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),createTrustedTypesPolicy:function(){}};var _e=null;function We(e){if(!Te)throw new Error("Need to call updateMonacoConfig(config) before calling this function");return _e||(_e=function(e){return Ue.apply(this,arguments)}(e)),_e}},25324:function(e,t,n){n.d(t,{g:function(){return l}});var r=n(62869),o=n(70233),i=n(20589),s=n(4908),a=n(55524),c=n(86362),u=n(41669);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var l=function(e){(0,s.Z)(n,e);var t=d(n);function n(e){var o;(0,r.Z)(this,n),o=t.call(this),(0,u.Z)((0,i.Z)(o),"model",void 0),(0,u.Z)((0,i.Z)(o),"modelService",void 0);var s=e.modelService;return o.modelService=s,o.model=e.model,o.addDisposable(o.model),o}return(0,o.Z)(n,[{key:"textEditorModel",get:function(){return this.model.object.textEditorModel}},{key:"textFileEditorModel",get:function(){return this.model.object}},{key:"updateContent",value:function(e){var t;null===(t=this.model.object.textEditorModel)||void 0===t||t.setValue(e)}},{key:"deltaDecorations",value:function(e,t,n){var r;return null===(r=this.model.object.textEditorModel)||void 0===r?void 0:r.deltaDecorations(e,t,n)}},{key:"resolve",value:function(){return this.model.object.resolve()}},{key:"getLinesContent",value:function(){var e;return null===(e=this.model.object.textEditorModel)||void 0===e?void 0:e.getLinesContent()}},{key:"createSnapshot",value:function(){var e;return null===(e=this.model.object.textEditorModel)||void 0===e?void 0:e.createSnapshot()}},{key:"isReadonly",value:function(){return this.model.object.isReadonly()}},{key:"isResolved",value:function(){return this.model.object.isResolved()}},{key:"getMode",value:function(){return this.model.object.getLanguageId()}}]),n}(n(24856).JT)},57034:function(e,t,n){n.d(t,{q:function(){return I}});var r=n(51221),o=n(62869),i=n(70233),s=n(20589),a=n(4908),c=n(55524),u=n(86362),d=n(41669),l=n(45934),f=n.n(l),p=n(24856),h=n(17990),m=n(4195),g=n(15791),v=n(52259),b=n(19932),y=n(88031),E=n(90205),k=n(79884),w=n(14411);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=new Map,Z={topLeft:"",topRight:"",bottomLeft:"",bottomRight:""};function O(e){var t=N.get(e);return t||(t={cursor:(0,k.L2)({backgroundColor:e,width:"2px !important",height:"100%"}).toString(),selection:(0,k.L2)({backgroundColor:"".concat(e,"1E"),minWidth:8}).toString(),secondarySelection:(0,k.L2)({backgroundColor:"".concat(e,"14"),minWidth:8}).toString()},N.set(e,t)),t}function F(e,t){if(t.range.startLineNumber===t.range.endLineNumber)return[t];for(var n=[],r=function(e,t){for(var n=(t=function(e){return e.startLineNumber>e.endLineNumber?{startLineNumber:e.endLineNumber,startColumn:e.endColumn,endLineNumber:e.startLineNumber,endColumn:e.startColumn}:e}(t)).startLineNumber,r=t.endLineNumber,o=[],i=n;i<=r;i++){var s=1;i===n&&(s=t.startColumn);var a=t.endColumn;i!==r&&(a=e.getLineMaxColumn(i)),o.push({line:i,startColumn:s,endColumn:a})}return o}(e,t.range),o=0;o<r.length;o++){var i=o>0?r[o-1]:null,s=E.K.notUndefined(r[o]),a=o<r.length-1?r[o+1]:null,c=[t.options.className];(!i||s.endColumn>i.endColumn)&&c.push(Z.topRight),(!i||s.startColumn<i.startColumn)&&c.push(Z.topLeft),(!a||s.startColumn<a.startColumn)&&c.push(Z.bottomLeft),(!a||s.endColumn>a.endColumn)&&c.push(Z.bottomRight),n.push({range:{startLineNumber:s.line,startColumn:s.startColumn,endLineNumber:s.line,endColumn:s.endColumn},options:S(S({},t.options),{},{className:c.join(" ")})})}return n}function R(e,t){var n=[];Z.topLeft||(Z.topLeft=(0,k.L2)({borderTopLeftRadius:3}).toString(),Z.topRight=(0,k.L2)({borderTopRightRadius:3}).toString(),Z.bottomLeft=(0,k.L2)({borderBottomLeftRadius:3}).toString(),Z.bottomRight=(0,k.L2)({borderBottomRightRadius:3}).toString());var r,o=x(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=O(i.color);s&&(i.range.startLineNumber===i.range.endLineNumber&&i.range.startColumn===i.range.endColumn||n.push.apply(n,(0,y.Z)(F(e,{range:i.range,options:{className:i.isSecondary?s.secondarySelection:s.selection,stickiness:3,hoverMessage:{value:i.username}}}))),n.push({range:{startLineNumber:i.range.endLineNumber,startColumn:i.range.endColumn,endLineNumber:i.range.endLineNumber,endColumn:i.range.endColumn},options:{className:s.cursor,stickiness:3,hoverMessage:{value:i.username}}}))}}catch(a){o.e(a)}finally{o.f()}return n}var L=n(25324);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var B=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},I=function(e){(0,a.Z)(n,e);var t=A(n);function n(e){var r;(0,o.Z)(this,n);var i=(0,g.gJ)().pitcher,a=e.file;if(r=t.call(this,{model:e.model,modelService:e.modelService}),(0,d.Z)((0,s.Z)(r),"file",void 0),(0,d.Z)((0,s.Z)(r),"mutex",(0,p.MW)()),(0,d.Z)((0,s.Z)(r),"_lastMonacoChangeEvent",void 0),(0,d.Z)((0,s.Z)(r),"syncState","SYNCED"),(0,d.Z)((0,s.Z)(r),"_lastReceivedOperationRevision",-1),(0,d.Z)((0,s.Z)(r),"selections",[]),(0,d.Z)((0,s.Z)(r),"clients",{}),(0,d.Z)((0,s.Z)(r),"clientId",""),(0,d.Z)((0,s.Z)(r),"documentSelections",{}),(0,d.Z)((0,s.Z)(r),"previousSelectionDecorations",[]),(0,d.Z)((0,s.Z)(r),"clientLineLocations",new Map),(0,d.Z)((0,s.Z)(r),"onSelectionsChangeEmitter",new p.Q5),(0,d.Z)((0,s.Z)(r),"onSelectionsChange",r.onSelectionsChangeEmitter.event),(0,d.Z)((0,s.Z)(r),"aiSelections",new Map),e.modelService.setModelByCuid(e.file.id,r.model.object),r.file=e.file,a.document){var c;a.document.onIncomingOperation((function(e){var t=e.operation,n=e.revision;return r.receiveOperation(t,n)}));var u=a.document.onError((function(e){var t;v.Z.error(e),(0,h.Tb)(e.error,{extra:T(T({},e.metadata),{},{lastMonacoChangeEvent:JSON.stringify(null!==(t=r._lastMonacoChangeEvent)&&void 0!==t?t:null,null,2)})})})),l=a.document.onSelection((function(e){r.handleDocumentSelectionsChange(B(e.clientSelections),e.reason)})),f=i.clients.client.onClientsUpdated((function(e){r.updateClients(e)}));r.setClients(i.clients.client.getClients(),i.currentClient),r.handleDocumentSelectionsChange(B(a.document.clientSelections),p.TF.file.SelectionsUpdateReason.SELECTION),r.onWillDispose((function(){u.dispose(),l.dispose(),f.dispose()}));var m=null===(c=r.model.object.textEditorModel)||void 0===c?void 0:c.onDidChangeContent((function(e){r.handleContentChanged(e)}));r.onWillDispose((function(){return null===m||void 0===m?void 0:m.dispose()}))}return r}return(0,i.Z)(n,[{key:"resetModel",value:function(){var e=(0,r.Z)(f().mark((function e(){var t,n,r,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDisposed){e.next=2;break}return e.abrupt("return");case 2:return this.syncState="NOTIFIED_OUT_OF_SYNC",e.next=5,(0,g.gJ)().showResetFileNotification(this.file.id);case 5:if(r=e.sent,this.syncState="SYNCING",!this.isDisposed&&r){e.next=10;break}return this.syncState="OUT_OF_SYNC",e.abrupt("return");case 10:if(void 0===(o=null===(t=this.model.object.textEditorModel)||void 0===t?void 0:t.getValue())){e.next=21;break}if("client"!==r){e.next=17;break}return e.next=15,this.file.resetFromClient(o);case 15:e.next=21;break;case 17:return e.next=19,this.file.resetFromServer();case 19:i=e.sent,o="string"===typeof i?i:o;case 21:if(!this.isDisposed){e.next=23;break}return e.abrupt("return");case 23:null===(n=this.model.object.textEditorModel)||void 0===n||n.setValue(o||""),this.syncState="SYNCED";case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isDirty",value:function(){return this.file.contentHash!==this.file.savedHash}},{key:"setSelections",value:function(e){this.selections=e}},{key:"save",value:function(){return this.isDisposed?Promise.resolve(!1):this.isDirty()&&this.file.document?this.file.save().then((function(){return!0})).catch((function(){return!1})):Promise.resolve(!1)}},{key:"handleContentChanged",value:function(e){var t=this;if(!this.isDisposed)switch(this.syncState){case"SYNCED":return this.mutex((function(){try{var n,r=t.file.content.toString(),o=(0,b.Uw)(r,e.changes,e.eol.length);if(o.isNoop())return;null===(n=t.file.document)||void 0===n||n.applyClient(o)}catch(i){(0,h.Tb)(i,{extra:{message:"MONACO unable to apply operation to OT document"}}),t.resetModel()}}));case"NOTIFIED_OUT_OF_SYNC":return;case"OUT_OF_SYNC":return void this.resetModel();case"SYNCING":return}}},{key:"receiveOperation",value:function(e,t){var n=this;if(!this.isDisposed&&!(this._lastReceivedOperationRevision>=t))switch(this._lastReceivedOperationRevision=t,this.syncState){case"SYNCED":try{this.mutex((function(){(0,b.WX)(e,n.textEditorModel,n.modelService.monaco.Selection)}))}catch(r){(0,h.Tb)(r,{extra:{message:"MONACO unable to apply operation to MODEL"}}),this.resetModel()}return;case"OUT_OF_SYNC":return void this.resetModel();case"SYNCING":case"NOTIFIED_OUT_OF_SYNC":return}}},{key:"setClients",value:function(e,t){this.clientId=t.clientId,this.updateClients(e)}},{key:"updateClients",value:function(e){this.clients=e.reduce((function(e,t){return e[t.clientId]=t,e}),{}),this.updateSelections()}},{key:"handleDocumentSelectionsChange",value:function(e,t){this.isDisposed||t!==p.TF.file.SelectionsUpdateReason.CONTENT_CHANGE&&(this.documentSelections=e||{},this.updateSelections())}},{key:"updateSelections",value:function(){if(!this.isDisposed){var e=this.textEditorModel;if(e){var t=function(e,t,n,r,o){var i,s=[],a=x(Object.keys(n).filter((function(e){return e!==o})));try{for(a.s();!(i=a.n()).done;){var c=i.value,u=E.K.notUndefined(n[c]),d=r[c];if(d)for(var l=0;l<d.length;l++){var f=E.K.notUndefined(d[l]);s.push({clientId:c,username:u.username,range:(0,w.lv)(e,t,f),isSecondary:l>0,color:u.color})}}}catch(p){a.e(p)}finally{a.f()}return s}(e.getLinesContent(),e.getEOL().length,this.clients,this.documentSelections,this.clientId);this.aiSelections.forEach((function(e){t.push({clientId:m.z.clientId,username:m.z.name,range:e,isSecondary:!1,color:m.z.color})}));var n=R(e,t);this.previousSelectionDecorations=e.deltaDecorations(this.previousSelectionDecorations,n),this.clientLineLocations=function(e){var t,n=new Map,r=x(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.range.endLineNumber,s=n.get(i)||new Set;s.add(o.clientId),n.set(i,s)}}catch(a){r.e(a)}finally{r.f()}return n}(t),this.onSelectionsChangeEmitter.fire()}}}},{key:"addAiSelection",value:function(e){var t=this;if(!this.isDisposed){var n=(0,p.QL)();return this.aiSelections.set(n,e),this.updateSelections(),function(){t.aiSelections.delete(n),t.updateSelections()}}}}]),n}(L.g)},19932:function(e,t,n){n.d(t,{fM:function(){return c},RM:function(){return u},Uw:function(){return d},WX:function(){return l}});var r=n(88031),o=n(24856),i=n(90205);function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){if(t<=0||e.length<1)return{lineNumber:1,column:1};for(var r=0,o=t;r<e.length;r++){var i=e[r],s=o-((null===i||void 0===i?void 0:i.length)||0)-n+1;if(s<=0)break;o=s-1}if(r===e.length){var a=e[r-1];o=((null===a||void 0===a?void 0:a.length)||0)-1,r=e.length-1}return{lineNumber:r+1,column:Math.max(1,o+1)}}function u(e,t,n){if(t.lineNumber<0||t.column<0||t.lineNumber>e.length)throw new Error("Invalid position");for(var r=0,o=0;o<t.lineNumber-1;o++){var i;r+=(null===(i=e[o])||void 0===i?void 0:i.length)||0,r+=n}return r+=t.column-1}function d(e,t,n){var i,a=(new o.ot.TextOperation).retain(e.length),c=s((0,r.Z)(t).reverse());try{for(c.s();!(i=c.n()).done;){var d=i.value,l=u(e.split(/\r\n|\r|\n/),{lineNumber:d.range.startLineNumber,column:d.range.startColumn},n),f=new o.ot.TextOperation;0!==l&&f.retain(l),d.rangeLength>0&&f.delete(d.rangeLength),d.text&&f.insert(d.text);var p=e.length-f.baseLength;p>0&&f.retain(p);var h=o.ot.TextOperation.transform(a,f)[1];a=a.compose(h)}}catch(m){c.e(m)}finally{c.f()}return a}function l(e,t,n){if(!e.isNoop()){var r=[],s=0,a=t.getValue(),u=t.getLinesContent();if(e.baseLength!==a.length)throw new Error("The base length of the operation doesn't match the length of the code");for(var d=t.getEOL().length,l=0;l<e.ops.length;l++){var f=i.K.notUndefined(e.ops[l]);if(o.ot.TextOperation.isRetain(f))s+=f;else if(o.ot.TextOperation.isInsert(f)){var p=f,h=c(u,s,d),m=h.lineNumber,g=h.column,v={startLineNumber:m,startColumn:g,endLineNumber:m,endColumn:g};/\n/.test(p)&&(d=/\r\n/.test(p)?2:1),r.push({range:v,text:p,forceMoveMarkers:!0})}else if(o.ot.TextOperation.isDelete(f)){var b=f,y=c(u,s,d),E=c(u,s-b,d),k={startLineNumber:y.lineNumber,startColumn:y.column,endLineNumber:E.lineNumber,endColumn:E.column};r.push({range:k,text:""}),s-=b}}if(d!==t.getEOL().length){var w=2===d?0:1;t.pushEOL(w)}var C=r.map((function(e){return new n(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),S=r.map((function(e){return{range:t.validateRange(e.range),text:e.text}}));t._commandManager.pushEditOperation(C,S,(function(){return[]}))}}},14411:function(e,t,n){n.d(t,{lv:function(){return o},p5:function(){return s}});var r=n(19932);function o(e,t,n){var o=(0,r.fM)(e,n.anchor,t),i=(0,r.fM)(e,n.head,t);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:i.lineNumber,endColumn:i.column}}function i(e,t){var n=e[t.lineNumber-1];if(null!=n)return n.length+1>=t.column?t:{lineNumber:t.lineNumber,column:n.length+1};var r=e[e.length-1];return{lineNumber:e.length,column:r?r.length+1:0}}function s(e,t,n){return t.map((function(t){var o,s,a=function(e,t,n){var o=i(e,{lineNumber:t.selectionStartLineNumber,column:t.selectionStartColumn}),s=(0,r.RM)(e,o,n),a=i(e,{lineNumber:t.positionLineNumber,column:t.positionColumn}),c=(0,r.RM)(e,a,n);return{selection:s===c?[]:[s,c],cursorPosition:c}}(e,t,n);return{anchor:null!==(o=a.selection[0])&&void 0!==o?o:a.cursorPosition,head:null!==(s=a.selection[1])&&void 0!==s?s:a.cursorPosition}}))}},90205:function(e,t,n){n.d(t,{K:function(){return r}});var r={notUndefined:function(e,t){if(void 0===e)throw new Error(t||"Value is undefined");return e}}}}]);
//# sourceMappingURL=7752-f571656a3389ce4e4c2d.js.map